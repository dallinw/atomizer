(this.webpackJsonpnetwork=this.webpackJsonpnetwork||[]).push([[0],{256:function(e,t,o){e.exports=o(467)},261:function(e,t,o){},418:function(e,t,o){},430:function(e,t,o){},467:function(e,t,o){"use strict";o.r(t);var n=o(0),a=o.n(n),r=o(34),i=o.n(r),l=(o(261),o(3)),c=o(1),s=o(246),u=o(13),d=o(476),b=function(e){var t=e.style,o=void 0===t?{}:t,n=e.fill,r=void 0===n?"#000":n,i=e.stroke,l=void 0===i?"none":i,c=e.width,s=void 0===c?"100%":c,u=e.strokeWidth,d=void 0===u?"0":u,b=e.className,m=void 0===b?"":b,h=e.height,p=void 0===h?"100%":h,f=e.viewBox,g=void 0===f?"0 0 32 32":f,w=e.path;return a.a.createElement("svg",{width:s,style:o,height:p,viewBox:g,className:m,xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},"string"===typeof w&&a.a.createElement("path",{d:w,fill:r,stroke:l,strokeWidth:d}),w&&Array.isArray(w)&&w.map((function(e,t){return a.a.createElement("path",{d:e,fill:r,stroke:l,key:t,strokeWidth:d})})),"object"===typeof w&&"string"===typeof w.path?a.a.createElement("path",{d:w.path,fill:r,stroke:l,strokeWidth:d}):w.path&&Array.isArray(w.path)&&w.map((function(e,t){return a.a.createElement("path",{d:e,fill:r,stroke:l,strokeWidth:d,key:t})})),w.rect&&w.rect.map((function(e,t){return a.a.createElement("rect",{fill:r,x:e.x,y:e.y,transform:e.transform,width:e.width,height:e.height,key:t})})),w.circle&&w.circle.map((function(e,t){return a.a.createElement("circle",{fill:r,cx:e.cx,cy:e.cy,r:e.r,key:t})})))},m={expandArrow:"m 3,10 5,-5 5,5 z",dot:"m256 128c-35.285156 0-64-28.714844-64-64s28.714844-64 64-64 64 28.714844 64 64-28.714844 64-64 64zm0-96c-17.644531 0-32 14.355469-32 32s14.355469 32 32 32 32-14.355469 32-32-14.355469-32-32-32zm0 0",info:"M 12 0 C 5.371094 0 0 5.371094 0 12 C 0 18.628906 5.371094 24 12 24 C 18.628906 24 24 18.628906 24 12 C 24 5.371094 18.628906 0 12 0 Z M 12 2 C 17.523438 2 22 6.476563 22 12 C 22 17.523438 17.523438 22 12 22 C 6.476563 22 2 17.523438 2 12 C 2 6.476563 6.476563 2 12 2 Z M 12 5.8125 C 11.816406 5.8125 11.664063 5.808594 11.5 5.84375 C 11.335938 5.878906 11.183594 5.96875 11.0625 6.0625 C 10.941406 6.15625 10.851563 6.285156 10.78125 6.4375 C 10.710938 6.589844 10.6875 6.769531 10.6875 7 C 10.6875 7.226563 10.710938 7.40625 10.78125 7.5625 C 10.851563 7.71875 10.941406 7.84375 11.0625 7.9375 C 11.183594 8.03125 11.335938 8.085938 11.5 8.125 C 11.664063 8.164063 11.816406 8.1875 12 8.1875 C 12.179688 8.1875 12.371094 8.164063 12.53125 8.125 C 12.691406 8.085938 12.816406 8.03125 12.9375 7.9375 C 13.058594 7.84375 13.148438 7.71875 13.21875 7.5625 C 13.289063 7.410156 13.34375 7.226563 13.34375 7 C 13.34375 6.769531 13.289063 6.589844 13.21875 6.4375 C 13.148438 6.285156 13.058594 6.15625 12.9375 6.0625 C 12.816406 5.96875 12.691406 5.878906 12.53125 5.84375 C 12.371094 5.808594 12.179688 5.8125 12 5.8125 Z M 10.78125 9.15625 L 10.78125 18.125 L 13.21875 18.125 L 13.21875 9.15625 Z",play:"M295.84,146.049l-256-144c-4.96-2.784-11.008-2.72-15.904,0.128C19.008,5.057,16,10.305,16,16.001v288 c0,5.696,3.008,10.944,7.936,13.824c2.496,1.44,5.28,2.176,8.064,2.176c2.688,0,5.408-0.672,7.84-2.048l256-144 c5.024-2.848,8.16-8.16,8.16-13.952S300.864,148.897,295.84,146.049z",stop:"M231.677,0H45.665C20.45,0,0,20.442,0,45.657v186.021c0,25.207,20.45,45.652,45.665,45.652h186.012 c25.223,0,45.653-20.445,45.653-45.652V45.657C277.338,20.434,256.899,0,231.677,0z",settings:"M47.16,21.221l-5.91-0.966c-0.346-1.186-0.819-2.326-1.411-3.405l3.45-4.917c0.279-0.397,0.231-0.938-0.112-1.282 l-3.889-3.887c-0.347-0.346-0.893-0.391-1.291-0.104l-4.843,3.481c-1.089-0.602-2.239-1.08-3.432-1.427l-1.031-5.886 C28.607,2.35,28.192,2,27.706,2h-5.5c-0.49,0-0.908,0.355-0.987,0.839l-0.956,5.854c-1.2,0.345-2.352,0.818-3.437,1.412l-4.83-3.45 c-0.399-0.285-0.942-0.239-1.289,0.106L6.82,10.648c-0.343,0.343-0.391,0.883-0.112,1.28l3.399,4.863 c-0.605,1.095-1.087,2.254-1.438,3.46l-5.831,0.971c-0.482,0.08-0.836,0.498-0.836,0.986v5.5c0,0.485,0.348,0.9,0.825,0.985 l5.831,1.034c0.349,1.203,0.831,2.362,1.438,3.46l-3.441,4.813c-0.284,0.397-0.239,0.942,0.106,1.289l3.888,3.891 c0.343,0.343,0.884,0.391,1.281,0.112l4.87-3.411c1.093,0.601,2.248,1.078,3.445,1.424l0.976,5.861C21.3,47.647,21.717,48,22.206,48 h5.5c0.485,0,0.9-0.348,0.984-0.825l1.045-5.89c1.199-0.353,2.348-0.833,3.43-1.435l4.905,3.441 c0.398,0.281,0.938,0.232,1.282-0.111l3.888-3.891c0.346-0.347,0.391-0.894,0.104-1.292l-3.498-4.857 c0.593-1.08,1.064-2.222,1.407-3.408l5.918-1.039c0.479-0.084,0.827-0.5,0.827-0.985v-5.5C47.999,21.718,47.644,21.3,47.16,21.221z M25,32c-3.866,0-7-3.134-7-7c0-3.866,3.134-7,7-7s7,3.134,7,7C32,28.866,28.866,32,25,32z",pause:["m158 0h71c4.417969 0 8 3.582031 8 8v311c0 4.417969-3.582031 8-8 8h-71c-4.417969 0-8-3.582031-8-8v-311c0-4.417969 3.582031-8 8-8zm0 0","m8 0h71c4.417969 0 8 3.582031 8 8v311c0 4.417969-3.582031 8-8 8h-71c-4.417969 0-8-3.582031-8-8v-311c0-4.417969 3.582031-8 8-8zm0 0"],addNode:["m256 512c-141.164062 0-256-114.835938-256-256s114.835938-256 256-256 256 114.835938 256 256-114.835938 256-256 256zm0-480c-123.519531 0-224 100.480469-224 224s100.480469 224 224 224 224-100.480469 224-224-100.480469-224-224-224zm0 0","m368 272h-224c-8.832031 0-16-7.167969-16-16s7.167969-16 16-16h224c8.832031 0 16 7.167969 16 16s-7.167969 16-16 16zm0 0","m256 384c-8.832031 0-16-7.167969-16-16v-224c0-8.832031 7.167969-16 16-16s16 7.167969 16 16v224c0 8.832031-7.167969 16-16 16zm0 0"],addEdge:["m389.332031 160c-44.09375 0-80-35.882812-80-80s35.90625-80 80-80c44.097657 0 80 35.882812 80 80s-35.902343 80-80 80zm0-128c-26.453125 0-48 21.523438-48 48s21.546875 48 48 48 48-21.523438 48-48-21.546875-48-48-48zm0 0","m389.332031 512c-44.09375 0-80-35.882812-80-80s35.90625-80 80-80c44.097657 0 80 35.882812 80 80s-35.902343 80-80 80zm0-128c-26.453125 0-48 21.523438-48 48s21.546875 48 48 48 48-21.523438 48-48-21.546875-48-48-48zm0 0","m80 336c-44.097656 0-80-35.882812-80-80s35.902344-80 80-80 80 35.882812 80 80-35.902344 80-80 80zm0-128c-26.453125 0-48 21.523438-48 48s21.546875 48 48 48 48-21.523438 48-48-21.546875-48-48-48zm0 0","m135.703125 240.425781c-5.570313 0-10.988281-2.902343-13.910156-8.0625-4.375-7.679687-1.707031-17.453125 5.972656-21.824219l197.953125-112.855468c7.65625-4.414063 17.449219-1.726563 21.800781 5.976562 4.375 7.679688 1.707031 17.449219-5.972656 21.824219l-197.953125 112.851563c-2.496094 1.40625-5.203125 2.089843-7.890625 2.089843zm0 0","m333.632812 416.425781c-2.6875 0-5.398437-.683593-7.894531-2.109375l-197.953125-112.855468c-7.679687-4.371094-10.34375-14.144532-5.972656-21.824219 4.351562-7.699219 14.125-10.367188 21.804688-5.972657l197.949218 112.851563c7.679688 4.375 10.347656 14.144531 5.976563 21.824219-2.945313 5.183594-8.363281 8.085937-13.910157 8.085937zm0 0"],fit:"m13.464 36.8c-1.05-.507-2.222-.8-3.464-.8-4.411 0-8 3.589-8 8s3.589 8 8 8c2.768 0 5.211-1.414 6.648-3.557l7.557 3.783c-.13.571-.205 1.164-.205 1.774 0 4.411 3.589 8 8 8s8-3.589 8-8c0-1.658-.507-3.199-1.375-4.478l10.619-11.103c1.332.988 2.974 1.581 4.756 1.581 4.411 0 8-3.589 8-8s-3.589-8-8-8c-1.846 0-3.542.634-4.898 1.688l-10.79-10.79c1.054-1.356 1.688-3.052 1.688-4.898 0-4.411-3.589-8-8-8s-8 3.589-8 8c0 .608.074 1.199.204 1.769l-7.092 2.584c-1.33-2.581-4.015-4.353-7.112-4.353-4.411 0-8 3.589-8 8s3.589 8 8 8c1.138 0 2.219-.242 3.2-.673l3.681 6.195zm-3.464 13.2c-3.309 0-6-2.691-6-6s2.691-6 6-6 6 2.691 6 6-2.691 6-6 6zm7.539-3.349c.293-.831.461-1.721.461-2.651 0-2.453-1.112-4.649-2.855-6.117l2.876-4.442 8.671 14.591c-.73.65-1.341 1.428-1.794 2.303zm14.461-28.651c1.846 0 3.542-.634 4.898-1.688l10.791 10.791c-.647.832-1.131 1.793-1.41 2.839l-6.282-.864c-.001-.026.003-.052.003-.078 0-4.411-3.589-8-8-8-2.768 0-5.212 1.414-6.648 3.557l-1.193-.596 4.378-6.761c1.049.507 2.221.8 3.463.8zm1 28.069v-9.139c3.25-.408 5.894-2.77 6.722-5.872l6.282.864c0 .026-.004.052-.004.078 0 1.91.674 3.663 1.795 5.04l-10.5 10.979c-1.177-1.043-2.658-1.744-4.295-1.95zm-1-23.069c3.309 0 6 2.691 6 6s-2.691 6-6 6-6-2.691-6-6 2.691-6 6-6zm-7.539 3.349c-.293.831-.461 1.721-.461 2.651 0 4.072 3.06 7.436 7 7.931v9.139c-.948.119-1.843.403-2.658.824l-9.108-15.327 3.831-5.916zm7.539 33.651c-3.309 0-6-2.691-6-6s2.691-6 6-6 6 2.691 6 6-2.691 6-6 6zm22-34c3.309 0 6 2.691 6 6s-2.691 6-6 6-6-2.691-6-6 2.691-6 6-6zm-22-22c3.309 0 6 2.691 6 6s-2.691 6-6 6-6-2.691-6-6 2.691-6 6-6zm-7.112 9.647c.489.949 1.158 1.788 1.967 2.47l-4.496 6.944-4.82-2.41c.293-.831.461-1.721.461-2.651 0-.608-.074-1.199-.204-1.769zm-20.888 4.353c0-3.309 2.691-6 6-6s6 2.691 6 6-2.691 6-6 6-6-2.691-6-6zm10.915 6.299c.67-.524 1.258-1.148 1.733-1.856l4.617 2.308-3.171 4.897z",editEdge:{path:"M512.085,128.069c-0.133-35.346-28.894-63.892-64.24-63.759c-25.145,0.094-47.905,14.904-58.176,37.855l-54.64-9.136 l-5.344,31.568l54.912,9.168c2.137,23.81,17.366,44.444,39.488,53.504l-15.584,117.552 c-32.099,3.773-56.321,30.928-56.416,63.248v0.24l-184.464,48.64c-9.839-17.54-27.385-29.403-47.328-32L87.621,123.461 c15.543-6.19,28.053-18.207,34.864-33.488l49.456,8.256l5.264-31.552l-49.696-8.304C124.488,23.245,93.561-2.783,58.433,0.239 C23.305,3.26-2.723,34.186,0.299,69.314c2.577,29.962,25.715,54.062,55.546,57.859l32.704,261.44 c-32.869,12.999-48.978,50.182-35.979,83.051c12.999,32.869,50.182,48.978,83.051,35.979 c24.441-9.666,40.488-33.291,40.464-59.574v-0.24l184.464-48.64c17.182,30.788,56.069,41.818,86.857,24.637 c30.788-17.182,41.818-56.069,24.637-86.857c-7.105-12.732-18.355-22.648-31.878-28.1l15.584-117.552 C487.816,187.507,511.995,160.362,512.085,128.069z M64.085,96.069c-17.673,0-32-14.327-32-32s14.327-32,32-32s32,14.327,32,32 S81.758,96.069,64.085,96.069z M112.085,480.069c-17.673,0-32-14.327-32-32c0-17.673,14.327-32,32-32s32,14.327,32,32 C144.085,465.742,129.758,480.069,112.085,480.069z M448.085,368.069c0,17.673-14.327,32-32,32c-17.673,0-32-14.327-32-32 c0-17.673,14.327-32,32-32C433.758,336.069,448.085,350.396,448.085,368.069z M416.085,128.069c0-17.673,14.327-32,32-32 c17.673,0,32,14.327,32,32s-14.327,32-32,32C430.412,160.069,416.085,145.742,416.085,128.069z",rect:[{x:"269.047",y:"84.899",transform:"matrix(0.9864 0.1646 -0.1646 0.9864 20.4913 -45.5342)",width:"32",height:"32"},{x:"205.844",y:"74.36",transform:"matrix(0.9863 0.1648 -0.1648 0.9863 17.9183 -35.3141)",width:"32",height:"32"}]},organize:["M457.637,134.681c-29.976,0-54.363,24.387-54.363,54.363c0,10.933,3.255,21.114,8.831,29.647l-58.733,58.733c-8.534-5.576-18.715-8.831-29.648-8.831c-11.329,0-21.858,3.488-30.576,9.441l-59.338-59.347c5.575-8.533,8.828-18.713,8.828-29.644c0-29.976-24.387-54.363-54.363-54.363c-29.976,0-54.363,24.387-54.363,54.363c0,10.931,3.254,21.108,8.827,29.641L84.004,277.42c-8.532-5.574-18.711-8.827-29.641-8.827C24.387,268.593,0,292.981,0,322.957s24.387,54.363,54.363,54.363c29.976,0,54.363-24.387,54.363-54.363c0-10.933-3.255-21.114-8.831-29.648l58.733-58.733c8.534,5.576,18.715,8.831,29.648,8.831c10.932,0,21.113-3.255,29.646-8.831l59.666,59.674c-5.206,8.338-8.226,18.174-8.226,28.706c0,29.976,24.387,54.363,54.363,54.363s54.363-24.387,54.363-54.363c0-10.931-3.254-21.109-8.827-29.641l58.736-58.736c8.533,5.574,18.712,8.827,29.641,8.827c29.976,0,54.363-24.387,54.363-54.363C512.001,159.066,487.613,134.681,457.637,134.681z M54.363,354.849c-17.586,0-31.893-14.307-31.893-31.892c0-17.586,14.307-31.893,31.893-31.893c17.585,0,31.893,14.307,31.893,31.893C86.256,340.542,71.949,354.849,54.363,354.849z M188.276,220.936c-17.585,0-31.893-14.307-31.893-31.893c0-17.585,14.307-31.893,31.893-31.893c17.586,0,31.893,14.307,31.893,31.893C220.169,206.629,205.862,220.936,188.276,220.936z M323.724,354.849c-17.585,0-31.893-14.307-31.893-31.893s14.307-31.893,31.893-31.893c17.585,0,31.893,14.307,31.893,31.893C355.616,340.542,341.309,354.849,323.724,354.849z M457.637,220.936c-17.585,0-31.893-14.307-31.893-31.893c0-17.585,14.307-31.893,31.893-31.893c17.585,0,31.893,14.307,31.893,31.893C489.53,206.629,475.222,220.936,457.637,220.936z","M176.774,272.717c-4.388-4.387-11.501-4.387-15.889,0l-22.854,22.854c-4.387,4.387-4.387,11.501,0.001,15.889 c2.194,2.194,5.069,3.291,7.944,3.291s5.751-1.098,7.944-3.291l22.854-22.854C181.163,284.219,181.163,277.104,176.774,272.717z","M373.962,200.939c-4.388-4.387-11.5-4.387-15.89,0.001l-22.854,22.854c-4.387,4.387-4.387,11.501,0,15.889 c2.195,2.193,5.07,3.29,7.945,3.29c2.876,0,5.75-1.098,7.944-3.291l22.854-22.854C378.349,212.44,378.349,205.326,373.962,200.939 z"],edit:"M 20.09375 0.25 C 19.5 0.246094 18.917969 0.457031 18.46875 0.90625 L 17.46875 1.9375 L 24.0625 8.5625 L 25.0625 7.53125 C 25.964844 6.628906 25.972656 5.164063 25.0625 4.25 L 21.75 0.9375 C 21.292969 0.480469 20.6875 0.253906 20.09375 0.25 Z M 16.34375 2.84375 L 14.78125 4.34375 L 21.65625 11.21875 L 23.25 9.75 Z M 13.78125 5.4375 L 2.96875 16.15625 C 2.71875 16.285156 2.539063 16.511719 2.46875 16.78125 L 0.15625 24.625 C 0.0507813 24.96875 0.144531 25.347656 0.398438 25.601563 C 0.652344 25.855469 1.03125 25.949219 1.375 25.84375 L 9.21875 23.53125 C 9.582031 23.476563 9.882813 23.222656 10 22.875 L 20.65625 12.3125 L 19.1875 10.84375 L 8.25 21.8125 L 3.84375 23.09375 L 2.90625 22.15625 L 4.25 17.5625 L 15.09375 6.75 Z M 16.15625 7.84375 L 5.1875 18.84375 L 6.78125 19.1875 L 7 20.65625 L 18 9.6875 Z",delete:"M 9.15625 6.3125 L 6.3125 9.15625 L 22.15625 25 L 6.21875 40.96875 L 9.03125 43.78125 L 25 27.84375 L 40.9375 43.78125 L 43.78125 40.9375 L 27.84375 25 L 43.6875 9.15625 L 40.84375 6.3125 L 25 22.15625 Z",pointer:"M 6 0 L 20.359375 13.449219 L 14.492188 13.980469 L 13.429688 14.078125 L 13.871094 15.050781 L 17.429688 22.847656 L 14.804688 24 L 11.410156 16.121094 L 10.984375 15.128906 L 10.195313 15.867188 L 6.027344 19.777344 L 6 0",selectAll:"M 5 0 C 2.2545455 0 0 2.2545455 0 5 L 0 17 C 0 19.745455 2.2545455 22 5 22 L 17 22 C 19.745455 22 22 19.745455 22 17 L 22 5 C 22 2.2545455 19.745455 0 17 0 L 5 0 z M 5 2 L 17 2 C 18.654545 2 20 3.3454545 20 5 L 20 17 C 20 18.654545 18.654545 20 17 20 L 5 20 C 3.3454545 20 2 18.654545 2 17 L 2 5 C 2 3.3454545 3.3454545 2 5 2 z M 24 5.0253906 L 24 21 C 24 22.654 22.654 24 21 24 L 5.0253906 24 C 5.9383906 25.207 7.373 26 9 26 L 21 26 C 23.757 26 26 23.757 26 21 L 26 9 C 26 7.373 25.207 5.9383906 24 5.0253906 z M 15.173828 6.0058594 C 15.047953 6.0288594 14.932016 6.1013437 14.853516 6.2148438 L 10.072266 13.306641 L 7.9121094 11.146484 C 7.7171094 10.951484 7.4000781 10.951484 7.2050781 11.146484 L 6.1464844 12.207031 C 5.9514844 12.402031 5.9514844 12.719062 6.1464844 12.914062 L 9.3652344 16.134766 C 9.6012344 16.369766 9.92 16.5 10.25 16.5 C 10.287 16.5 10.324328 16.498141 10.361328 16.494141 C 10.730328 16.460141 11.067344 16.265937 11.277344 15.960938 L 16.910156 7.6347656 C 17.067156 7.4077656 17.010203 7.0964531 16.783203 6.9394531 L 15.548828 6.0878906 C 15.434828 6.0093906 15.299703 5.9828594 15.173828 6.0058594 z",selectMultiple:["M160.003,21.333h-42.667c-5.888,0-10.667,4.779-10.667,10.667s4.779,10.667,10.667,10.667h42.667 c5.909,0,10.667-4.779,10.667-10.667S165.913,21.333,160.003,21.333z","M288.003,21.333h-42.667c-5.888,0-10.667,4.779-10.667,10.667s4.779,10.667,10.667,10.667h42.667 c5.909,0,10.667-4.779,10.667-10.667S293.913,21.333,288.003,21.333z","M160.003,352h-42.667c-5.888,0-10.667,4.779-10.667,10.667s4.779,10.667,10.667,10.667h42.667 c5.909,0,10.667-4.779,10.667-10.667S165.913,352,160.003,352z","M288.003,352h-42.667c-5.888,0-10.667,4.779-10.667,10.667s4.779,10.667,10.667,10.667h42.667 c5.888,0,10.667-4.779,10.667-10.667S293.913,352,288.003,352z","M32.003,234.667c-5.909,0-10.667,4.779-10.667,10.667V288c0,5.888,4.779,10.667,10.667,10.667S42.67,293.888,42.67,288 v-42.667C42.67,239.445,37.913,234.667,32.003,234.667z","M32.003,106.667c-5.909,0-10.667,4.779-10.667,10.667V160c0,5.888,4.779,10.667,10.667,10.667 c5.909,0,10.667-4.779,10.667-10.667v-42.667C42.67,111.445,37.913,106.667,32.003,106.667z","M373.337,234.667c-5.888,0-10.667,4.779-10.667,10.667V288c0,5.888,4.779,10.667,10.667,10.667 c5.888,0,10.667-4.779,10.667-10.667v-42.667C384.003,239.445,379.246,234.667,373.337,234.667z","M373.337,106.667c-5.909,0-10.667,4.779-10.667,10.667V160c0,5.888,4.779,10.667,10.667,10.667 c5.888,0,10.667-4.779,10.667-10.667v-42.667C384.003,111.445,379.246,106.667,373.337,106.667z","M394.67,0h-42.667c-5.888,0-10.667,4.779-10.667,10.667v42.667c0,5.888,4.779,10.667,10.667,10.667h42.667 c5.909,0,10.667-4.779,10.667-10.667V10.667C405.337,4.779,400.579,0,394.67,0z","M53.337,0H10.67C4.782,0,0.003,4.779,0.003,10.667v42.667C0.003,59.221,4.782,64,10.67,64h42.667 c5.909,0,10.667-4.779,10.667-10.667V10.667C64.003,4.779,59.246,0,53.337,0z","M53.337,330.667H10.67c-5.888,0-10.667,4.779-10.667,10.667V384c0,5.888,4.779,10.667,10.667,10.667h42.667 c5.909,0,10.667-4.779,10.667-10.667v-42.667C64.003,335.445,59.246,330.667,53.337,330.667z","M506.521,385.344l-192-106.667c-3.968-2.197-8.875-1.664-12.224,1.323c-3.392,2.987-4.544,7.765-2.859,11.968 l85.333,213.333c1.6,4.011,5.461,6.656,9.771,6.699c0.043,0,0.085,0,0.128,0c4.267,0,8.128-2.539,9.813-6.464l30.315-70.741 l70.741-30.315c3.733-1.6,6.229-5.205,6.443-9.259C512.195,391.168,510.062,387.328,506.521,385.344z"],save:["M506.513,124.12L387.879,5.486c-0.001-0.001-0.003-0.003-0.005-0.004C384.467,2.076,379.697,0,374.634,0 c-15.018,0-341.6,0-355.902,0C8.387,0,0,8.387,0,18.732v474.537C0,503.613,8.387,512,18.732,512c22.563,0,452.353,0,474.537,0 c10.345,0,18.732-8.387,18.732-18.732V137.366C512,132.398,510.027,127.634,506.513,124.12z M156.098,37.463h199.805v110.823 H156.098V37.463z M400.45,474.537h-288.9V316.935h288.9V474.537z M474.537,474.537h-36.623V298.204 c0-10.345-8.387-18.732-18.732-18.732H92.818c-10.345,0-18.732,8.387-18.732,18.732v176.333H37.463V37.463h81.171v129.555 c0,10.345,8.387,18.732,18.732,18.732h237.268c10.345,0,18.732-8.387,18.732-18.732V63.954l81.171,81.171V474.537z","M309.514,55.015c-10.345,0-18.732,8.387-18.732,18.732v38.256c0,10.346,8.386,18.732,18.732,18.732 c10.345,0,18.732-8.387,18.732-18.732V73.747C328.246,63.402,319.859,55.015,309.514,55.015z"],saveAs:["M14.325,15.123l-1.621-3.541c-0.107-0.256-0.054-0.543,0.137-0.736   c0.133-0.13,0.3-0.199,0.477-0.199h0.116l2.964,1.307L16.49,12.1l0.426,0.186V4.831c0-0.047,0.002-0.373-0.365-0.877l-1.205-2.063   c-0.157-0.196-0.393-0.161-0.393-0.161H0.541C0.242,1.73,0,1.972,0,2.271v15.83c0,0.3,0.242,0.542,0.541,0.542h15.831   c0.299,0,0.541-0.242,0.541-0.542v-0.747l-2.408-2.409L14.325,15.123z M2.84,2.833h10.868v7.054H2.84V2.833z M8.878,16.325   c-1.447,0-2.62-1.174-2.62-2.621c0-1.446,1.173-2.619,2.62-2.619s2.621,1.173,2.621,2.619   C11.499,15.151,10.327,16.325,8.878,16.325z M3.755,3.62v0.52v4.644v0.354h0.582h8.326V3.62H4.336H3.755z M7.119,8.784H4.336V4.139   h2.783V8.784z M8.896,11.791c-1.056,0-1.912,0.854-1.912,1.91S7.84,15.61,8.896,15.61c1.054,0,1.909-0.854,1.909-1.909   S9.95,11.791,8.896,11.791z M8.896,14.563c-0.477,0-0.862-0.385-0.862-0.861c0-0.475,0.386-0.86,0.862-0.86s0.86,0.387,0.86,0.86   C9.756,14.178,9.372,14.563,8.896,14.563z M14.836,14.076l3.186,3.186l-0.227,0.228l-3.186-3.186L14.836,14.076z M18.315,16.969   l-3.184-3.185l0.575-0.575l3.185,3.185L18.315,16.969z M19.182,16.102l-3.185-3.185l0.286-0.286l3.184,3.186L19.182,16.102z    M14.39,14.082l-0.71-1.625l0.756-0.756l1.627,0.709L14.39,14.082z M14.193,11.58c0.007,0.041-0.006,0.082-0.034,0.109l-0.488,0.49   c-0.028,0.027-0.069,0.04-0.109,0.033c-0.041-0.008-0.074-0.034-0.091-0.072l-0.38-0.867c-0.021-0.047-0.01-0.102,0.025-0.137   c0.035-0.036,0.092-0.047,0.137-0.026l0.869,0.38C14.159,11.506,14.185,11.539,14.193,11.58z M20.334,16.859l-1.496,1.497   c-0.049,0.049-0.127,0.049-0.176,0l-0.597-0.597c-0.049-0.048-0.049-0.126,0-0.175l1.498-1.496c0.047-0.049,0.126-0.049,0.174,0   l0.597,0.597C20.383,16.733,20.383,16.811,20.334,16.859z"],newFile:"M 7 2 L 7 48 L 43 48 L 43 14.59375 L 42.71875 14.28125 L 30.71875 2.28125 L 30.40625 2 Z M 9 4 L 29 4 L 29 16 L 41 16 L 41 46 L 9 46 Z M 31 5.4375 L 39.5625 14 L 31 14 Z",load:"M 5 4 C 3.3544268 4 2 5.3555411 2 7 L 2 16 L 2 26 L 2 43 C 2 44.644459 3.3544268 46 5 46 L 45 46 C 46.645063 46 48 44.645063 48 43 L 48 26 L 48 16 L 48 11 C 48 9.3549372 46.645063 8 45 8 L 18 8 C 18.08657 8 17.96899 8.000364 17.724609 7.71875 C 17.480227 7.437136 17.179419 6.9699412 16.865234 6.46875 C 16.55105 5.9675588 16.221777 5.4327899 15.806641 4.9628906 C 15.391504 4.4929914 14.818754 4 14 4 L 5 4 z M 5 6 L 14 6 C 13.93925 6 14.06114 6.00701 14.308594 6.2871094 C 14.556051 6.5672101 14.857231 7.0324412 15.169922 7.53125 C 15.482613 8.0300588 15.806429 8.562864 16.212891 9.03125 C 16.619352 9.499636 17.178927 10 18 10 L 45 10 C 45.562937 10 46 10.437063 46 11 L 46 13.1875 C 45.685108 13.07394 45.351843 13 45 13 L 5 13 C 4.6481575 13 4.3148915 13.07394 4 13.1875 L 4 7 C 4 6.4364589 4.4355732 6 5 6 z M 5 15 L 45 15 C 45.56503 15 46 15.43497 46 16 L 46 26 L 46 43 C 46 43.562937 45.562937 44 45 44 L 5 44 C 4.4355732 44 4 43.563541 4 43 L 4 26 L 4 16 C 4 15.43497 4.4349698 15 5 15 z",beaker:{path:"M454.352,398.431L331,190.879V87.42c17.459-6.192,30-22.865,30-42.42c0-24.813-20.187-45-45-45H196c-24.813,0-45,20.187-45,45c0,19.555,12.541,36.228,30,42.42v103.459L57.659,398.413c-14.085,23.476-14.442,51.715-0.953,75.539C70.196,497.776,94.594,512,121.972,512h268.055c27.378,0,51.776-14.224,65.266-38.048C468.779,450.134,468.427,421.903,454.352,398.431z M196,30h120c8.271,0,15,6.729,15,15s-6.729,15-15,15H196c-8.271,0-15-6.729-15-15S187.729,30,196,30z M208.895,202.664c1.378-2.319,2.105-4.966,2.105-7.664V90h90v30h-15c-8.284,0-15,6.716-15,15s6.716,15,15,15h15v30h-15c-8.284,0-15,6.716-15,15s6.716,15,15,15h21.466l65.8,110.716C362.112,326.413,347.079,332,331,332c-34.968,0-64.739-25.95-65.036-26.213c0,0-0.001-0.001-0.002-0.001C264.139,304.162,227.422,272,181,272c-4.587,0-9.215,0.321-13.872,0.94L208.895,202.664z M429.187,459.171C421.094,473.466,406.454,482,390.027,482H121.972c-16.427,0-31.066-8.534-39.16-22.829c-8.093-14.295-7.88-31.238,0.604-45.377l61.501-103.482C157.353,304.799,169.477,302,181,302c34.968,0,64.74,25.951,65.006,26.186C247.551,329.566,284.39,362,331,362c22.25,0,42.237-7.287,57.631-15.43l39.953,67.224c0.011,0.018,0.021,0.036,0.032,0.054C437.067,427.933,437.281,444.876,429.187,459.171z",circle:[{cx:"165.88",cy:"377",r:"15"},{cx:"345.88",cy:"407",r:"15"},{cx:"255.88",cy:"437",r:"15"}]},wholeNote:"M82.5,10C37.009,10,0,42.523,0,82.5S37.009,155,82.5,155S165,122.477,165,82.5S127.991,10,82.5,10z M82.5,125 C53.551,125,30,105.935,30,82.5S53.551,40,82.5,40S135,59.065,135,82.5S111.449,125,82.5,125z",eighthNote:"M209.329,79.238C183.062,55.09,169.178,27.69,169.178,0h-30v173.645 c-6.239-2.564-13.111-3.921-20.305-3.921c-17.458,0-35.266,7.796-48.857,21.388c-25.344,25.343-28.516,63.407-7.072,84.853 c9.232,9.232,22.016,14.316,35.995,14.316c17.458,0,35.266-7.796,48.857-21.388c11.843-11.843,19.308-26.842,21.018-42.234 c0.244-2.198,0.354-4.379,0.354-6.537h0.01V80.106c5.808,7.304,12.425,14.394,19.848,21.218 c31.772,29.21,25.067,66.542,9.671,89.637l24.962,16.641C247.357,172.054,252.117,118.576,209.329,79.238z",quarterNote:"M205.367,0h-30v173.646c-6.239-2.566-13.111-3.922-20.305-3.922c-17.458,0-35.266,7.796-48.857,21.388 c-25.344,25.343-28.516,63.407-7.072,84.853c9.232,9.232,22.016,14.316,35.995,14.316c17.458,0,35.266-7.796,48.857-21.388 c11.843-11.843,19.308-26.842,21.018-42.234c0.244-2.198,0.355-4.38,0.355-6.537h0.01V0z",halfNote:"M205.367,0h-30v173.645c-6.239-2.565-13.111-3.921-20.305-3.921c-17.458,0-35.266,7.796-48.858,21.388 c-25.343,25.343-28.515,63.407-7.071,84.853c9.232,9.232,22.016,14.316,35.995,14.316c17.458,0,35.266-7.796,48.858-21.388 c11.843-11.843,19.307-26.842,21.018-42.233c0.244-2.199,0.364-6.538,0.364-6.538V0z M175.187,223.346 c-0.947,8.523-5.472,17.393-12.414,24.335c-7.89,7.89-18.225,12.601-27.645,12.601c-4.221,0-10.211-0.959-14.781-5.529 c-9.582-9.583-6.344-29.012,7.071-42.426c7.89-7.891,18.225-12.602,27.645-12.602c4.221,0,10.212,0.959,14.782,5.529 C175.602,211.012,175.663,219.061,175.187,223.346z",sixteenthNote:"M249.189,79.238C222.922,55.09,209.037,27.69,209.037,0h-30v253.364 c-6.239-2.564-13.111-3.921-20.305-3.921c-17.458,0-35.266,7.796-48.857,21.388c-25.344,25.343-28.516,63.407-7.072,84.853 c9.232,9.232,22.016,14.316,35.995,14.316c17.458,0,35.266-7.796,48.857-21.388c11.843-11.843,19.308-26.842,21.018-42.234 c0.244-2.198,0.355-4.379,0.355-6.537h0.01V159.826c5.808,7.304,12.425,14.393,19.848,21.217 c31.773,29.21,25.067,66.542,9.672,89.637l24.961,16.641c17.785-26.678,24.904-63.452,9.265-96.772 C287.573,156.367,285.576,112.691,249.189,79.238z M209.043,80.115c5.807,7.301,12.422,14.387,19.842,21.209 c19.909,18.303,24.707,39.794,21.73,58.974c-0.471-0.448-0.941-0.896-1.425-1.341C223.047,134.924,209.176,107.67,209.043,80.115z",triangleWave:"m41,373 153-231 306,462 306-462 153,231",sineWave:"M0 50  C 40 10, 60 10, 100 50 C 140 90, 160 90, 200 50",sawtoothWave:"M41,373 347,142V604l612-462v231",squareWave:"m41,373V142h306v462h306V142h306v231",lock:"M 12 0 C 8.699219 0 6 2.699219 6 6 L 6 11 L 3 11 L 3 24 L 21 24 L 21 11 L 18 11 L 18 6 C 18 2.699219 15.300781 0 12 0 Z M 12 2 C 14.21875 2 16 3.78125 16 6 L 16 11 L 8 11 L 8 6 C 8 3.78125 9.78125 2 12 2 Z",hamburger:"M 0 2 L 0 4 L 24 4 L 24 2 Z M 0 11 L 0 13 L 24 13 L 24 11 Z M 0 20 L 0 22 L 24 22 L 24 20 Z"},h=["#fafafa","#f4f4f4","#efefef","#e4e4e4","#dfdfdf","#dadada","#d4d4d4","#cfcfcf","#cacaca","#c4c4c4","#bfbfbf","#bababa","#b4b4b4","#afafaf","#aaaaaa","#a4a4a4","#9f9f9f","#9a9a9a","#949494","#8f8f8f","#8a8a8a","#848484","#7f7f7f","#7a7a7a","#747474","#6f6f6f","#6a6a6a","#646464","#5f5f5f","#5a5a5a","#545454","#4f4f4f","#4a4a4a","#444444","#3f3f3f","#3a3a3a","#343434","#2f2f2f","#2a2a2a","#242424","#1f1f1f","#1a1a1a","#121212"],p=Object(d.a)({loadingContainer:{zIndex:"9999",pointerEvents:"none",interactible:"false",position:"absolute",width:"100%",height:"100%",backgroundColor:"white",display:"flex",transition:"opacity 2s"},loading:{width:"400px",height:"400px",margin:"auto",transition:"opacity 0.5s"}}),f=function(e){var t=e.show,o=Object(n.useState)(0),r=Object(l.a)(o,2),i=r[0],c=r[1],s=Object(n.useState)(null),u=Object(l.a)(s,2),d=u[0],f=u[1],g=p();return Object(n.useEffect)((function(){var e,o=i,n=!0;t?(e=setInterval((function(){o<h.length&&o>=0&&c(o=n?o+2:o-2),0===o&&(n=!0),o===h.length-1&&(n=!1)}),50),f(e)):clearInterval(d)}),[t]),a.a.createElement("div",{className:g.loadingContainer,style:{opacity:t?"1.0":"0.0"}},a.a.createElement(b,{path:m.fit,className:g.loading,fill:h[i],viewBox:"0 0 68 68",style:{opacity:t?"1.0":"0.0"}}))},g=o(44),w=function(e,t,o){return{type:"SET_MODAL",payload:{component:e,func:t,global:o}}},y=function(e){return{type:"SET_HOTKEYS",payload:e}},x=function(e){return{type:"SET_LOGIN",payload:e}},v=function(e,t){return{type:"SET_FORM_FIELDS",username:e,email:t}},k=function(e,t){return{type:"SET_ITEM_TO_UPDATE",payload:e,value:t}},E={setNetwork:function(e){return{type:"SET_NETWORK",payload:e}},setDataSet:function(e){return{type:"SET_DATASET",payload:e}},setElementIndex:function(e,t){return{type:"SET_ELEMENT_INDEX",constraint:t,payload:e}},setModalVisible:function(e){return{type:"SET_MODAL_VISIBLE",payload:e}},setSelectedNodes:function(e){return{type:"SET_SELECTED_NODES",payload:e}},setTheme:function(e){return{type:"SET_THEME",payload:e}},fit:function(e){return{type:"FIT",payload:e}},addNodeFromClick:function(e){return{type:"ADD_NODE_CLICK",payload:e}},addNodeFromMenu:function(){return{type:"ADD_NODE_MENU"}},addEdge:function(e){return{type:"ADD_EDGE",dispatch:e}},defaultMode:function(){return{type:"DEFAULT_MODE"}},editEdge:function(){return{type:"EDIT_EDGE"}},deleteSelected:function(){return{type:"DELETE_SELECTED"}},delete:function(){return{type:"DELETE"}},toggleSelect:function(){return{type:"TOGGLE_SELECT"}},multiselect:function(e,t){return{type:"MULTISELECT",payload:{dragStart:e,event:t}}},filterSelection:function(e){return{type:"FILTER_SELECTION",payload:e}},selectAll:function(){return{type:"SELECT_ALL"}},organize:function(){return{type:"ORGANIZE"}},playOrPause:function(){return{type:"PLAY_OR_PAUSE"}},stop:function(){return{type:"STOP"}},setKey:function(e){return{type:"SET_KEY",payload:e}},setDisposition:function(e){return{type:"SET_DISPOSITION",payload:e}},setMasterVolume:function(e,t){return{type:"SET_MASTER_VOLUME",payload:e,scale:t}},setTempo:function(e){return{type:"SET_TEMPO",payload:e}},setLowPassFilterFrequency:function(e){return{type:"SET_LP_FILTER_FREQUENCY",payload:e}},setLowPassFilterQ:function(e){return{type:"SET_LP_FILTER_Q",payload:e}},setHighPassFilterFrequency:function(e){return{type:"SET_HP_FILTER_FREQUENCY",payload:e}},setHighPassFilterQ:function(e){return{type:"SET_HP_FILTER_Q",payload:e}},saveNetwork:function(){return{type:"SAVE_NETWORK"}},loadNetwork:function(e,t){return{type:"LOAD_NETWORK",name:e,payload:t}},sendToLab:function(){return{type:"SEND_TO_LAB"}},newNetwork:function(){return{type:"NEW_NETWORK"}},createNodeForElement:function(e){return{type:"CREATE_NODE_FOR_ELEMENT",payload:e}},setSoloed:function(){return{type:"SET_SOLOED"}},setMuted:function(){return{type:"SET_MUTED"}},isSomethingMutedOrSoloed:function(){return{type:"IS_SOMETHING_MUTED_OR_SOLOED"}},shouldUpdateNetwork:function(){return{type:"SHOULD_UPDATE_NETWORK"}},setShouldSaveNetwork:function(e){return{type:"SET_SHOULD_SAVE_NETWORK",payload:e}}},C=function(e,t){return{type:"SET_MENU_VISIBLE",payload:e,screenSize:t}},O=function(e){return{type:"SET_LAB_VISIBLE",payload:e}},j=function(e,t){return{type:"SET_SCREEN_DIMENSIONS",payload:{width:e,height:t}}},S=505,N=500,M=63,L={options:{interaction:{hover:!0,dragView:!0,zoomView:!0,multiselect:!0},edges:{color:{color:"darkGray",hover:"gray"},arrowStrikethrough:!1,width:1.5,selectionWidth:1,hoverWidth:.5,length:200,smooth:!1},physics:{enabled:!0,barnesHut:{avoidOverlap:.5,centralGravity:.1},minVelocity:-1,stabilization:{enabled:!0}},manipulation:{},nodes:{shape:"circle",borderWidth:1.5,color:{border:"black",background:"whitesmoke",highlight:{border:"black",background:"white"},hover:{border:"black",background:"white"}},font:{color:"black",size:18,face:"inconsolata",multi:"html"},widthConstraint:100},layout:{hierarchical:{enabled:!1,sortMethod:"hubsize"}},autoResize:!1,width:window.innerWidth>500?"3000px":window.innerWidth+"px",height:window.innerWidth>500?"2000px":window.innerHeight+"px"},defaultData:{nodes:[],edges:[]}},I={theme:"light",hotkeys:"true"},T=Object(d.a)({titleHeader:{fontSize:"20px",padding:"10px 20px 10px 20px",maxWidth:"100%",backgroundColor:function(e){return e.screenInfo.isMobile||e.labVisible&&e.isOnHome?e.theme&&e.theme.secondaryBackgroundSolid:"transparent"},color:function(e){return e.theme&&e.theme.text},zIndex:"2",position:"relative",verticalAlign:"bottom",transition:"opacity 4s, background-color 0.5s, border-color 0.5s, box-shadow 0.5s",display:function(e){return e.screenInfo.isMobile?"flex":"block"},boxSizing:"border-box",width:function(e){return e.screenInfo.isMobile?"100%":e.labVisible&&e.isOnHome?e.screenInfo.width-N+"px":"100%"},border:function(e){return e.labVisible&&e.isOnHome||e.screenInfo.isMobile?e.theme&&"3px solid ".concat(e.theme.text):"3px solid rgba(255, 255, 255, 0.0)"},boxShadow:function(e){return(e.labVisible&&e.isOnHome||e.screenInfo.isMobile)&&e.theme&&e.theme.boxShadow},alignItems:"flex-end"},floatRight:{float:"right"},settingsIcon:{margin:"0px 0px 0px 30px",width:"15px",height:"13px"},infoIcon:{margin:"0px 0px 0px 30px",width:"14px",height:"14px"},body:{width:"100%",height:"100%",backgroundColor:function(e){return e.theme&&e.theme.background},color:function(e){return e.theme&&e.theme.text},transition:"opacity 4s"},toolbarItem:{marginLeft:"10px",padding:"10px"},active:{backgroundColor:"rgba(100, 100, 100, 0.2)",color:function(e){return e.theme&&e.theme.text},boxShadow:function(e){return e.theme&&e.theme.boxShadowLight},transition:"1s"},hamburgerButton:{backgroundColor:"transparent",border:"none",padding:"0px",margin:"10px 10px 2px 0px",height:"25px"},hamburgerIcon:{width:"25px",height:"25px"},show:{position:"absolute",left:"50px",top:"5px",width:"300px",marginLeft:"0px",opacity:"1.0",transition:"1s"},hide:{width:"300px",position:"absolute",left:function(e){return e.screenInfo.width},top:"5px",opacity:"0.0",transition:"1s"},showBurger:{opacity:"1.0",transition:"1s"},hideBurger:{opacity:"0.0",transition:"1s"}}),F=o(35),A=o(43),D=o(253),B=o(247),V=o(108),z=o(254),G=o(248),_=o.n(G),P=o(17),R=o.n(P),W=o(30),q=o.n(W),H=o(116),Q=o(29),U=o.n(Q),K=function(e){function t(e){var o;Object(F.a)(this,t),o=Object(D.a)(this,Object(B.a)(t).call(this,e));var n=e.identifier;return o.updateGraph=o.updateGraph.bind(Object(V.a)(o)),o.state={identifier:void 0!==n?n:U.a.v4()},o.container=a.a.createRef(),o}return Object(z.a)(t,e),Object(A.a)(t,[{key:"componentDidMount",value:function(){this.edges=new H.a.DataSet,this.edges.add(this.props.graph.edges),this.nodes=new H.a.DataSet,this.nodes.add(this.props.graph.nodes),this.updateGraph()}},{key:"shouldComponentUpdate",value:function(e,t){var o=!R()(this.props.graph.nodes,e.graph.nodes),n=!R()(this.props.graph.edges,e.graph.edges),a=(R()(this.props.options,e.options),!R()(this.props.events,e.events));if(o){var r=function(e,t){return e.id===t.id},i=q()(this.props.graph.nodes,e.graph.nodes,r),l=q()(e.graph.nodes,this.props.graph.nodes,r),c=q()(q()(e.graph.nodes,this.props.graph.nodes,R.a),l);this.patchNodes({nodesRemoved:i,nodesAdded:l,nodesChanged:c})}if(n){var s=q()(this.props.graph.edges,e.graph.edges,R.a),u=q()(e.graph.edges,this.props.graph.edges,R.a),d=q()(q()(e.graph.edges,this.props.graph.edges,R.a),u);this.patchEdges({edgesRemoved:s,edgesAdded:u,edgesChanged:d})}if(a){for(var b=this.props.events||{},m=0,h=Object.keys(b);m<h.length;m++){var p=h[m];this.Network.off(p,b[p])}b=e.events||{};for(var f=0,g=Object.keys(b);f<g.length;f++){var w=g[f];this.Network.on(w,b[w])}}return!1}},{key:"componentDidUpdate",value:function(){this.updateGraph()}},{key:"patchEdges",value:function(e){var t=e.edgesRemoved,o=e.edgesAdded,n=e.edgesChanged;this.edges.remove(t),this.edges.add(o),this.edges.update(n)}},{key:"patchNodes",value:function(e){var t=e.nodesRemoved,o=e.nodesAdded,n=e.nodesChanged;this.nodes.remove(t),this.nodes.add(o),this.nodes.update(n)}},{key:"updateGraph",value:function(){var e=_()({physics:{stabilization:!1},autoResize:!1,edges:{smooth:!1,color:"#000000",width:.5,arrows:{to:{enabled:!0,scaleFactor:.5}}}},this.props.options);this.Network=new H.a.Network(this.container.current,Object.assign({},this.props.graph,{edges:this.edges,nodes:this.nodes}),e),this.props.getNetwork&&this.props.getNetwork(this.Network);for(var t=this.props.events||{},o=0,n=Object.keys(t);o<n.length;o++){var a=n[o];this.Network.on(a,t[a])}}},{key:"render",value:function(){var e=this.state.identifier,t=this.props.style;return a.a.createElement("div",{id:e,ref:this.container,style:t},e)}}]),t}(n.Component);K.defaultProps={graph:{},style:{width:"100%",height:"100%"}};var Z=K,Y=function(e,t,o){Object(n.useEffect)((function(){function n(o){e.current&&!e.current.contains(o.target)&&t()}return document.addEventListener("mousedown",n),!1===o&&document.removeEventListener("mousedown",n),function(){document.removeEventListener("mousedown",n)}}),[t,e,o])},X=Object(d.a)({background:{transition:"opacity 1s, visibility 0s",position:"absolute",top:"0px",left:"0px",width:"100%",height:"100%",backgroundColor:function(e){return e.theme&&e.theme.background},display:"flex",alignItems:"center",justifyContent:"center",zIndex:"9998",visibility:function(e){return e.show?"visible":"hidden"},opacity:function(e){return e.show?"0.8":"0"}},flexContainer:{backgroundColor:"transparent",position:"absolute",top:"0px",left:"0px",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",zIndex:"9998",visibility:function(e){return e.show?"visible":"hidden"},opacity:function(e){return e.show?"1.0":"0.0"}}}),J=function(){var e=Object(c.c)((function(e){return e.network.modalVisible})),t=Object(c.c)((function(e){return e.config.modal})),o=Object(c.c)((function(e){return e.network.theme})),n=a.a.createRef(),r=X({theme:o,show:e}),i=Object(c.b)(),l=function(){i(E.setModalVisible(!1))};return Y(n,l,e),a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:r.background}),a.a.createElement("div",{className:r.flexContainer},t&&t.component&&e&&a.a.createElement(t.component,{cancel:l,confirm:function(){t.global?i(t.func()):t.func&&t.func(),l()},ref:n})))},$=Object(d.a)({content:{width:"350px",height:"200px",backgroundColor:"transparent",opacity:"1",zIndex:"9999",margin:"auto",fontSize:"1.2em"},text:{height:"50px",backgroundColor:"transparent"},buttonContainer:{width:"140px",float:"right",display:"flex",justifyContent:"space-between"},wideButtonContainer:{width:"200px"},endButtonContainer:{justifyContent:"flex-end"},button:{width:"60px",height:"30px",border:function(e){return"1.5px solid ".concat(e.theme&&e.theme.text)},color:function(e){return e.theme&&e.theme.text},fontFamily:"inconsolata","&:hover":{opacity:"0.4"}},confirmButton:{marginLeft:"20px",fontWeight:"700",backgroundColor:function(e){return e.theme&&e.theme.background}},cancelButton:{fontWeight:"400",backgroundColor:function(e){return e.theme&&e.theme.secondary}},wideButton:{alignSelf:"center",width:"120px",backgroundColor:function(e){return e.theme&&e.theme.background}},input:{backgroundColor:"transparent",color:function(e){return e.theme&&e.theme.text},borderWidth:"0px 0px 2px 0px",borderColor:function(e){return e.theme&&e.theme.text},fontFamily:"Inconsolata",fontSize:"20px",display:"block",margin:"20px"},listParent:{margin:"30px",width:"90%",maxHeight:"200px",overflowY:"auto",border:function(e){return"3px solid ".concat(e.theme&&e.theme.text)}},listItem:{width:"100%",height:"45px",fontSize:"16px",padding:"0px 10px",textAlign:"left",background:function(e){return e.theme&&e.theme.secondaryBackground},borderBottom:function(e){return"1px solid ".concat(e.theme&&e.theme.text)},color:function(e){return e.theme&&e.theme.text},"&:hover":{opacity:"0.6"}}}),ee=a.a.forwardRef((function(e,t){var o=e.cancel,n=e.confirm,r=Object(c.c)((function(e){return e.network.selectedNodes})),i=Object(c.c)((function(e){return e.network.theme})),l=$({theme:i});return a.a.createElement("div",{className:l.content,ref:t},a.a.createElement("h3",null,"just checking"),a.a.createElement("p",{className:l.text},"are you sure you want to delete ".concat(r&&r.length," items?")),a.a.createElement("div",{className:l.buttonContainer},a.a.createElement("button",{className:"".concat(l.button," ").concat(l.cancelButton),onClick:o},"cancel"),a.a.createElement("button",{className:"".concat(l.button," ").concat(l.confirmButton),onClick:n},"confirm")))})),te=a.a.forwardRef((function(e,t){var o=e.cancel,n=e.confirm,r=Object(c.c)((function(e){return e.network.theme})),i=$({theme:r});return a.a.createElement("div",{className:i.content,ref:t},a.a.createElement("h3",null,"whoa there"),a.a.createElement("p",{className:i.text},"are you sure you want to delete your account? this action can't be undone."),a.a.createElement("div",{className:i.buttonContainer},a.a.createElement("button",{className:"".concat(i.button," ").concat(i.cancelButton),onClick:o},"cancel"),a.a.createElement("button",{className:"".concat(i.button," ").concat(i.confirmButton),onClick:n},"confirm")))})),oe=o(15),ne=o(2),ae=o(8),re=["whoa there","slow your roll","sorry partner","back it up","sorry"],ie=["kites are fun","piano concerto no. 2","pink in the night","carter son","carolyn's fingers","is this music?","running up that hill","supercut","that old feeling"],le=a.a.forwardRef((function(e,t){var o=e.cancel,r=e.confirm,i=Object(c.c)((function(e){return e.network.loadedNetworkName})),s=Object(n.useState)(i||ie[Math.floor(Math.random()*ie.length)]),u=Object(l.a)(s,2),d=u[0],b=u[1],m=Object(n.useState)(!1),h=Object(l.a)(m,2),p=h[0],f=h[1],w=Object(n.useState)(null),y=Object(l.a)(w,2),x=y[0],v=y[1],k=Object(c.c)((function(e){return e.network.networkToSave})),C=Object(c.c)((function(e){return e.network.shouldSaveNetwork})),O=Object(c.c)((function(e){return e.network.theme})),j=$({theme:O}),S=Object(c.c)((function(e){return e.firebase.profile})),N=S.isEmpty?"default":S.email;Object(ae.useFirestoreConnect)((function(){return[{collection:"networks",doc:N}]}));var M=Object(ae.useFirestore)(),L=Object(c.b)(),I=Object(n.useCallback)((function(){L(E.setShouldSaveNetwork(!1)),o()}),[o,L]),T=Object(n.useCallback)((function(){M.collection("networks").doc(N).get().then((function(e){if(e.exists){var t=Object(ne.a)({},e.data(),Object(oe.a)({},d,Object(ne.a)({},k,{name:d})));M.collection("networks").doc(N).set(t).then(r&&r()).then(I())}else{var o;M.collection("networks").doc(N).set((o={},Object(oe.a)(o,d,k),Object(oe.a)(o,"name",d),o)).then(r&&r()).then(I())}}))}),[r,M,N,d,k,I]);return C&&i&&(console.log("clicked save"),T()),k||S.isEmpty||L(E.saveNetwork()),Object(n.useEffect)((function(){var e={header:"name your bop",content:a.a.createElement("input",{className:j.input,type:"text",placeholder:d,onChange:function(e){return b(e.target.value)}}),confirm:function(){k&&d&&!S.isEmpty&&M.collection("networks").doc(N).get().then((function(t){t.exists&&t.data()[d]?v({header:"look out",content:a.a.createElement("p",{className:j.text},"a file named ",d," already exists. do you want to overwrite it?"),cancel:function(){return v(e)},buttonClass:j.wideButton,buttonContainerClass:j.wideButtonContainer,confirm:T,confirmText:"overwrite"}):T()}))},confirmText:"save"};v(S.isEmpty?{header:re[Math.floor(Math.random()*re.length)],content:a.a.createElement("p",{className:j.text},"you'll need to be logged in to do that"),confirmText:"log in or sign up",buttonClass:j.wideButton,buttonContainerClass:j.wideButtonContainer,confirm:function(){return f(!0)}}:e)}),[o,j,r,L,T,M,N,d,k,S]),a.a.createElement("div",{className:j.content,ref:t},x&&a.a.createElement(a.a.Fragment,null,a.a.createElement("h3",null,x.header),x.content,a.a.createElement("div",{className:"".concat(j.buttonContainer," ").concat(x.buttonContainerClass)},a.a.createElement("button",{className:"".concat(j.button," ").concat(j.cancelButton),onClick:I},"cancel"),a.a.createElement("button",{className:"".concat(j.button," ").concat(x.buttonClass?x.buttonClass:j.confirmButton),onClick:x.confirm},x.confirmText)),p&&a.a.createElement(g.a,{to:"/login"})))})),ce=o(166),se=o.n(ce),ue=o(250),de=o(65),be=function(){function e(){Object(F.a)(this,e)}return Object(A.a)(e,null,[{key:"unlockAudioContext",value:function(){if("suspended"===e.context.state){var t=document.body,o=["touchstart","touchend","mousedown","keydown"];o.forEach((function(e){return t.addEventListener(e,n,!1)}))}function n(){e.context.resume().then(a)}function a(){o.forEach((function(e){return t.removeEventListener(e,n)}))}}},{key:"monkeyPatch",value:function(){window.hasOwnProperty("webkitAudioContext")&&!window.hasOwnProperty("AudioContext")&&(window.AudioContext=window.webkitAudioContext,window.AudioContext.prototype.hasOwnProperty("createOscillator")&&(window.AudioContext.prototype.internal_createOscillator=window.AudioContext.prototype.createOscillator,window.AudioContext.prototype.createOscillator=function(){var e=this.internal_createOscillator();return e.start?(e.internal_start=e.start,e.start=function(t){e.internal_start(t||0)}):e.start=function(e){this.noteOn(e||0)},e.stop?(e.internal_stop=e.stop,e.stop=function(t){e.internal_stop(t||0)}):e.stop=function(e){this.noteOff(e||0)},e.setPeriodicWave||(e.setPeriodicWave=e.setWaveTable),me(e.frequency),me(e.detune),e}))}}]),e}();function me(e){e&&(e.setTargetAtTime||(e.setTargetAtTime=e.setTargetValueAtTime))}be.context=new(window.AudioContext||window.webkitAudioContext),be.masterGainNode=be.context.createGain(),be.preampGainNode=be.context.createGain();var he=be,pe=[8.176,8.662,9.177,9.723,10.301,10.913,11.562,12.25,12.978,13.75,14.568,15.434,16.352,17.324,18.354,19.445,20.602,21.827,23.125,24.5,25.957,27.5,29.135,30.868,32.703,34.648,36.708,38.891,41.203,43.654,46.249,48.999,51.913,55,58.27,61.735,65.406,69.296,73.416,77.782,82.407,87.307,92.499,97.999,103.826,110,116.541,123.471,130.813,138.591,146.832,155.563,164.814,174.614,184.997,195.998,207.652,220,233.082,246.942,261.626,277.183,293.665,311.127,329.628,349.228,369.994,391.995,415.305,440,466.164,493.883,523.251,554.365,587.33,622.254,659.255,698.456,739.989,783.991,830.609,880,932.328,987.767,1046.502,1108.731,1174.659,1244.508,1318.51,1396.913,1479.978,1567.982,1661.219,1760,1864.655,1975.533,2093.005,2217.461,2349.318,2489.016,2637.02,2793.826,2959.955,3135.963,3322.438,3520,3729.31,3951.066,4186.009,4434.922,4698.636,4978.032,5274.041,5587.652,5919.911,6271.927,6644.875,7040,7458.62,7902.133,8372.018,8869.844,9397.273,9956.063,10548.082,11175.303,11839.822,12543.854],fe=[0,0,.001,.003,.005,.008,.011,.015,.02,.025,.031,.037,.044,.052,.06,.068,.077,.087,.097,.107,.118,.13,.141,.153,.166,.179,.192,.205,.219,.233,.247,.261,.276,.29,.305,.32,.335,.35,.365,.381,.396,.411,.426,.441,.457,.472,.486,.501,.516,.531,.545,.559,.573,.587,.601,.614,.628,.641,.653,.666,.678,.69,.702,.714,.725,.736,.746,.757,.767,.777,.786,.796,.805,.813,.822,.83,.838,.845,.853,.86,.867,.873,.88,.886,.892,.897,.903,.908,.913,.917,.922,.926,.93,.934,.938,.942,.945,.948,.951,.954,.957,.96,.962,.965,.967,.969,.971,.973,.975,.976,.978,.979,.981,.982,.983,.984,.986,.987,.988,.988,.989,.99,.991,.991,.992,.993,.994,1],ge={M:[0,2,4,5,7,9,11,12,14,16,17,19,21,23,24],m:[0,2,3,5,7,8,10,12,14,15,17,19,20,22,24],c:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24]},we={M:[0,0,1,2,2,3,4,4,5,5,6,6,7,7,8,9,9,10,11,11,12,12,13,13,14],m:[0,0,1,2,2,3,4,4,5,5,6,6,7,7,8,9,9,10,11,11,12,12,13,13,14],c:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24]},ye={M:[0,0,2,4,4,5,7,7,9,9,11,11,12,12,14,16,16,17,19,19,21,21,23,23,24],m:[0,0,2,3,3,5,7,7,8,8,10,10,12,12,14,15,15,17,19,19,20,20,22,22,24],c:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24]},xe={M:{A:{label:"A",value:21},Bb:{label:"Bb",value:22},B:{label:"B",value:23},C:{label:"C",value:24},Db:{label:"Db",value:25},D:{label:"D",value:26},Eb:{label:"Eb",value:27},E:{label:"E",value:28},F:{label:"F",value:29},Gb:{label:"Gb",value:30},G:{label:"G",value:31},Ab:{label:"Ab",value:32}},m:{A:{label:"A",value:21},Bb:{label:"Bb",value:22},B:{label:"B",value:23},C:{label:"C",value:24},"C#":{label:"C#",value:25},D:{label:"D",value:26},Eb:{label:"Eb",value:27},E:{label:"E",value:28},F:{label:"F",value:29},"F#":{label:"F#",value:30},G:{label:"G",value:31},"G#":{label:"G#",value:32}}},ve={M:[{label:"A",value:21},{label:"Bb",value:22},{label:"B",value:23},{label:"C",value:24},{label:"Db",value:25},{label:"D",value:26},{label:"Eb",value:27},{label:"E",value:28},{label:"F",value:29},{label:"Gb",value:30},{label:"G",value:31},{label:"Ab",value:32}],m:[{label:"A",value:21},{label:"Bb",value:22},{label:"B",value:23},{label:"C",value:24},{label:"C#",value:25},{label:"D",value:26},{label:"Eb",value:27},{label:"E",value:28},{label:"F",value:29},{label:"F#",value:30},{label:"G",value:31},{label:"G#",value:32}],c:[{label:"A",value:21},{label:"Bb",value:22},{label:"B",value:23},{label:"C",value:24},{label:"Db",value:25},{label:"D",value:26},{label:"Eb",value:27},{label:"E",value:28},{label:"F",value:29},{label:"Gb",value:30},{label:"G",value:31},{label:"Ab",value:32}]},ke=[{label:"Major",value:"M"},{label:"Minor",value:"m"},{label:"Chrom",value:"c"}],Ee={M:{A:["A","B","C#","D","E","F#","G#","A"],Bb:["Bb","C","D","Eb","F","G","A","Bb"],B:["B","C#","D#","E","F#","G#","A#","B"],C:["C","D","E","F","G","A","B","C"],Db:["Db","Eb","F","Gb","Ab","Bb","C","Db"],D:["D","E","F#","G","A","B","C#","D"],Eb:["Eb","F","G","Ab","Bb","C","D","Eb"],E:["E","F#","G#","A","B","C#","D#","E"],F:["F","G","A","Bb","C","D","E","F"],Gb:["Gb","Ab","Bb","Cb","Db","Eb","F","Gb"],G:["G","A","B","C","D","E","F#","G"],Ab:["Ab","Bb","C","Db","Eb","F","G","Ab"]},m:{A:["A","B","C","D","E","F","G","A"],Bb:["Bb","C","DB","Eb","F","Gb","Ab","Bb"],B:["B","C#","D","E","F#","G","A","B"],C:["C","D","Eb","F","G","Ab","Bb","C"],"C#":["C#","D#","E","F#","G#","A","B","C#"],D:["D","E","F","G","A","Bb","C","D"],Eb:["Eb","F","Gb","Ab","Bb","C","Db","Eb"],E:["E","F#","G","A","B","C","D","E"],F:["F","G","Ab","Bb","C","Db","Eb","F"],"F#":["F#","G#","A","B","C#","D","E","F#"],G:["G","A","Bb","C","D","Eb","F","G"],"G#":["G#","A#","B","C#","D#","E","F#","G#"]},c:{A:["A","A#","B","C","C#","D","D#","E","F","F#","G","G#","A"],Bb:["Bb","B","C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb"],B:["B","C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],C:["C","C#","D","D#","E","F","F#","G","G#","A","A#","B","C"],Db:["Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B","C","Db"],D:["D","D#","E","F","F#","G","G#","A","A#","B","C","C#","D"],Eb:["Eb","E","F","Gb","G","Ab","A","Bb","B","C","Db","D","Eb"],E:["E","F","F#","G","G#","A","A#","B","C","C#","D","D#","E"],F:["F","Gb","G","Ab","A","Bb","B","C","Db","D","Eb","E","F"],Gb:["Gb","G","Ab","A","Bb","B","C","Db","D","Eb","E","F","Gb"],G:["G","G#","A","A#","B","C","C#","D","D#","E","F","F#","G"],Ab:["Ab","A","Bb","B","C","Db","D","Eb","E","F","Gb","G","Ab"]}},Ce={I:0,ii:1,iii:2,IV:3,V:4,vi:5,vii:6},Oe={I:0,ii:2,iii:4,IV:5,V:7,vi:9,vii:11,i:0,III:3,iv:5,v:7,VI:8,VII:10},je={sixteenth:16,eighth:8,quarter:4,half:2,whole:1},Se=function(){function e(){var t=this;Object(F.a)(this,e),this.updateNodesForNewMeasure=function(){var o=[];e.nodesThisMeasure&&e.nodesThisMeasure.forEach((function(e){e.options.color.border=e.options.color.hover.border})),t.rootNodes.forEach((function(n){0===t.network.getConnectedNodes(n.id).length&&o.push(n),n.depth=0;var a=Me(n,t.network,0),r=Ne(e.measuresPlayed%(a+1),n,t.network);o=[].concat(Object(de.a)(o),Object(de.a)(r))})),o&&o.forEach((function(e){e.options.color.border=t.theme.text})),e.nodesThisMeasure=Object(de.a)(o)},this.timerId=null,this.nextNoteTime=he.context.currentTime,this.network=null,this.rootNodes=null,this.theme=null}return Object(A.a)(e,[{key:"setTimerId",value:function(e){this.timerId=e}},{key:"start",value:function(t,o,n,a,r){var i=this;return this.updateNetwork(t),this.updateInterval(a),this.theme=r,he.masterGainNode.gain.setTargetAtTime(n,he.context.currentTime,.001),this.nextNoteTime=he.context.currentTime,this.timerId=setInterval((function(){return i.schedule(o)}),e.interval),e.interval}},{key:"updateNetwork",value:function(e){this.network=e,this.rootNodes=Be(e)}},{key:"updateInterval",value:function(t){e.interval=Fe(t)}},{key:"stop",value:function(){clearTimeout(this.timerId),he.masterGainNode.gain.setTargetAtTime(0,he.context.currentTime,.001)}},{key:"schedule",value:function(t){for(;this.nextNoteTime<he.context.currentTime+.01;)this.nextNoteTime+=e.interval/1e3,this.playNote(this.nextNoteTime,t)}},{key:"playNote",value:function(t,o){0===e.beatIndex&&(this.updateNodesForNewMeasure(),e.measureStopTime=t+14*e.interval/1e3,++e.measuresPlayed),e.nodesThisMeasure&&e.nodesThisMeasure.length>0&&e.nodesThisMeasure.forEach((function(n){var a=n.options.audioNode;a.mute||1===a.solo||a.setAutomatedValuesForNote(e.beatIndex,t),a&&a.notes&&a.notes[e.beatIndex]&&a.notes[e.beatIndex].forEach((function(n){var r=t+n.length*e.interval/1e3,i=Ie(a,t,r,a.nodes.panner),l=Le(n.volume,t,r,a.release>.05);l.connect(i.envelope),a.waveforms.forEach((function(e){var i=he.context.createOscillator();i.connect(l),i.type=e,i.frequency.setValueAtTime(pe[o.key.value+12*a.octave+Ae(o.disposition,Oe[a.mode]+n.pitch)],t),i.start(t),i.stop(r+a.release)}))}))})),e.beatIndex=e.beatIndex<15?e.beatIndex+1:0}}]),e}();Se.beatIndex=0,Se.interval=0,Se.nodesThisMeasure=null,Se.measureStopTime=null,Se.measuresPlayed=0;var Ne=function e(t,o,n){if(o.depth===t)return[o];var a=n.getConnectedNodes(o.id,"to"),r=[];return 0!==a.length&&a.forEach((function(o){var a=n.body.nodes[o];a.depth===t?r.push(a):r=[].concat(Object(de.a)(r),Object(de.a)(e(t,a,n)))})),r},Me=function e(t,o,n){var a=o.getConnectedNodes(t.id,"to");if(0===a.length)return 0;var r=[];return a.forEach((function(t){var a=o.body.nodes[t];a.depth=n+1,r.push(e(a,o,n+1)+1)})),Math.max.apply(Math,r)},Le=function(e,t,o,n){var a=he.context.createGain();return a.gain.setValueCurveAtTime(De(0,e),t,.015),!n&&a.gain.setValueCurveAtTime(De(e,0),o-.015,.015),a},Ie=function(e,t,o,n){var a=he.context.createGain(),r=o-t,i=r>e.attack,l=r>e.attack+e.sustain+e.decay,c={attackDuration:i?e.attack:r,attackTo:i?1:r/e.attack,attackStart:t,willCompleteAttack:i,decayDuration:l?e.decay:r-e.attack-e.sustain,decayTo:l?0:1-(r-e.attack-e.sustain)/e.decay,decayStart:t+e.attack+e.sustain,willCompleteDecay:l,releaseDuration:e.release,releaseStart:o};try{a.connect(n),c.attackDuration>0?a.gain.setValueCurveAtTime(De(0,c.attackTo),c.attackStart,c.attackDuration):a.gain.setTargetAtTime(1,t,.015),c.decayDuration>0&&a.gain.setValueCurveAtTime(De(1,c.decayTo),c.decayStart,c.decayDuration);var s=e.release>0&&Te(c,e);c.releaseDuration>.05&&a.gain.setValueCurveAtTime(De(s,0),c.releaseStart,c.releaseDuration)}catch(u){}return{envelope:a,envTime:c.decayStart+c.decayDuration}},Te=function(e,t){return e.willCompleteAttack?e.willCompleteDecay?t.decay>0&&t.attack>0?0:1:e.decayTo:e.attackTo},Fe=function(e){return 6e4/e/4},Ae=function(e,t){return ye[e][t]};function De(e,t){var o=0,n=new Float32Array(11);e=Math.max(e,1e-7),t=Math.max(t,1e-7);for(var a=0;a<=10;++a)n[a]=e*Math.pow(t/e,o),o+=.1;return n}var Be=function(e){var t=[];return e&&Object.values(e.body.nodes).forEach((function(o){0===e.getConnectedNodes(o.id,"from").length&&t.push(o)})),t},Ve=Se,ze=a.a.forwardRef((function(e,t){var o=e.cancel,r=Object(n.useState)(!1),i=Object(l.a)(r,2),s=i[0],u=i[1],d=Object(n.useState)(null),b=Object(l.a)(d,2),m=b[0],h=b[1],p=Object(n.useState)(!1),f=Object(l.a)(p,2),w=f[0],y=f[1],x=Object(n.useState)(null),v=Object(l.a)(x,2),k=v[0],C=v[1],O=Object(c.c)((function(e){return e.network.theme})),j=$({theme:O}),S=Object(c.c)((function(e){return e.firebase.profile})),N=S.isEmpty?"default":S.email;Object(ae.useFirestoreConnect)((function(){return[{collection:"networks",doc:N}]}));var M=Object(ae.useFirestore)(),L=Object(c.b)();return Object(n.useEffect)((function(){var e=M.collection("networks").doc(N);Object(ue.a)(se.a.mark((function t(){return se.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.get().then((function(e){e.exists&&C(e.data())}));case 2:y(!0);case 3:case"end":return t.stop()}}),t)})))(),Ve.beatIndex=0,Ve.measuresPlayed=0}),[M,N]),Object(n.useEffect)((function(){var e={Component:function(){return a.a.createElement("div",{className:j.listParent},k&&Object.keys(k).length>0?Object.keys(k).map((function(e,t){return a.a.createElement("button",{className:j.listItem,key:t,value:e,onClick:function(e){return t=e.target.value,L(E.loadNetwork(t,k[t])),void o();var t}},e)})):a.a.createElement("p",{className:j.text,style:{paddingLeft:"10px"}},"looks like you haven't saved any networks yet!"))},buttonContainerClass:j.endButtonContainer};h(S.isEmpty?{Component:function(){return a.a.createElement("p",{className:j.text,style:{paddingLeft:"10px"}},"you'll need to be logged in to do that")},confirmText:"log in or sign up",buttonClass:j.wideButton,buttonContainerClass:j.wideButtonContainer,confirm:function(){u(!0),setTimeout((function(){return o()}),200)}}:e)}),[o,j,w,L,M,N,k,S]),a.a.createElement("div",{className:j.content,ref:t},m&&w&&a.a.createElement(a.a.Fragment,null,a.a.createElement("h3",null,"load your tune"),a.a.createElement(m.Component,null),a.a.createElement("div",{className:"".concat(j.buttonContainer," ").concat(m.buttonContainerClass)},a.a.createElement("button",{className:"".concat(j.button," ").concat(j.cancelButton),onClick:o},"cancel"),m.confirm&&a.a.createElement("button",{className:"".concat(j.button," ").concat(m.buttonClass?m.buttonClass:j.confirmButton),onClick:m.confirm},m.confirmText)),s&&a.a.createElement(g.a,{to:"/login"})))})),Ge=a.a.forwardRef((function(e,t){var o=e.cancel,r=e.confirm,i=Object(c.c)((function(e){return e.network.unsavedChanges})),s=Object(n.useState)(!1),u=Object(l.a)(s,2),d=u[0],b=u[1],m=Object(c.c)((function(e){return e.network.theme})),h=$({theme:m});return i||d||r(),a.a.createElement(a.a.Fragment,null,d?a.a.createElement(le,{cancel:o,confirm:r}):a.a.createElement("div",{className:h.content,ref:t},a.a.createElement("h3",null,"just checking"),a.a.createElement("p",{className:h.text},"do you want to save your changes?"),a.a.createElement("div",{className:h.buttonContainer},a.a.createElement("button",{className:"".concat(h.button," ").concat(h.cancelButton),onClick:o},"cancel"),a.a.createElement("button",{className:"".concat(h.button," ").concat(h.confirmButton),onClick:r},"discard changes"),a.a.createElement("button",{className:"".concat(h.button," ").concat(h.confirmButton),onClick:function(){return b(!0)}},"save changes"))))})),_e=a.a.forwardRef((function(e,t){var o=e.cancel,n=e.confirm,r=Object(c.c)((function(e){return e.network.theme})),i=Object(c.c)((function(e){return e.firebase.profile})),l=i.isEmpty?"default":i.email,s=Object(c.c)((function(e){return e.network.loadedNetworkName}));Object(ae.useFirestoreConnect)((function(){return[{collection:"networks",doc:l}]}));var u=Object(ae.useFirestore)(),d=$({theme:r});s&&!i.isEmpty||(n(),o());return a.a.createElement("div",{className:d.content,ref:t},a.a.createElement("h3",null,"just checking"),a.a.createElement("p",{className:d.text},"are you sure you want to delete this track? you won't be able to recover it."),a.a.createElement("div",{className:d.buttonContainer},a.a.createElement("button",{className:"".concat(d.button," ").concat(d.cancelButton),onClick:o},"cancel"),a.a.createElement("button",{className:"".concat(d.button," ").concat(d.confirmButton),onClick:function(){u.collection("networks").doc(l).get().then((function(e){if(e.exists){var t=e.data();delete t[s],u.collection("networks").doc(i.email).set(t)}})),n(),o()}},"delete")))})),Pe=function(){var e=Object(c.c)((function(e){return e.network.defaultState})),t=Object(c.c)((function(e){return e.network.addEdgeState})),o=Object(c.c)((function(e){return e.network.multiSelectState})),n=Object(c.c)((function(e){return e.network.organizeState}));return{file:[{label:"save",modal:le,action:E.setShouldSaveNetwork,alwaysShowModal:!1,icon:{path:m.save,viewBox:"0 0 600 600"},shortcut:""},{label:"save as...",modal:le,alwaysShowModal:!0,icon:{path:m.saveAs,viewBox:"0 0 20 20"},shortcut:""},{label:"open network",modalAction:E.loadNetwork,modal:ze,alwaysShowModal:!0,icon:{path:m.load,viewBox:"0 0 50 50"},shortcut:""},{label:"new network",modalAction:E.newNetwork,modal:Ge,alwaysShowModal:!0,global:!0,icon:{path:m.newFile,viewBox:"0 0 50 50"},shortcut:""},{label:"delete network",modalAction:E.newNetwork,modal:_e,alwaysShowModal:!0,global:!0,icon:{path:m.delete,viewBox:"0 0 50 50"},shortcut:""}],edit:[{label:"add node",action:E.addNodeFromMenu,icon:{path:m.addNode,viewBox:"0 0 510 510"},shortcut:"a"},{label:"select all",action:E.selectAll,icon:{path:m.selectAll,viewBox:"0 0 30 30"},shortcut:"s"},{label:"delete selected",action:E.deleteSelected,modal:ee,modalAction:E.delete,gobal:!0,icon:{path:m.delete,viewBox:"0 0 50 50"},shortcut:"d"},{label:"edit edge",action:E.editEdge,icon:{path:m.editEdge,viewBox:"0 0 510 510"},shortcut:"f"}],mode:[{active:e,label:"pointer",action:E.defaultMode,icon:{path:m.pointer,viewBox:"0 0 25 25"},shortcut:"q"},{active:o,label:"multiselect",action:E.toggleSelect,icon:{path:m.selectMultiple,viewBox:"0 0 500 500"},shortcut:"w"},{active:t,label:"add edges",action:E.addEdge,passDispatch:!0,icon:{path:m.addEdge,viewBox:"0 0 510 510"},shortcut:"e"}],view:[{active:n,label:"organize",action:E.organize,icon:{path:m.organize,viewBox:"0 0 510 510"},shortcut:"z"},{label:"fit",action:E.fit,icon:{path:m.fit,viewBox:"0 0 68 68"},shortcut:"x"}]}};var Re=function(){var e=Object(c.c)((function(e){return e.view})),t=e.menuVisible,o=e.labVisible,r=e.screenInfo,i=Object(c.c)((function(e){return e.network.fit})),s=Object(c.c)((function(e){return e.network.network})),u=Object(c.c)((function(e){return e.network.options})),d=Object(c.c)((function(e){return e.network.graphInfo})),b=Object(c.c)((function(e){return e.network.multiSelectState})),m=Object(n.useState)({window:{x:0,y:0}}),h=Object(l.a)(m,2),p=h[0],f=h[1],g=Object(n.useState)(null),w=Object(l.a)(g,2),y=w[0],x=w[1],v=Object(n.useState)(!1),k=Object(l.a)(v,2),C=k[0],j=k[1],S=Object(c.b)();!function(e){var t=Object(c.c)((function(e){return e.network.multiSelectState}));Object(n.useEffect)((function(){var o=function(t){(t.ctrlKey||"Meta"===t.key)&&e(!0)},n=function(t){(t.ctrlKey||"Meta"===t.key)&&e(!1)};return t?(document.addEventListener("keydown",o),document.addEventListener("keyup",n)):(document.removeEventListener("keydown",o),document.removeEventListener("keyup",n)),function(){document.removeEventListener("keydown",o),document.removeEventListener("keyup",n)}}),[t,e])}(j),Object(n.useEffect)((function(){s&&(t||o?r.isMobile||t?s.moveTo(L(0,.8*r.height,.3)):t||s.moveTo(L(.3*r.width,0,.3)):s.moveTo(L(0,0,1)))}),[t,o]),Object(n.useEffect)((function(){i&&(s.moveTo(L(0,0,1)),S(E.fit(!1)))}),[i]);var N={doubleClick:function(e){S(e.nodes.length?O(!0):E.addNodeFromClick(e))},dragStart:function(e){!e.nodes.length&&b&&(document.addEventListener("mousemove",M),f({canvas:e.pointer.canvas,window:{x:e.event.srcEvent.x,y:e.event.srcEvent.y},ctrl:C}))},dragEnd:function(e){!e.nodes.length&&b&&p.canvas&&(S(E.multiselect(p,e)),f(null),x(null)),document.removeEventListener("mousemove",M)},selectNode:function(e){S(E.filterSelection(e.nodes))},deselectNode:function(e){S(E.filterSelection(e.nodes))}},M=function(e){p&&x({x:e.x,y:e.y})},L=function(e,t,o){var n=[];Object.values(s.getPositions()).forEach((function(e){n.push(e)}));var a,i=[I(n,"x"),I(n,"y"),T(n,"x"),T(n,"y")],l=[Math.abs(i[0])+Math.abs(i[2]),Math.abs(i[1])+Math.abs(i[3])];return a=l[0]<50&&l[1]<50?1:.5*Math.min(r.width/l[0],r.height/l[1]),{position:{x:i[0]+l[0]/2+e,y:i[1]+l[1]/2+t},scale:a*o,animation:{easingFunction:"linear"}}},I=function(e,t){if(0===e.length)return-200;var o=e[0][t];return e.forEach((function(e){e[t]<o&&(o=e[t])})),o},T=function(e,t){if(0===e.length)return 200;var o=e[0][t];return e.forEach((function(e){e[t]>o&&(o=e[t])})),o};return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{style:function(){if(p&&y)return{backgroundColor:"#fed8b1",opacity:.4,zIndex:999999,position:"absolute",left:"".concat(p.window.x<y.x?p.window.x:y.x,"px"),top:"".concat(p.window.y<y.y?p.window.y:y.y,"px"),width:"".concat(Math.abs(p.window.x-y.x),"px"),height:"".concat(Math.abs(p.window.y-y.y),"px")}}()}),a.a.createElement(Z,{graph:d,options:u,events:N,getNetwork:function(e){S(E.setNetwork(e))}}))},We=Object(d.a)({subPanel:{boxSizing:"border-box",display:"inline-block",border:function(e){return"2px solid ".concat(e.theme&&e.theme.text)},width:"285px",minWidth:"285px",height:"470px",margin:"15px",backgroundColor:function(e){return e.theme&&e.theme.background},boxShadow:function(e){return e.theme&&e.theme.boxShadow}},titleHeader:{fontSize:"20px",padding:"10px 20px 0px 20px",maxWidth:"100%",backgroundColor:"transparent",color:function(e){return e.theme&&e.theme.text},zIndex:"2",position:"relative",verticalAlign:"bottom"},subtitle:{display:"block",fontStyle:"italic",fontWeight:"200",fontSize:"0.8em",marginLeft:"20px"},sliderLabel:{display:"block",fontFamily:"Roboto Condensed",color:function(e){return e.theme&&e.theme.text}},vertical:{textAlign:"center",width:"80%",marginBottom:"5px"}}),qe=function(e){var t=e.data,o=Object(c.c)((function(e){return e.network.theme})),n=1===t.sliderFields.length,r=n?"slider vertical":"slider",i=n?"toggleParent vertical":"toggleParent",l=We({theme:o}),s=Object(c.b)();return a.a.createElement("div",{className:l.subPanel},a.a.createElement("div",{className:l.titleHeader},a.a.createElement("h3",null,t.title),a.a.createElement("h4",{className:l.subtitle},t.subtitle)),a.a.createElement("div",{className:"sliderParent"},t.sliderFields.map((function(e,t){return a.a.createElement("div",{className:"sliderContainer",key:t},a.a.createElement("label",{className:"".concat(l.sliderLabel," ").concat(n?l.vertical:null)},e.label),a.a.createElement("input",{className:r,type:"range",min:e.min?e.min:0,max:e.max?e.max:127,defaultValue:e.value?e.value:50,onChange:function(t){return function(e,t){e.action&&s(e.action(t.target.value))}(e,t)}}))}))),a.a.createElement("div",{className:i},t.toggleFields.map((function(e,t){return a.a.createElement("div",{className:"toggleContainer",key:t},a.a.createElement("label",{className:l.sliderLabel},e.label),a.a.createElement("label",{className:"switch"},a.a.createElement("input",{type:"checkbox"}),a.a.createElement("span",{className:"toggleSlider"})))}))))},He=Object(d.a)({menuPanel:{position:"absolute",bottom:function(e){return e.menuVisible?"0px":"-10px"},width:function(e){return e.labVisible?e.screenInfo.width-N+"px":"100%"},borderTop:function(e){return e.theme&&"3px solid ".concat(e.theme.text)},margin:"0px",transition:"height 0.5s, width 0.5s",backgroundColor:function(e){return e.theme&&e.theme.secondaryBackground},overflowY:"scroll",display:"flex",boxSizing:"border-box",zIndex:"8001",height:function(e){return e.menuVisible?S+"px":"0px"},boxShadow:function(e){return!e.screenInfo.isMobile&&e.menuVisible&&e.theme&&"inset 0px 0px 20px 20px ".concat(e.theme.boxShadowColor)}},navIcon:{margin:"20px",width:"20px",height:"20px",display:"inline-block"},iconContainer:{backgroundColor:"transparent",boxSizing:"border-box",height:"50%",display:"flex",alignItems:"center",transition:"0.2s",border:"none",borderBottom:function(e){return"1px solid ".concat(e.theme&&e.theme.text)},cursor:"pointer","& :hover":{opacity:"0.6"}},show:{height:"100%",minWidth:function(e){return e.screenInfo.isMobile?"80% !important":"50% !important"}},navIcons:{margin:"0px 15px 0px 15px",width:"60px",minWidth:function(e){return e.showSideMenu?e.screenInfo.isMobile?"80%":"50%":"60px"},height:"100%",justifyContent:"center",transition:"0.5s",backgroundColor:"transparent"},ellipsisIcon:{color:function(e){return e.theme&&e.theme.text},margin:"0px 0px 0px 15px",width:"15px",height:"15px",display:"inline-block",backgroundColor:"transparent"}}),Qe=function(e){var t=e.show,o=Object(c.c)((function(e){return e.view})),r=o.menuVisible,i=o.labVisible,s=o.screenInfo,u=Object(n.useState)(!1),d=Object(l.a)(u,2),h=d[0],p=d[1],f=Object(n.useRef)(null),g=Object(c.c)((function(e){return e.network.theme})),w=He({theme:g,menuVisible:t||r,labVisible:i,screenInfo:s}),y=function(){var e=Object(c.c)((function(e){return e.network.audio})),t=e.lpFilterFrequency,o=e.lpFilterQ,n=e.hpFilterFrequency,a=e.hpFilterQ;return[{title:"\u2206t",subtitle:"delay",size:"medium",sliderFields:[{label:"speed",hoverText:"rate of delay"},{label:"repeats",hoverText:"number of repeats"},{label:"mix",hoverText:""}],toggleFields:[{label:"radio"},{label:"ping"},{label:"duplet"},{label:"triplet"},{label:"chorus"},{label:"sync",hoverText:"lock rate to master tempo"}]},{title:"entropy",size:"small",sliderFields:[{label:"amount"}],toggleFields:[{label:"chaos"},{label:"spiral"}]},{title:"mass concentration",size:"medium",sliderFields:[{label:"amount"}],toggleFields:[{label:"chaos"},{label:"spiral"}]},{title:"spectroscopy",subtitle:"equalizer",size:"medium",sliderFields:[{label:""},{label:""},{label:""},{label:""},{label:""}],toggleFields:[]},{title:"kelvin",subtitle:"distortion",size:"small",sliderFields:[{label:"amount"}],toggleFields:[{label:"bitcrush"},{label:"swirl"},{label:"explode"}]},{title:"voltage",subtitle:"filters",size:"large",sliderFields:[{value:n,label:"high pass freq",action:E.setHighPassFilterFrequency},{value:a,label:"high pass res",action:E.setHighPassFilterQ},{value:t,label:"low pass freq",action:E.setLowPassFilterFrequency},{value:o,label:"low pass res",action:E.setLowPassFilterQ}],toggleFields:[]}]}();return Object(n.useEffect)((function(){f.current&&document.querySelector("#menuPanel").scrollTo({left:f.current.offsetWidth+30,behavior:"smooth"})}),[]),a.a.createElement("div",{id:"menuPanel",className:w.menuPanel},a.a.createElement("div",{className:w.navIcons,ref:f},a.a.createElement("button",{className:"".concat(w.iconContainer," ").concat(h?w.show:null),onClick:function(){return p(!h)}},a.a.createElement(b,{className:w.navIcon,path:m.settings,viewBox:"0 0 50 50",fill:g&&g.text})),!h&&a.a.createElement("div",{className:w.iconContainer},a.a.createElement("h3",{className:w.ellipsisIcon},"..."))),y.map((function(e,t){return a.a.createElement(qe,{data:e,key:t})})))},Ue={whole:null,half:8,quarter:4,eighth:2,sixteenth:1},Ke=Object(d.a)({table:{margin:"auto"},tableCell:{width:function(e){return"".concat(350/e.width,"px")},height:function(e){return 8===e.height?"20px":"15px !important"},padding:function(e){return 8===e.height?"3px":"0px"}},scaleLabel:{width:"20px",color:function(e){return e.theme&&e.theme.text},fontSize:function(e){return 8===e.height?"16px":"14px !important"},fontWeight:"800",fontFamily:"Inconsolata"},button:{boxSizing:"border-box",width:"100%",height:function(e){return 8===e.height?"20px":"15px !important"},backgroundColor:"transparent",opacity:"0.7",border:function(e){return"2px solid ".concat(e.theme&&e.theme.secondaryText)},boxShadow:function(e){return e.theme&&e.themeboxShadow},"&:hover":{opacity:"0.3"}},selected:{backgroundColor:function(e){return e.color}},playing:{border:function(e){return"2px solid ".concat(e.theme&&e.theme.text)},boxShadow:function(e){return e.theme&&e.theme.boxShadowLight},filter:"brightness(110%)"}}),Ze=function(e){var t=e.width,o=e.node,r=e.pianoRoll,i=e.setPianoRoll,s=e.height,u=e.color,d=e.save,b=e.note,m=Object(c.c)((function(e){return e.network.theme})),h=Object(c.c)((function(e){return e.network.audio.key})),p=Object(c.c)((function(e){return e.network.audio.disposition})),f=Object(c.c)((function(e){return e.config.itemToUpdate})),g=Object(n.useState)(null),w=Object(l.a)(g,2),y=w[0],x=w[1],v=Ke({theme:m,height:s,width:t,color:u,interval:Ve.interval});return Object(n.useEffect)((function(){var e=function(e,t,o){if(!o||1===o.buttons){var n=r.slice();n[e][t]=-1===n[e][t]?1:-1,i(n),d()}};x(function(){for(var t=[],n=function(n){for(var i=[],l=o&&!o.mute&&-1!==o.solo&&Ve.nodesThisMeasure&&Ve.nodesThisMeasure.filter((function(e){return e.options.audioNode.id===o.id})).length>0&&he.context.currentTime<Ve.measureStopTime,c=function(t){var c=l&&Math.floor(t/Ue[b])===Math.floor(Ve.beatIndex/Ue[b]);-1===t?i.push(a.a.createElement("td",{className:v.scaleLabel,key:f&&"mode"===f[0]&&f[1]+100},o&&function(e){var t=s-1-e+("c"===p?Oe[o.mode]:Ce[o.mode]);return t>=s&&(t-=s-1),Ee[p][h.label][t]}(n))):r[n]&&r[n][t]&&(-1===r[n][t]||1===r[n][t])&&i.push(a.a.createElement("td",{className:v.tableCell,key:t},a.a.createElement("button",{key:f&&"player"===f[0]&&f[1]+50,className:"".concat(v.button," ").concat(r&&r[n]&&-1!==r[n][t]&&v.selected," ").concat(c&&v.playing),onMouseDown:function(){return e(n,t)},onPointerEnter:function(o){return e(n,t,o)}})))},u=-1;u<16;++u)c(u);t.push(a.a.createElement("tr",{key:n},i))},i=0;i<s;++i)n(i);return a.a.createElement("table",{className:v.table},a.a.createElement("thead",null,t))}())}),[r,i,s,p,h,v,o,d,f,b]),a.a.createElement(a.a.Fragment,null,y)},Ye=o(117),Xe=o.n(Ye),Je=(o(417),6),$e=250,et=0,tt=127,ot=0,nt=127,at=-127,rt=127,it=0,lt=2,ct={min:0,max:2e4},st={min:0,max:50},ut={volume:.3,intensity:100,mode:"I",octave:4,pan:0,waveforms:["sine"],attack:0,decay:0,sustain:0,release:0,hpFilterFrequency:0,lpFilterFrequency:2e4,hpFilterQ:0,lpFilterQ:0,mute:!1,solo:0,volumeAutomation:[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],panAutomation:[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],hpFilterFrequencyAutomation:[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],hpFilterQAutomation:[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],lpFilterFrequencyAutomation:[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],lpFilterQAutomation:[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]},dt=function(e,t){var o=parseInt(e.substr(1),16),n=o>>8&255,a=255&o;return"rgba(".concat(o>>16&255,",").concat(n,",").concat(a,",").concat(t,")")},bt=Object(d.a)({graph:{height:"250px !important",width:"calc(100% - 10px) !important",padding:"5px 5px 10px 5px"}});function mt(e){var t=e.note,o=e.parameterToAutomate,r=Object(c.c)((function(e){return e.network.theme})),i=Object(c.c)((function(e){return e.view.screenInfo})),s=Object(c.c)((function(e){return e.network.elementIndex})),u=Object(c.c)((function(e){return e.network.audio.nodeData&&e.network.audio.nodeData[s]})),d=Object(n.useRef)(),b=Object(n.useState)(ft(r)),m=Object(l.a)(b,2),h=m[0],p=m[1],f=Object(n.useState)(null),g=Object(l.a)(f,2),w=g[0],y=g[1],x=Object(n.useState)(!0),v=Object(l.a)(x,2),k=v[0],E=v[1];Object(n.useEffect)((function(){p(ft(r))}),[r]),Object(n.useEffect)((function(){y(function(){var e=[];return Object.keys(h).forEach((function(t){e.push({label:t,data:ht(u)[t],borderColor:h[t].color,backgroundColor:dt(r?h[t].color:"#000000",.3),showLine:o&&t===o.key,hidden:o&&t!==o.key,dragData:o&&t===o.key,pointHitRadius:25})})),e}())}),[u,h,o,r]),Object(n.useEffect)((function(){Xe.a.defaults.global.defaultFontFamily="Inconsolata",Xe.a.defaults.global.legend.display=!1,o&&o.key&&new Xe.a(d.current.getContext("2d"),{type:"line",data:{labels:pt[t],datasets:w,fillOpacity:.6},options:{scales:{xAxes:[{ticks:{display:!1},gridLines:{display:!1,drawBorder:!1}}],yAxes:[{ticks:{max:h[o.key].max,min:h[o.key].min,display:!1},gridLines:{display:!1,drawBorder:!1}}]},animation:k,tooltips:{enabled:k,backgroundColor:r&&r.secondaryText,displayColors:!1,bodyFontColor:r&&r.background,callbacks:{title:function(){return null},label:function(e){return e.value}}},dragData:!0,dragX:!1,dragDataRound:h[o.key].decimals,dragOptions:{showTooltip:!0},onDragStart:function(e,t){E(!0)},onDrag:function(e,t,o,n){e.target.style.cursor="grabbing"},onDragEnd:function(e,n,a,r){e.target.style.cursor="default",u.updateAutomationValues(w,o.key,t),E(!1)},hover:{onHover:function(e){this.getElementAtEvent(e).length?e.target.style.cursor="grab":e.target.style.cursor="default"}},events:[]}})}),[r,h,w,o,k,t,u]);var C=bt({screenInfo:i,theme:r});return a.a.createElement("canvas",{id:"myChart",className:C.graph,ref:d})}var ht=function(e){return{volumeAutomation:e.volumeAutomation,panAutomation:e.panAutomation,hpFilterFrequencyAutomation:e.hpFilterFrequencyAutomation,hpFilterQAutomation:e.hpFilterQAutomation,lpFilterFrequencyAutomation:e.lpFilterFrequencyAutomation,lpFilterQAutomation:e.lpFilterQAutomation}},pt={sixteenth:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],eighth:[0,2,4,6,8,10,12,14],quarter:[0,4,8,12],half:[0,8],whole:[0]},ft=function(e){return{volumeAutomation:{min:0,max:1,color:e&&e.nonMetal,decimals:2},panAutomation:{min:-1,max:1,color:e&&e.nobleGas,decimals:2},hpFilterFrequencyAutomation:{min:0,max:1,color:e&&e.alkaliMetal,decimals:2},hpFilterQAutomation:{min:0,max:1,color:e&&e.transitionMetal,decimals:2},lpFilterFrequencyAutomation:{min:0,max:1,color:e&&e.postTransitionMetal,decimals:2},lpFilterQAutomation:{min:0,max:1,color:e&&e.metalloid,decimals:2}}},gt=Object(d.a)({parent:{margin:"0px",display:"flex"},button:{width:"20px",height:"30px",fontFamily:"Inconsolata",fontSize:"20px",fontWeight:"600",backgroundColor:"transparent",color:function(e){return e.theme&&e.theme.text},border:"none",opacity:"0.6",margin:"0px",padding:"0px",display:"inline-block",position:"relative","&:hover":{opacity:"1.0"}},icon:{width:"20px",height:"30px"},selected:{marginTop:"-2px",opacity:"1.0",transform:"scale(1.2, 1.2)",fontWeight:"1000",transition:"0.25s"}}),wt=function(e){var t=e.note,o=e.setNote,n=Object(c.c)((function(e){return e.network.theme})),r=gt({theme:n}),i=[{name:"sixteenth",path:m.sixteenthNote,viewBox:"0 0 300 300",offsetTop:"-4px",offsetRight:"6px"},{name:"eighth",path:m.eighthNote,viewBox:"0 0 300 300",offsetTop:"1.5px",offsetRight:"0px"},{name:"quarter",path:m.quarterNote,viewBox:"0 0 300 300",offsetTop:"1px",offsetRight:"0px"},{name:"half",path:m.halfNote,viewBox:"0 0 300 300",offsetTop:"1px",offsetRight:"4px"},{name:"whole",path:m.wholeNote,viewBox:"0 0 350 350",offsetTop:"11.5px",offsetRight:"0px"}];return a.a.createElement("div",{className:r.parent},i.map((function(e,i){return a.a.createElement("button",{key:i,className:"".concat(r.button," ").concat(e.name===t&&r.selected),style:{marginRight:e.offsetRight},onClick:function(){return o(e.name)}},a.a.createElement(b,{className:r.icon,style:{marginTop:e.offsetTop},viewBox:e.viewBox,path:e.path,fill:n&&n.text}))})))},yt=Object(d.a)({parent:{padding:"10px",margin:"0px",display:"inline-block"},button:{fontFamily:"Inconsolata",fontSize:"20px",fontWeight:"600",display:"inline",backgroundColor:function(e){return e.theme&&e.theme.background},color:function(e){return e.theme&&e.theme.text},border:"none",opacity:"0.6",marginTop:"10px","&:hover":{opacity:"1.0"}},selected:{marginTop:"0px",opacity:"1.0",transform:"scale(1.2, 1.2)",fontWeight:"1000",transition:"0.25s"}}),xt=function(e){var t=e.mode,o=e.audioNode,n=e.updateParent,r=Object(c.c)((function(e){return e.network.theme})),i=yt({theme:r}),l=Object(c.c)((function(e){return e.network.audio.disposition})),s={M:[{label:"I",value:"I"},{label:"ii",value:"ii"},{label:"iii",value:"iii"},{label:"IV",value:"IV"},{label:"V",value:"V"},{label:"vi",value:"vi"},{label:"vii",value:"vii"}],m:[{label:"i",value:"vi"},{label:"ii",value:"vii"},{label:"III",value:"I"},{label:"iv",value:"ii"},{label:"v",value:"iii"},{label:"VI",value:"IV"},{label:"VII",value:"V"}]},u=function(e){o.setMode(e.target.value),n&&n()},d=s[l]?s[l]:s.M;return a.a.createElement("div",{className:i.parent},d.map((function(e){return a.a.createElement("button",{key:e.label,className:"".concat(i.button," ").concat((e.value===t||e.value===o.mode)&&i.selected),onClick:u,value:e.value},e.label)})))},vt=o(112);function kt(e){var t=Object(n.useState)(0),o=Object(l.a)(t,2),a=o[0],r=o[1],i=Object(c.b)();return function(){r((function(e){return++e})),i(k(e,a))}}var Et={dark:{background:"rgba(50,50,50,1)",secondaryBackground:"rgba(119, 119, 119, 0.5)",secondaryBackgroundSolid:"rgba(70, 70, 70, 1.0)",text:"rgba(227,227,227,1)",secondaryText:"rgba(230, 230, 230, 0.8)",warningText:"#cc935e",alertText:"#cc5e5e",highlightText:"#c994c7",primary:"rgba(245,245,245,1",secondary:"rgba(119,119,119,1)",tertiary:"rgba(228,228,228,1)",nonMetal:"#368c91",nobleGas:"#8f518c",alkaliMetal:"#7f6e80",transitionMetal:"#ad604b",postTransitionMetal:"#8c8c8c",metalloid:"#4aa18e",lanthanide:"#94445d",actinide:"#a1404e",boxShadow:"0px 10px 20px rgba(0, 0, 0, 0.6)",boxShadowLight:"0px 5px 10px rgba(0, 0, 0, .4)",boxShadowDark:"0px 5px 5px rgba(0, 0, 0, 0.2)",boxShadowColor:"rgba(0, 0, 0, .6)",name:"dark"},light:{background:"rgba(250,250,250,1)",secondaryBackground:"rgba(230, 230, 230, 0.5)",secondaryBackgroundSolid:"rgba(230, 230, 230, 1.0)",text:"rgba(18,18,18,1)",secondaryText:"rgba(50,50,50,0.8)",warningText:"#9c450a",alertText:"#a1404e",highlightText:"#8f518c",primary:"rgba(245,245,245,1)",secondary:"rgba(169,169,169,1)",tertiary:"rgba(228,228,228,1)",nonMetal:"#82b7f0",nobleGas:"#c994c7",alkaliMetal:"#dbb087",transitionMetal:"#85b889",postTransitionMetal:"#bdbdbd",metalloid:"#9f82ce",lanthanide:"#f3bbf0",actinide:"#ce7777",boxShadow:"0px 10px 20px rgba(77, 97, 108, .24)",boxShadowLight:"0px 5px 10px rgba(77, 97, 108, .08)",boxShadowDark:"0px 5px 5px rgba(77, 97, 108, 0.8)",boxShadowColor:"rgba(77, 97, 108, .24)",name:"light"}},Ct=function(e){return e||(e=Et.light),[{atomicNumber:1,key:1,label:"<b>H</b>",dropdownLabel:"H",title:"Hydrogen",opacity:.5,color:e.nonMetal,category:"nonMetal",weight:1.008,shadow:{enabled:!0,color:e.boxShadowColor}},{atomicNumber:2,key:2,label:"<b>He</b>",dropdownLabel:"He",title:"Helium",color:e.nobleGas,category:"nobleGas",weight:4.0026,shadow:{enabled:!0,color:e.boxShadowColor}},{atomicNumber:3,key:3,label:"<b>Li</b>",dropdownLabel:"Li",title:"Lithium",color:e.alkaliMetal,category:"alkaliMetal",weight:6.94,shadow:{enabled:!0,color:e.boxShadowColor}},{atomicNumber:4,key:4,label:"<b>Be</b>",dropdownLabel:"Be",title:"Beryllium",color:e.alkaliMetal,category:"alkaliMetal",weight:9.0122,shadow:{enabled:!0,color:e.boxShadowColor}},{atomicNumber:5,key:5,label:"<b>B</b>",dropdownLabel:"B",title:"Boron",color:e.metalloid,category:"metalloid",weight:10.81,shadow:{enabled:!0,color:e.boxShadowColor}},{atomicNumber:6,key:6,label:"<b>C</b>",dropdownLabel:"C",title:"Carbon",color:e.nonMetal,category:"nonMetal",weight:12.011,shadow:{enabled:!0,color:e.boxShadowColor}},{atomicNumber:7,key:7,label:"<b>N</b>",dropdownLabel:"N",title:"Nitrogen",color:e.nonMetal,category:"nonMetal",weight:14.007,shadow:{enabled:!0,color:e.boxShadowColor}},{atomicNumber:8,key:8,label:"<b>O</b>",dropdownLabel:"O",title:"Oxygen",color:e.nonMetal,category:"nonMetal",weight:15.999,shadow:{enabled:!0,color:e.boxShadowColor}},{atomicNumber:9,key:9,label:"<b>F</b>",dropdownLabel:"F",title:"Fluorine",color:e.nonMetal,category:"nonMetal",weight:18.998,shadow:{enabled:!0,color:e.boxShadowColor}},{atomicNumber:10,key:10,label:"<b>Ne</b>",dropdownLabel:"Ne",title:"Neon",color:e.nobleGas,category:"nobleGas",weight:20.18,shadow:{enabled:!0,color:e.boxShadowColor}},{atomicNumber:11,key:11,label:"<b>Na</b>",dropdownLabel:"Na",title:"Sodium",color:e.alkaliMetal,category:"alkaliMetal",weight:22.99,shadow:{enabled:!0,color:e.boxShadowColor}},{atomicNumber:12,key:12,label:"<b>Mg</b>",dropdownLabel:"Mg",title:"Magnesium",color:e.alkaliMetal,category:"alkaliMetal",weight:24.305,shadow:{enabled:!0,color:e.boxShadowColor}},{atomicNumber:13,key:13,label:"<b>Al</b>",dropdownLabel:"Al",title:"Aluminum",color:e.postTransitionMetal,category:"postTransitionMetal",weight:26.982,shadow:{enabled:!0,color:e.boxShadowColor}},{atomicNumber:14,key:14,label:"<b>Si</b>",dropdownLabel:"Si",title:"Silicon",color:e.metalloid,category:"metalloid",weight:28.085,shadow:{enabled:!0,color:e.boxShadowColor}},{atomicNumber:15,key:15,label:"<b>P</b>",dropdownLabel:"P",title:"Phosphorus",color:e.nonMetal,category:"nonMetal",weight:30.974,shadow:{enabled:!0,color:e.boxShadowColor}},{atomicNumber:16,key:16,label:"<b>S</b>",dropdownLabel:"S",title:"Sulfur",color:e.nonMetal,category:"nonMetal",weight:32.06,shadow:{enabled:!0,color:e.boxShadowColor}},{atomicNumber:17,key:17,label:"<b>Cl</b>",dropdownLabel:"Cl",title:"Chlorine",color:e.nonMetal,category:"nonMetal",weight:35.45,shadow:{enabled:!0,color:e.boxShadowColor}},{atomicNumber:18,key:18,label:"<b>Ar</b>",dropdownLabel:"Ar",title:"Argon",color:e.nobleGas,category:"nobleGas",weight:39.948,shadow:{enabled:!0,color:e.boxShadowColor}},{atomicNumber:19,key:19,label:"<b>K</b>",dropdownLabel:"K",title:"Potassium",color:e.alkaliMetal,category:"alkaliMetal",weight:39.098,shadow:{enabled:!0,color:e.boxShadowColor}},{atomicNumber:20,key:20,label:"<b>Ca</b>",dropdownLabel:"Ca",title:"Calcium",color:e.alkaliMetal,category:"alkaliMetal",weight:40.078,shadow:{enabled:!0,color:e.boxShadowColor}},{atomicNumber:21,key:21,label:"<b>Sc</b>",dropdownLabel:"Sc",title:"Scandium",color:e.transitionMetal,category:"transitionMetal",weight:44.956,shadow:{enabled:!0,color:e.boxShadowColor}},{atomicNumber:22,key:22,label:"<b>Ti</b>",dropdownLabel:"Ti",title:"Titanium",color:e.transitionMetal,category:"transitionMetal",weight:47.867,shadow:{enabled:!0,color:e.boxShadowColor}},{atomicNumber:23,key:23,label:"<b>V</b>",dropdownLabel:"V",title:"Vanadium",color:e.transitionMetal,category:"transitionMetal",weight:50.942,shadow:{enabled:!0,color:e.boxShadowColor}},{atomicNumber:24,key:24,label:"<b>Cr</b>",dropdownLabel:"Cr",title:"Chromium",color:e.transitionMetal,category:"transitionMetal",weight:51.996,shadow:{enabled:!0,color:e.boxShadowColor}},{atomicNumber:25,key:25,label:"<b>Mn</b>",dropdownLabel:"Mn",title:"Manganese",color:e.transitionMetal,category:"transitionMetal",weight:54.938,shadow:{enabled:!0,color:e.boxShadowColor}},{atomicNumber:26,key:26,label:"<b>Fe</b>",dropdownLabel:"Fe",title:"Iron",color:e.transitionMetal,category:"transitionMetal",weight:55.845,shadow:{enabled:!0,color:e.boxShadowColor}},{atomicNumber:27,key:27,label:"<b>Co</b>",dropdownLabel:"Co",title:"Cobalt",color:e.transitionMetal,category:"transitionMetal",weight:58.933,shadow:{enabled:!0,color:e.boxShadowColor}},{atomicNumber:28,key:28,label:"<b>Ni</b>",dropdownLabel:"Ni",title:"Nickel",color:e.transitionMetal,category:"transitionMetal",weight:58.693,shadow:{enabled:!0,color:e.boxShadowColor}},{atomicNumber:29,key:29,label:"<b>Cu</b>",dropdownLabel:"Cu",title:"Copper",color:e.transitionMetal,category:"transitionMetal",weight:63.546,shadow:{enabled:!0,color:e.boxShadowColor}},{atomicNumber:30,key:30,label:"<b>Zn</b>",dropdownLabel:"Zn",title:"Zinc",color:e.transitionMetal,category:"transitionMetal",weight:65.38,shadow:{enabled:!0,color:e.boxShadowColor}},{atomicNumber:31,key:31,label:"<b>Ga</b>",dropdownLabel:"Ga",title:"Gallium",color:e.transitionMetal,category:"transitionMetal",weight:69.723,shadow:{enabled:!0,color:e.boxShadowColor}},{atomicNumber:32,key:32,label:"<b>Ge</b>",dropdownLabel:"Ge",title:"Germanium",color:e.transitionMetal,category:"transitionMetal",weight:72.63,shadow:{enabled:!0,color:e.boxShadowColor}},{atomicNumber:33,key:33,label:"<b>As</b>",dropdownLabel:"As",title:"Arsenic",color:e.transitionMetal,category:"transitionMetal",weight:74.922,shadow:{enabled:!0,color:e.boxShadowColor}},{atomicNumber:34,key:34,label:"<b>Se</b>",dropdownLabel:"Se",title:"Selenium",color:e.transitionMetal,category:"transitionMetal",weight:78.971,shadow:{enabled:!0,color:e.boxShadowColor}},{atomicNumber:35,key:35,label:"<b>Br</b>",dropdownLabel:"Br",title:"Bromine",color:e.transitionMetal,category:"transitionMetal",weight:79.904,shadow:{enabled:!0,color:e.boxShadowColor}},{atomicNumber:36,key:36,label:"<b>Kr</b>",dropdownLabel:"Kr",title:"Krypton",color:e.transitionMetal,category:"transitionMetal",weight:83.798,shadow:{enabled:!0,color:e.boxShadowColor}},{atomicNumber:37,key:37,label:"<b>Rb</b>",dropdownLabel:"Rb",title:"Rubidium",color:e.transitionMetal,category:"transitionMetal",weight:85.468,shadow:{enabled:!0,color:e.boxShadowColor}},{atomicNumber:38,key:38,label:"<b>Sr</b>",dropdownLabel:"Sr",title:"Strontium",color:e.transitionMetal,category:"transitionMetal",weight:87.62,shadow:{enabled:!0,color:e.boxShadowColor}},{atomicNumber:39,key:39,label:"<b>Y</b>",dropdownLabel:"Y",title:"Yttrium",color:e.transitionMetal,category:"transitionMetal",weight:88.9,shadow:{enabled:!0,color:e.boxShadowColor}},{atomicNumber:40,key:40,label:"<b>Zr</b>",dropdownLabel:"Zr",title:"Zirconium",color:e.transitionMetal,category:"transitionMetal",weight:91.224,shadow:{enabled:!0,color:e.boxShadowColor}},{atomicNumber:41,key:41,label:"<b>Nb</b>",dropdownLabel:"Nb",title:"Niobium",color:e.transitionMetal,category:"transitionMetal",weight:92.906,shadow:{enabled:!0,color:e.boxShadowColor}},{atomicNumber:42,key:42,label:"<b>Mo</b>",dropdownLabel:"Mo",title:"Molybdeum",color:e.transitionMetal,category:"transitionMetal",weight:95.95,shadow:{enabled:!0,color:e.boxShadowColor}},{atomicNumber:43,key:43,label:"<b>Tc</b>",dropdownLabel:"Tc",title:"Technetium",color:e.transitionMetal,category:"transitionMetal",weight:98,shadow:{enabled:!0,color:e.boxShadowColor}},{atomicNumber:44,key:44,label:"<b>Ru</b>",dropdownLabel:"Ru",title:"Ruthenium",color:e.transitionMetal,category:"transitionMetal",weight:101.07,shadow:{enabled:!0,color:e.boxShadowColor}},{atomicNumber:45,key:45,label:"<b>Rh</b>",dropdownLabel:"Rh",title:"Rhodium",color:e.transitionMetal,category:"transitionMetal",weight:102.91,shadow:{enabled:!0,color:e.boxShadowColor}},{atomicNumber:46,key:46,label:"<b>Pd</b>",dropdownLabel:"Pd",title:"Palladium",color:e.transitionMetal,category:"transitionMetal",weight:106.42,shadow:{enabled:!0,color:e.boxShadowColor}},{atomicNumber:47,key:47,label:"<b>Ag</b>",dropdownLabel:"Ag",title:"Silver",color:e.transitionMetal,category:"transitionMetal",weight:107.87,shadow:{enabled:!0,color:e.boxShadowColor}},{atomicNumber:48,key:48,label:"<b>Cd</b>",dropdownLabel:"Cd",title:"Cadmium",color:e.transitionMetal,category:"transitionMetal",weight:112.41,shadow:{enabled:!0,color:e.boxShadowColor}},{atomicNumber:49,key:49,label:"<b>In</b>",dropdownLabel:"In",title:"Indium",color:e.transitionMetal,category:"transitionMetal",weight:114.82,shadow:{enabled:!0,color:e.boxShadowColor}},{atomicNumber:50,key:50,label:"<b>Sn</b>",dropdownLabel:"Sn",title:"Tin",color:e.transitionMetal,category:"transitionMetal",weight:118.71,shadow:{enabled:!0,color:e.boxShadowColor}},{atomicNumber:51,key:51,label:"<b>Sb</b>",dropdownLabel:"Sb",title:"Antimony",color:e.transitionMetal,category:"transitionMetal",weight:121.76,shadow:{enabled:!0,color:e.boxShadowColor}},{atomicNumber:52,key:52,label:"<b>Te</b>",dropdownLabel:"Te",title:"Tellurium",color:e.transitionMetal,category:"transitionMetal",weight:127.6,shadow:{enabled:!0,color:e.boxShadowColor}},{atomicNumber:53,key:53,label:"<b>I</b>",dropdownLabel:"I",title:"Iodine",color:e.transitionMetal,category:"transitionMetal",weight:126.9,shadow:{enabled:!0,color:e.boxShadowColor}},{atomicNumber:54,key:54,label:"<b>Xe</b>",dropdownLabel:"Xe",title:"Xenon",color:e.transitionMetal,category:"transitionMetal",weight:131.29,shadow:{enabled:!0,color:e.boxShadowColor}},{atomicNumber:55,key:55,label:"<b>Cs</b>",dropdownLabel:"Cs",title:"Caesium",color:e.transitionMetal,category:"transitionMetal",weight:132.91,shadow:{enabled:!0,color:e.boxShadowColor}},{atomicNumber:56,key:56,label:"<b>Ba</b>",dropdownLabel:"Ba",title:"Barium",color:e.transitionMetal,category:"transitionMetal",weight:137.33,shadow:{enabled:!0,color:e.boxShadowColor}},{atomicNumber:57,key:57,label:"<b>La</b>",dropdownLabel:"La",title:"Lanthanium",color:e.lanthanide,category:"lanthanide",weight:138.91,shadow:{enabled:!0,color:e.boxShadowColor}},{atomicNumber:58,key:58,label:"<b>Ce</b>",dropdownLabel:"Ce",title:"Cerium",color:e.lanthanide,category:"lanthanide",weight:140.12,shadow:{enabled:!0,color:e.boxShadowColor}},{atomicNumber:59,key:59,label:"<b>Pr</b>",dropdownLabel:"Pr",title:"Praseodymium",color:e.lanthanide,category:"lanthanide",weight:140.91,shadow:{enabled:!0,color:e.boxShadowColor}},{atomicNumber:60,key:60,label:"<b>Nd</b>",dropdownLabel:"Nd",title:"Neodymium",color:e.lanthanide,category:"lanthanide",weight:144.24,shadow:{enabled:!0,color:e.boxShadowColor}},{atomicNumber:61,key:61,label:"<b>Pm</b>",dropdownLabel:"Pm",title:"Prometheum",color:e.lanthanide,category:"lanthanide",weight:145,shadow:{enabled:!0,color:e.boxShadowColor}},{atomicNumber:62,key:62,label:"<b>Sm</b>",dropdownLabel:"Sm",title:"Samarium",color:e.lanthanide,category:"lanthanide",weight:150.36,shadow:{enabled:!0,color:e.boxShadowColor}},{atomicNumber:63,key:63,label:"<b>Eu</b>",dropdownLabel:"Eu",title:"Europium",color:e.lanthanide,category:"lanthanide",weight:151.96,shadow:{enabled:!0,color:e.boxShadowColor}},{atomicNumber:64,key:64,label:"<b>Gd</b>",dropdownLabel:"Gd",title:"Gadolinium",color:e.lanthanide,category:"lanthanide",weight:157.25,shadow:{enabled:!0,color:e.boxShadowColor}},{atomicNumber:65,key:65,label:"<b>Tb</b>",dropdownLabel:"Tb",title:"Terbium",color:e.lanthanide,category:"lanthanide",weight:158.93,shadow:{enabled:!0,color:e.boxShadowColor}},{atomicNumber:66,key:66,label:"<b>Dy</b>",dropdownLabel:"Dy",title:"Dysprosium",color:e.lanthanide,category:"lanthanide",weight:162.5,shadow:{enabled:!0,color:e.boxShadowColor}},{atomicNumber:67,key:67,label:"<b>Ho</b>",dropdownLabel:"Ho",title:"Holmium",color:e.lanthanide,category:"lanthanide",weight:164.93,shadow:{enabled:!0,color:e.boxShadowColor}},{atomicNumber:68,key:68,label:"<b>Er</b>",dropdownLabel:"Er",title:"Erbium",color:e.lanthanide,category:"lanthanide",weight:167.26,shadow:{enabled:!0,color:e.boxShadowColor}},{atomicNumber:69,key:69,label:"<b>Tm</b>",dropdownLabel:"Tm",title:"Thulium",color:e.lanthanide,category:"lanthanide",weight:168.93,shadow:{enabled:!0,color:e.boxShadowColor}},{atomicNumber:70,key:70,label:"<b>Yb</b>",dropdownLabel:"Yb",title:"Ytterbium",color:e.lanthanide,category:"lanthanide",weight:173.05,shadow:{enabled:!0,color:e.boxShadowColor}},{atomicNumber:71,key:71,label:"<b>Lu</b>",dropdownLabel:"Lu",title:"Lutetium",color:e.lanthanide,category:"lanthanide",weight:174.97,shadow:{enabled:!0,color:e.boxShadowColor}},{atomicNumber:72,key:72,label:"<b>Hf</b>",dropdownLabel:"Hf",title:"Hafnium",color:e.transitionMetal,category:"transitionMetal",weight:178.49,shadow:{enabled:!0,color:e.boxShadowColor}},{atomicNumber:73,key:73,label:"<b>Ta</b>",dropdownLabel:"Ta",title:"Tantalum",color:e.transitionMetal,category:"transitionMetal",weight:180.95,shadow:{enabled:!0,color:e.boxShadowColor}},{atomicNumber:74,key:74,label:"<b>W</b>",dropdownLabel:"W",title:"Tungsten",color:e.transitionMetal,category:"transitionMetal",weight:183.84,shadow:{enabled:!0,color:e.boxShadowColor}},{atomicNumber:75,key:75,label:"<b>Re</b>",dropdownLabel:"Re",title:"Rhenium",color:e.transitionMetal,category:"transitionMetal",weight:186.21,shadow:{enabled:!0,color:e.boxShadowColor}},{atomicNumber:76,key:76,label:"<b>Os</b>",dropdownLabel:"Os",title:"Osmium",color:e.transitionMetal,category:"transitionMetal",weight:190.23,shadow:{enabled:!0,color:e.boxShadowColor}},{atomicNumber:77,key:77,label:"<b>Ir</b>",dropdownLabel:"Ir",title:"Iridium",color:e.transitionMetal,category:"transitionMetal",weight:192.22,shadow:{enabled:!0,color:e.boxShadowColor}},{atomicNumber:78,key:78,label:"<b>Pt</b>",dropdownLabel:"Pt",title:"Platinum",color:e.transitionMetal,category:"transitionMetal",weight:195.08,shadow:{enabled:!0,color:e.boxShadowColor}},{atomicNumber:79,key:79,label:"<b>Au</b>",dropdownLabel:"Au",title:"Gold",color:e.transitionMetal,category:"transitionMetal",weight:196.97,shadow:{enabled:!0,color:e.boxShadowColor}},{atomicNumber:80,key:80,label:"<b>Hg</b>",dropdownLabel:"Hg",title:"Mercury",color:e.transitionMetal,category:"transitionMetal",weight:200.59,shadow:{enabled:!0,color:e.boxShadowColor}},{atomicNumber:81,key:81,label:"<b>Tl</b>",dropdownLabel:"Tl",title:"Thallium",color:e.postTransitionMetal,category:"postTransitionMetal",weight:204.38,shadow:{enabled:!0,color:e.boxShadowColor}},{atomicNumber:82,key:82,label:"<b>Pb</b>",dropdownLabel:"Pb",title:"Lead",color:e.postTransitionMetal,category:"postTransitionMetal",weight:174.97,shadow:{enabled:!0,color:e.boxShadowColor}},{atomicNumber:83,key:83,label:"<b>Bi</b>",dropdownLabel:"Bi",title:"Bismuth",color:e.postTransitionMetal,category:"postTransitionMetal",weight:174.97,shadow:{enabled:!0,color:e.boxShadowColor}},{atomicNumber:84,key:84,label:"<b>Po</b>",dropdownLabel:"Po",title:"Polonium",color:e.postTransitionMetal,category:"postTransitionMetal",weight:174.97,shadow:{enabled:!0,color:e.boxShadowColor}},{atomicNumber:85,key:85,label:"<b>At</b>",dropdownLabel:"At",title:"Astatine",color:e.metalloid,category:"metalloid",weight:174.97,shadow:{enabled:!0,color:e.boxShadowColor}},{atomicNumber:86,key:86,label:"<b>Rn</b>",dropdownLabel:"Rn",title:"Radon",color:e.nobleGas,category:"nobleGas",weight:222,shadow:{enabled:!0,color:e.boxShadowColor}},{atomicNumber:87,key:87,label:"<b>Fr</b>",dropdownLabel:"Fr",title:"Francium",color:e.alkaliMetal,category:"alkaliMetal",weight:223,shadow:{enabled:!0,color:e.boxShadowColor}},{atomicNumber:88,key:88,label:"<b>Ra</b>",dropdownLabel:"Ra",title:"Radium",color:e.alkaliMetal,category:"alkaliMetal",weight:226,shadow:{enabled:!0,color:e.boxShadowColor}},{atomicNumber:89,key:89,label:"<b>Ac</b>",dropdownLabel:"Ac",title:"Actinium",color:e.actinide,category:"actinide",weight:227,shadow:{enabled:!0,color:e.boxShadowColor}},{atomicNumber:90,key:90,label:"<b>Th</b>",dropdownLabel:"Th",title:"Thorium",color:e.actinide,category:"actinide",weight:232.04,shadow:{enabled:!0,color:e.boxShadowColor}},{atomicNumber:91,key:91,label:"<b>Pa</b>",dropdownLabel:"Pa",title:"Protactinium",color:e.actinide,category:"actinide",weight:231.04,shadow:{enabled:!0,color:e.boxShadowColor}},{atomicNumber:92,key:92,label:"<b>U</b>",dropdownLabel:"U",title:"Uranium",color:e.actinide,category:"actinide",weight:238.03,shadow:{enabled:!0,color:e.boxShadowColor}},{atomicNumber:93,key:93,label:"<b>Np</b>",dropdownLabel:"Np",title:"Neptunium",color:e.actinide,category:"actinide",weight:237,shadow:{enabled:!0,color:e.boxShadowColor}},{atomicNumber:94,key:94,label:"<b>Pu</b>",dropdownLabel:"Pu",title:"Plutonium",color:e.actinide,category:"actinide",weight:244,shadow:{enabled:!0,color:e.boxShadowColor}},{atomicNumber:95,key:95,label:"<b>Am</b>",dropdownLabel:"Am",title:"Americium",color:e.actinide,category:"actinide",weight:243,shadow:{enabled:!0,color:e.boxShadowColor}},{atomicNumber:96,key:96,label:"<b>Cm</b>",dropdownLabel:"Cm",title:"Curium",color:e.actinide,category:"actinide",weight:247,shadow:{enabled:!0,color:e.boxShadowColor}},{atomicNumber:97,key:97,label:"<b>Bk</b>",dropdownLabel:"Bk",title:"Berkelium",color:e.actinide,category:"actinide",weight:247,shadow:{enabled:!0,color:e.boxShadowColor}},{atomicNumber:98,key:98,label:"<b>Cf</b>",dropdownLabel:"Cf",title:"Californium",color:e.actinide,category:"actinide",weight:251,shadow:{enabled:!0,color:e.boxShadowColor}},{atomicNumber:99,key:99,label:"<b>Es</b>",dropdownLabel:"Es",title:"Einsteinium",color:e.actinide,category:"actinide",weight:252,shadow:{enabled:!0,color:e.boxShadowColor}},{atomicNumber:100,key:100,label:"<b>Fm</b>",dropdownLabel:"Fm",title:"Fermium",color:e.actinide,category:"actinide",weight:257,shadow:{enabled:!0,color:e.boxShadowColor}},{atomicNumber:101,key:101,label:"<b>Md</b>",dropdownLabel:"Md",title:"Mendelevium",color:e.actinide,category:"actinide",weight:258,shadow:{enabled:!0,color:e.boxShadowColor}},{atomicNumber:102,key:102,label:"<b>No</b>",dropdownLabel:"No",title:"Nobelium",color:e.actinide,category:"actinide",weight:259,shadow:{enabled:!0,color:e.boxShadowColor}},{atomicNumber:103,key:103,label:"<b>Lr</b>",dropdownLabel:"Rf",title:"Lawrencium",color:e.actinide,category:"actinide",weight:266,shadow:{enabled:!0,color:e.boxShadowColor}},{atomicNumber:104,key:104,label:"<b>Rf</b>",dropdownLabel:"Rf",title:"Rutherfordium",color:e.transitionMetal,category:"transitionMetal",weight:267,shadow:{enabled:!0,color:e.boxShadowColor}},{atomicNumber:105,key:105,label:"<b>Db</b>",dropdownLabel:"Db",title:"Dubnium",color:e.transitionMetal,category:"transitionMetal",weight:268,shadow:{enabled:!0,color:e.boxShadowColor}},{atomicNumber:106,key:106,label:"<b>Sg</b>",dropdownLabel:"Sg",title:"Seaborgium",color:e.transitionMetal,category:"transitionMetal",weight:269,shadow:{enabled:!0,color:e.boxShadowColor}},{atomicNumber:107,key:107,label:"<b>Bh</b>",dropdownLabel:"Bh",title:"Bohrium",color:e.transitionMetal,category:"transitionMetal",weight:270,shadow:{enabled:!0,color:e.boxShadowColor}},{atomicNumber:108,key:108,label:"<b>Hs</b>",dropdownLabel:"Hs",title:"Hassium",color:e.transitionMetal,category:"transitionMetal",weight:270,shadow:{enabled:!0,color:e.boxShadowColor}},{atomicNumber:109,key:109,label:"<b>Mt</b>",dropdownLabel:"Mt",title:"Meitnerium",color:e.transitionMetal,category:"transitionMetal",weight:278,shadow:{enabled:!0,color:e.boxShadowColor}},{atomicNumber:110,key:110,label:"<b>Ds</b>",dropdownLabel:"Ds",title:"Darmstadtium",color:e.transitionMetal,category:"transitionMetal",weight:281,shadow:{enabled:!0,color:e.boxShadowColor}},{atomicNumber:111,key:111,label:"<b>Rg</b>",dropdownLabel:"Rg",title:"Roentgenium",color:e.transitionMetal,category:"transitionMetal",weight:282,shadow:{enabled:!0,color:e.boxShadowColor}},{atomicNumber:112,key:112,label:"<b>Cn</b>",dropdownLabel:"Cn",title:"Copernicium",color:e.transitionMetal,category:"transitionMetal",weight:285,shadow:{enabled:!0,color:e.boxShadowColor}},{atomicNumber:113,key:113,label:"<b>Nh</b>",dropdownLabel:"Nh",title:"Nihonium",color:e.postTransitionMetal,category:"postTransitionMetal",weight:286,shadow:{enabled:!0,color:e.boxShadowColor}},{atomicNumber:114,key:114,label:"<b>Fl</b>",dropdownLabel:"Fl",title:"Flerovium",color:e.postTransitionMetal,category:"postTransitionMetal",weight:289,shadow:{enabled:!0,color:e.boxShadowColor}},{atomicNumber:115,key:115,label:"<b>Mc</b>",dropdownLabel:"Mc",title:"Moscovium",color:e.postTransitionMetal,category:"postTransitionMetal",weight:290,shadow:{enabled:!0,color:e.boxShadowColor}},{atomicNumber:116,key:116,label:"<b>Lv</b>",dropdownLabel:"Lv",title:"Livermorium",color:e.postTransitionMetal,category:"postTransitionMetal",weight:293,shadow:{enabled:!0,color:e.boxShadowColor}},{atomicNumber:117,key:117,label:"<b>Ts</b>",dropdownLabel:"Ts",title:"Tennessine",color:e.postTransitionMetal,category:"postTransitionMetal",weight:294,shadow:{enabled:!0,color:e.boxShadowColor}},{atomicNumber:118,key:118,label:"<b>Og</b>",dropdownLabel:"Og",title:"Oganesson",color:e.nobleGas,category:"nobleGas",weight:294}]},Ot=[{id:0,label:"0",value:0},{id:1,label:"1",value:1},{id:2,label:"2",value:2},{id:3,label:"3",value:3},{id:4,label:"4",value:4},{id:5,label:"5",value:5},{id:6,label:"6",value:6}],jt=Object(d.a)({row:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",flexWrap:"nowrap",width:"98%"},child:{display:"flex",flexWrap:"nowrap",justifyContent:"flex-end",alignItems:"center"},label:{marginRight:"5px","&:hover":{opacity:"1.0"}},octaveDropdown:{maxWidth:"70px",backgroundColor:"inherit !important",color:"inherit !important",fontFamily:"Inconsolata",fontWeight:"800",border:"none !important","& div":{boxShadow:"none"},"&__menu":{boxShadow:function(e){return e.theme&&"".concat(e.theme.boxShadow," !important")}},"&__menu-list":{backgroundColor:function(e){return e.theme&&"".concat(e.theme.secondaryBackgroundSolid," !important")}},"&__indicator-separator":{display:"none !important"},"&__option":{color:function(e){return e.theme&&"".concat(e.theme.text," !important")},"&--is-focused":{backgroundColor:function(e){return"".concat(dt(e.nodeColor,.3)," !important")}},"&--is-selected":{backgroundColor:function(e){return"".concat(e.nodeColor," !important")}}}}}),St=function(){var e=Object(c.c)((function(e){return e.network.theme})),t=Object(c.c)((function(e){return e.network.elementIndex})),o=Object(c.c)((function(e){return e.network.audio.nodeData&&e.network.audio.nodeData[t]})),r=Object(n.useState)(Ct(e)),i=Object(l.a)(r,1)[0],s=Object(n.useState)(i[t-1]),u=Object(l.a)(s,2),d=u[0],b=u[1],m=jt({theme:e,nodeColor:d&&d.color});Object(n.useEffect)((function(){b(i[t-1])}),[d,t,i]);var h=kt("mode"),p=kt("octave");return a.a.createElement("div",{className:m.row},o&&a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:m.child},a.a.createElement(xt,{mode:o.mode,audioNode:o,updateParent:h})),a.a.createElement("div",{className:m.child,style:{marginTop:"5px"}},a.a.createElement("h4",{className:m.label},"octave: "),a.a.createElement(vt.a,{className:m.octaveDropdown,classNamePrefix:m.octaveDropdown,key:p,options:Ot,onChange:function(e){o.setOctave(e.value),p()},value:[{label:o.octave,value:o.octave}]}))))},Nt=(o(418),Object(d.a)({dropdown:{maxWidth:"300px",textAlign:"right",backgroundColor:"transparent !important",color:function(e){return e.theme&&e.theme.text},fontFamily:"Inconsolata",fontWeight:"800",border:"none !important",boxShadow:function(e){return e.theme&&e.theme.boxShadowLight},flexGrow:1,"& div":{color:"inherit"}}}));function Mt(e){var t=e.parameterToAutomate,o=e.setParameterToAutomate,r=Object(n.useState)(!1),i=Object(l.a)(r,2),s=(i[0],i[1]),u=Object(n.useState)(null),d=Object(l.a)(u,2),b=d[0],m=d[1],h=Object(c.c)((function(e){return e.network.elementIndex})),p=Object(c.c)((function(e){return e.network.audio.nodeData&&e.network.audio.nodeData[h]})),f=Object(c.c)((function(e){return e.network.theme})),g=Nt(f);return Object(n.useEffect)((function(){if(p){var e=Lt(p);m(e),t||o(e[0])}}),[p,t,o]),a.a.createElement(vt.a,{className:g.dropdown,classNamePrefix:"dropdown",isSearchable:!1,instanceId:"dropdown",options:b,value:t,onChange:function(e){return o(e)},onMenuOpen:function(){return s(!0)},onMenuClose:function(){return s(!1)}})}var Lt=function(e){return[{label:"volume",value:e.setVolume.bind(e),key:"volumeAutomation"},{label:"pan",value:e.setPan.bind(e),key:"panAutomation"},{label:"high pass filter frequency",value:e.setHPFilterFrequency.bind(e),key:"hpFilterFrequencyAutomation"},{label:"high pass filter Q",value:e.setHPFilterQ.bind(e),key:"hpFilterQAutomation"},{label:"low pass filter frequency",value:e.setLPFilterFrequency.bind(e),key:"lpFilterFrequencyAutomation"},{label:"low pass filter Q",value:e.setLPFilterFrequency.bind(e),key:"lpFilterQAutomation"}]},It=Object(d.a)({lab:{position:"absolute",alignItems:"center",display:"flex",flexWrap:"wrap",boxSizing:"border-box",right:function(e){return e.labVisible?"0px":"-6px"},width:function(e){return e.labVisible?N+"px":"0px"},height:"100%",bottom:"0px",borderLeft:function(e){return e.theme&&"3px solid ".concat(e.theme.text)},borderTop:function(e){return e.theme&&"3px solid ".concat(e.theme.text)},margin:"0px",transition:"width 0.5s, height 0.5s",backgroundColor:function(e){return e.theme&&e.theme.secondaryBackground},zIndex:8001,overflowY:"auto",overflowX:"hidden",boxShadow:function(e){return e.labVisible&&e.theme&&"-10px 0px 10px ".concat(e.theme.boxShadowColor)}},labMobile:{position:"absolute",alignItems:"center",justifyContent:"center",display:"flex",flexWrap:"wrap",left:"0px",boxSizing:"border-box",bottom:function(e){return e.labVisible?"0px":"-6px"},width:"100%",height:function(e){return e.labVisible?S+"px":"0px"},borderTop:function(e){return e.theme&&"3px solid ".concat(e.theme.text)},margin:"0px",transition:"width 0.5s, height 0.5s",backgroundColor:function(e){return e.theme&&e.theme.secondaryBackground},zIndex:8001,overflowY:"auto",overflowX:"hidden"},effectsContainer:{display:"flex",overflowX:"auto",overflowY:"hidden",padding:"10px",height:"505px",border:function(e){return"3px solid ".concat(e.theme&&e.theme.text)},boxShadow:function(e){return e.theme&&e.theme.boxShadow}},content:{margin:"15px",padding:"15px",position:"relative",display:"flex",flexDirection:"column",alignContent:"center",width:"100%",height:"fit-content",backgroundColor:function(e){return e.theme&&e.theme.background},overflow:"auto",opacity:"1",zIndex:"9999",fontSize:"1.2em",border:function(e){return"3px solid ".concat(e.theme&&e.theme.text)},boxShadow:function(e){return e.theme&&e.theme.boxShadow}},title:{color:function(e){return e.theme&&e.theme.text},padding:"10px",fontSize:"20px"},text:{height:"50px",backgroundColor:"transparent",color:function(e){return e.theme&&e.theme.text}},buttonWrapper:{backgroundColor:"transparent",border:"none",outline:"none",color:function(e){return e.theme&&e.theme.text}},buttonContainer:{position:"absolute",bottom:"5px",right:"5px"},button:{width:"60px",height:"30px",border:function(e){return"1.5px solid ".concat(e.theme&&e.theme.text)},color:function(e){return e.theme&&e.theme.text},fontFamily:"Inconsolata","&:hover":{opacity:"0.4"}},confirmButton:{marginLeft:"20px",fontWeight:"700",backgroundColor:function(e){return e.theme&&e.theme.background}},cancelButton:{fontWeight:"400",backgroundColor:function(e){return e.theme&&e.theme.secondary}},footer:{display:"flex",justifyContent:"space-between",paddingTop:"15px"},header:{display:"flex",flexWrap:"nowrap"},subheader:{display:"flex",justifyContent:"flex-end"},top:{display:"flex",flexDirection:"column"},active:{backgroundColor:"rgba(100, 100, 100, 0.2)",color:function(e){return e.theme&&e.theme.text},boxShadow:function(e){return e.theme&&e.theme.boxShadowLight},transition:"1s"}}),Tt={sixteenth:1,eighth:2,quarter:4,half:8,whole:16},Ft=function e(t,o,n,a){Object(F.a)(this,e),this.pitch=t,this.volume=fe[o],this.length=Tt[n]+(a&&"whole"!==n&&Tt[n]/2)},At={whole:null,half:8,quarter:4,eighth:2,sixteenth:1},Dt="pitch",Bt="automation",Vt=function(e,t,o){for(var n=At[e],a=[],r=0;r<t;++r){a.push();for(var i=0;i<16;++i)if(i%n===0||"whole"===e&&0===i){var l=o&&o[r]&&(1===o[r][i]||-2===o[r][i])?1:-1;a[r]=Object(ne.a)({},a[r],Object(oe.a)({},i,l))}else o&&o[r]&&(1===o[r][i]||-2===o[r][i])&&(a[r]=Object(ne.a)({},a[r],Object(oe.a)({},i,-2)))}return a},zt=function(){var e=Object(n.useState)(null),t=Object(l.a)(e,2),o=t[0],r=t[1],i=Object(c.c)((function(e){return e.network.theme})),s=Object(c.c)((function(e){return e.view.screenInfo})),u=Object(c.c)((function(e){return e.network.audio.disposition})),d=Object(c.c)((function(e){return e.network.elementIndex})),b=Object(c.c)((function(e){return e.network.audio.nodeData&&e.network.audio.nodeData[d]})),m=Object(n.useState)(Ct(i)),h=Object(l.a)(m,1)[0],p=Object(n.useState)(h[d-1]),f=Object(l.a)(p,2),g=f[0],w=f[1],y=Object(n.useState)(Dt),x=Object(l.a)(y,2),v=x[0],k=x[1],E=Object(n.useState)(null),C=Object(l.a)(E,2),O=C[0],j=C[1],S=Object(n.useState)(null),N=Object(l.a)(S,2),M=N[0],L=N[1],I=Object(n.useState)("eighth"),T=Object(l.a)(I,2),F=T[0],A=T[1],D=Object(n.useState)("eighth"),B=Object(l.a)(D,2),V=B[0],z=B[1],G=Object(n.useState)(),_=Object(l.a)(G,2),P=_[0],R=_[1];Object(n.useEffect)((function(){w(h[d-1])}),[g,d,h]);var W=function(){return"c"===u?13:8},q=It({screenInfo:s,theme:i});Object(n.useEffect)((function(){var e=W();R(e),r(Vt(F,e,o)),o&&H()}),[u,F]),Object(n.useEffect)((function(){var e=function(e){var t=0,o=["whole","half","quarter","eighth","sixteenth"];return Object.keys(e).forEach((function(e){if(e%2===1)return o[t=4];"0"===e?t=0:e%8===0&&t<=1?t=1:e%4===0&&t<=2?t=2:e%2===0&&t<=3&&(t=3)})),o[t]};g&&b&&(!function(t){var o=W();if(!t||0===Object.keys(t).length||!u)return r(Vt(F,o)),null;A(e(t));var n=Vt(F,o);Object.keys(t).forEach((function(e){t[e].forEach((function(t){n[o-1-we[u][t.pitch]]&&(n[o-1-we[u][t.pitch]][parseInt(e)]=1)}))})),r(n)}(b.notes),k(Dt))}),[g,b,u]);var H=function(){var e={};Object.keys(o).forEach((function(t){Object.keys(o[t]).forEach((function(n){1===o[t][n]&&(e[n]||(e[n]=[]),e[n].push(new Ft(ge[u][P-1-t],120,F,!1)))}))})),0===Object.keys(e).length?b.setNotes(null):b.setNotes(e)};return a.a.createElement("div",{className:q.content},a.a.createElement("div",{className:q.top},a.a.createElement("span",{className:q.header},a.a.createElement("button",{className:q.buttonWrapper,onClick:function(){return k(Dt)}},a.a.createElement("h3",{className:"".concat(q.title," ").concat(v===Dt&&q.active)},"pitch")),a.a.createElement("button",{className:q.buttonWrapper,onClick:function(){return k(Bt)}},a.a.createElement("h3",{className:"".concat(q.title," ").concat(v===Bt&&q.active)},"automation"))),a.a.createElement("span",{className:q.subheader},v===Dt?a.a.createElement(St,null):a.a.createElement(Mt,{parameterToAutomate:O,setParameterToAutomate:j}))),v===Dt?a.a.createElement(Ze,{width:je[F],node:b,pianoRoll:o,setPianoRoll:r,height:P,color:g&&g.color,save:H,note:F}):a.a.createElement(mt,{note:V,setNote:z,parameterToAutomate:O,key:M}),a.a.createElement("span",{className:q.footer},a.a.createElement(wt,{note:v===Dt?F:V,setNote:v===Dt?A:z}),a.a.createElement("button",{className:"".concat(q.cancelButton," ").concat(q.button),onClick:function(){v===Dt?(r(Vt(F,P)),H(),b.setNotes(null)):(b.resetAutomation(O.key),L(M+1))}},"clear")))},Gt=Object(d.a)({content:{margin:"15px",padding:"10px 15px",position:"relative",display:"flex",flexDirection:"column",alignContent:"center",justifyContent:"center",width:"100%",backgroundColor:function(e){return e.theme&&e.theme.background},border:function(e){return"3px solid ".concat(e.theme&&e.theme.text)},opacity:"1",fontSize:"1.2em",boxShadow:function(e){return e.theme&&e.theme.boxShadow}},envelope:{flexDirection:"row",height:"220px"},sliderGroup:{position:"relative",display:"flex",flexDirection:"column",padding:"15px 0px"},sliderLabel:{display:"inline-block",fontFamily:"Inconsolata",fontWeight:"800",color:function(e){return e.theme&&e.theme.text}},smallLabel:{margin:"0px !important",fontSize:"14px",fontWeight:"600"},input:{position:"absolute",top:"15px",right:"5%",width:"50px",fontFamily:"Inconsolata",fontSize:"14px",border:"none",display:"inline-block",backgroundColor:function(e){return e.theme&&e.theme.secondaryBackground},color:function(e){return e.theme&&e.theme.text}},row:{display:"flex",width:"100%"},verticalSliderGroup:{width:"70px",position:"relative",display:"flex",flexDirection:"column",alignItems:"center"},verticalSlider:{position:"absolute",top:"110px",margin:"0px !important"},verticalLabel:{margin:"0px !important",position:"absolute",top:"10px"},verticalInput:{position:"absolute",top:"180px",width:"50px",marginLeft:"5px",fontFamily:"Inconsolata",fontSize:"14px",border:"none",display:"inline-block",backgroundColor:function(e){return e.theme&&e.theme.secondaryBackground},color:function(e){return e.theme&&e.theme.text}}}),_t=o(25),Pt=o.n(_t),Rt=function(e){var t=e.useStyles,o=e.useStylesProps,r=e.label,i=e.min,s=e.max,u=e.decimals,d=e.defaultValue,b=e.defaultValueConversion,m=e.onChange,h=e.setDraggable,p=e.globalValue,f=e.vertical,g=e.step,w=e.stepInput,y=e.smallLabel,x=Object(c.c)((function(e){return e.network.audio})),v=Object(c.c)((function(e){return e.network.theme})),k=Object(n.useState)(Math.random()),E=Object(l.a)(k,2),C=E[0],O=E[1],j=Object(n.useState)(p?x[d]:d),S=Object(l.a)(j,2),N=S[0],M=S[1],L=Object(c.b)(),I=t(o||{theme:v});function T(e,t){L(e(t.target.value,127===b?"MIDI":null))}var F=function(e,t,o,n){if("Enter"===n.key){var a="volume"===n.target.id?parseFloat(n.target.value):parseInt(n.target.value);if("number"!==typeof a)return;a>o?a=o:a<t&&(a=t),p?L(e(a)):e(a),M(a),O(1e3*Math.random())}};return a.a.createElement("div",{className:"".concat(f?I.verticalSliderGroup:I.sliderGroup," sliderContainer")},a.a.createElement("label",{className:"".concat(I.sliderLabel," ").concat(y&&I.smallLabel," ").concat(f&&I.verticalLabel)},r),!f&&a.a.createElement("input",{className:I.input,type:"number",id:r,key:N*Math.random(),min:i,max:s,defaultValue:N&&N.toFixed?N.toFixed(u):N,onKeyDown:function(e){return F(m,i,s/b,e)},step:w||1}),a.a.createElement("input",{className:"slider ".concat(I.slider," ").concat(f&&"vertical"," ").concat(f&&I.verticalSlider),type:"range",id:r,key:C,min:i,max:s,defaultValue:N*b,onFocus:h?function(){return h(!1)}:null,onBlur:h?function(){return h(!0)}:null,onChange:function(e){return function(e,t){var o=t.target.value/b;"volume"===t.target.id&&(o=fe[t.target.value]),M(o),p||e(o)}(m,e)},onMouseUp:p?function(e){return T(m,e)}:null,onKeyUp:p?function(e){return T(m,e)}:null,step:g||1}),f&&a.a.createElement("input",{className:I.verticalInput,type:"number",id:r,key:N+Math.random(),min:i,max:s,defaultValue:N&&N.toFixed?N.toFixed(u):N,onKeyDown:function(e){return F(m,i,s/b,e)},step:w||1}))},Wt=function(){var e,t=Object(c.c)((function(e){return e.network.elementIndex})),o=Object(c.c)((function(e){return e.network.audio.nodeData&&e.network.audio.nodeData[t]})),n={theme:Object(c.c)((function(e){return e.network.theme}))},r=Gt(n);return a.a.createElement("div",{className:r.content,key:t},o&&Object.values((e=o,e&&e.volume?[{label:"volume",onChange:Pt.a.throttle(e.setVolume.bind(e),500),min:et,max:tt,decimals:2,defaultValue:e.volume,defaultValueConversion:127,globalValue:!1,key:e.volume,stepInput:.01},{label:"intensity",onChange:Pt.a.throttle(e.setIntensity.bind(e),500),min:ot,max:nt,decimals:0,defaultValue:e.intensity,defaultValueConversion:1,globalValue:!1,key:e.intensity,stepInput:1},{label:"pan",onChange:Pt.a.throttle(e.setPan.bind(e),500),min:at,max:rt,decimals:2,defaultValue:e.pan,defaultValueConversion:127,globalValue:!1,key:e.pan,stepInput:.01}]:{})).map((function(e){return a.a.createElement(Rt,Object.assign({key:e.key,useStyles:Gt,useStylesProps:n},e))})))},qt=function(e){var t=e.style,o=Object(c.c)((function(e){return e.network.theme})),r=Object(c.c)((function(e){return e.network.elementIndex})),i=Object(n.useState)(Ct(o)),s=Object(l.a)(i,1)[0],u=Object(n.useState)(s[r-1]),b=Object(l.a)(u,2),m=b[0],h=b[1];Object(n.useEffect)((function(){h(s[r-1])}),[m,r,s]);var p=Object(d.a)({elementTile:{backgroundColor:m?m.color.background?m.color.background:m.color:o&&o.background,border:"2px solid ".concat(o&&o.text),width:"100px",height:"100px",textAlign:"center",justifyContent:"center",display:"flex",flexDirection:"column","& h1:hover, h4:hover":{opacity:"1.0"}}})();if(!m)return a.a.createElement("div",{className:"elementTile"});var f=m.title,g=m.dropdownLabel,w=m.weight,y=m.atomicNumber;return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:p.elementTile,style:t},a.a.createElement("h4",null,f),a.a.createElement("h4",null,y),a.a.createElement("h1",null,g),a.a.createElement("h4",null,w)))},Ht=Object(d.a)({nodeDetailPanel:{margin:"15px",height:"180px",width:"100%",transition:"0.5s",backgroundColor:function(e){return e.theme&&e.theme.background},overflowY:"scroll",zIndex:"2",border:function(e){return"3px solid ".concat(e.theme&&e.theme.text)},boxShadow:function(e){return e.theme&&e.theme.boxShadow}},nodeHeader:{padding:"5px",display:"block"},bigNodeTitle:{padding:"5px",display:"block",fontSize:"1.5em"},nodeToolbar:{width:"100%",display:"flex",alignItems:"center",justifyContent:"center",transition:"0.5s"},scrollButton:{flexGrow:"1",height:"100px",border:"none",backgroundColor:"transparent","&:hover":{opacity:"0.4"}},scrollIcon:{width:"20px",height:"10px"},sliderGroup:{position:"relative"},sliderLabel:{margin:"20px 0px 0px 20px",display:"inline-block",fontFamily:"Inconsolata",fontWeight:"800",color:function(e){return e.theme&&e.theme.text}},input:{position:"absolute",top:"20px",right:"40px",width:"45px",fontFamily:"Inconsolata",fontSize:"14px",border:"none",display:"inline-block",backgroundColor:function(e){return e.theme&&e.theme.background},color:function(e){return e.theme&&e.theme.text}},row:{display:"flex",alignItems:"center","& > div":{display:"inline-block"}},dropdown:{width:"50px !important",maxWidth:"60px",height:"18px !important",minHeight:"18px !important",fontFamily:"Inconsolata",fontWeight:"800",zIndex:"9000",borderWidth:"0px 0px 2px 0px !important",borderColor:"".concat((function(e){return e.theme&&e.theme.text})," $important"),color:function(e){return e.theme&&e.theme.text},boxShadow:"none !important",padding:"0px !important",margin:"auto",marginTop:"10px",marginBottom:"10px","&:hover":{borderColor:"".concat((function(e){return e.theme&&e.theme.text})," !important")},"& div":{"& input":{color:function(e){return e.theme&&e.theme.text}}}}}),Qt=o(79),Ut=o.n(Qt),Kt=function(){var e=Object(c.c)((function(e){return e.network.theme})),t=Object(c.c)((function(e){return e.network.elementIndex})),o=Object(n.useState)(Ct(e)),r=Object(l.a)(o,2),i=r[0],s=r[1],u=Object(n.useState)(i[t]),d=Object(l.a)(u,2),h=d[0],p=d[1];Object(n.useEffect)((function(){s(Ct(e))}),[e]),Object(n.useEffect)((function(){p(i[t])}),[t,i]);var f=Object(c.b)(),g=Ht({theme:e}),w=function(e,t){f(E.setElementIndex(parseInt(e)+parseInt(t)))};return h?a.a.createElement("div",{id:"nodeDetailPanel",className:g.nodeDetailPanel},a.a.createElement("div",{className:g.nodeToolbar},a.a.createElement("button",{className:g.scrollButton,onClick:function(){return w(-1,t)}},a.a.createElement(b,{className:g.scrollIcon,style:{transform:"rotate(270deg)"},fill:e&&e.text,viewBox:"3 5 10 5",path:m.expandArrow})),a.a.createElement(qt,{style:{margin:"10px"}}),a.a.createElement("button",{className:g.scrollButton,onClick:function(){return w(1,t)}},a.a.createElement(b,{className:g.scrollIcon,style:{transform:"rotate(90deg)"},fill:e&&e.text,viewBox:"3 5 10 5",path:m.expandArrow}))),a.a.createElement(Ut.a,{portal:document.querySelector("body"),options:Ct(e),onChange:function(e){f(E.setElementIndex(e[0].atomicNumber))},className:g.dropdown,values:[Ct(e)[t-1]],dropdownGap:0,dropdownHandle:!1,dropdownHeight:"150px",labelField:"dropdownLabel",onDropdownOpen:function(){return f(y(!1))},onDropdownClose:function(){return f(y(!0))}})):a.a.createElement("div",{className:"elementTile"})},Zt=Object(d.a)({parent:{width:"100%",height:"50px",margin:"15px",display:"flex",backgroundColor:function(e){return e.theme&&e.theme.background},border:function(e){return e.theme&&"3px solid ".concat(e.theme.text)},boxShadow:function(e){return e.theme&&e.theme.boxShadow}},button:{backgroundColor:"transparent",flexGrow:"1",transition:"background-color 0.5s, 0.5s"},selected:{backgroundColor:function(e){return e.theme&&"dark"===e.theme.name?e.theme.secondary:"rgba(100, 100, 100, 0.2)"},boxShadow:function(e){return e.theme&&e.theme.boxShadowLight}},icon:{width:"80px",height:"40px"}}),Yt=[{value:"sine",icon:m.sineWave,viewBox:"50 0 105 105",strokeWidth:"5"},{value:"triangle",icon:m.triangleWave,viewBox:"100 0 700 700",strokeWidth:"35"},{value:"sawtooth",icon:m.sawtoothWave,viewBox:"100 0 700 700",strokeWidth:"35"},{value:"square",icon:m.squareWave,viewBox:"100 0 700 700",strokeWidth:"35"}];function Xt(){var e=Object(c.c)((function(e){return e.network.theme})),t=Object(c.c)((function(e){return e.network.elementIndex})),o=Object(c.c)((function(e){return e.network.audio.nodeData&&e.network.audio.nodeData[t]})),r=Object(n.useState)(o&&o.waveforms),i=Object(l.a)(r,2),s=i[0],u=i[1],d=Zt({theme:e}),m=kt();return Object(n.useEffect)((function(){u(o&&o.waveforms)}),[o]),a.a.createElement("div",{className:d.parent},o&&Yt.map((function(t,n){return a.a.createElement("button",{key:n,className:"".concat(d.button," ").concat(o.waveforms&&o.waveforms.includes(t.value)&&d.selected),onClick:function(){return function(e){var t=s.slice();if(t.includes(e)){if(!(t.length>1))return;t=t.filter((function(t){return t!==e}))}else t.push(e);o.setWaveforms(t),u(t),m()}(t.value)}},a.a.createElement(b,{className:d.icon,path:t.icon,fill:"none",strokeWidth:t.strokeWidth,stroke:e&&e.text,viewBox:t.viewBox}))})))}var Jt=function(){var e,t=Object(c.c)((function(e){return e.network.elementIndex})),o=Object(c.c)((function(e){return e.network.audio.nodeData&&e.network.audio.nodeData[t]})),n={theme:Object(c.c)((function(e){return e.network.theme}))},r=Gt(n);return a.a.createElement("div",{className:"".concat(r.content," ").concat(r.envelope),key:t+100},o&&Object.values((e=o,e&&e.volume?[{label:"attack",onChange:Pt.a.throttle(e.setAttack.bind(e),300),min:it,max:lt,decimals:2,defaultValue:e.attack,defaultValueConversion:1,globalValue:!1,key:e.attack+10,step:.01,stepInput:.01,vertical:!0},{label:"decay",onChange:Pt.a.throttle(e.setDecay.bind(e),300),min:it,max:lt,decimals:2,defaultValue:e.decay,defaultValueConversion:1,globalValue:!1,key:e.decay+20,step:.01,stepInput:.01,vertical:!0},{label:"sustain",onChange:Pt.a.throttle(e.setSustain.bind(e),300),min:it,max:lt,decimals:2,defaultValue:e.sustain,defaultValueConversion:1,globalValue:!1,key:e.sustain+30,step:.01,stepInput:.01,vertical:!0},{label:"release",onChange:Pt.a.throttle(e.setRelease.bind(e),300),min:it,max:lt,decimals:2,defaultValue:e.release,defaultValueConversion:1,globalValue:!1,key:e.release+40,step:.01,stepInput:.01,vertical:!0}]:{})).map((function(e,t){return a.a.createElement(Rt,Object.assign({key:e.key,useStyles:Gt,useStylesProps:n},e))})))},$t=function(){var e,t=Object(c.c)((function(e){return e.network.elementIndex})),o=Object(c.c)((function(e){return e.network.audio.nodeData&&e.network.audio.nodeData[t]})),n={theme:Object(c.c)((function(e){return e.network.theme}))},r=Gt(n);return a.a.createElement("div",{className:r.row},a.a.createElement("div",{className:"".concat(r.content),key:t+100},a.a.createElement("h4",null,"high pass filter"),o&&Object.values((e=o,e&&e.volume?[{label:"frequency",onChange:Pt.a.throttle(e.setHPFilterFrequency.bind(e),300),min:ct.min,max:ct.max,decimals:0,defaultValue:e.hpFilterFrequency,defaultValueConversion:1,globalValue:!1,key:e.hpFilterFrequency?e.hpFilterFrequency+100:-100,step:1,stepInput:1},{label:"q",onChange:Pt.a.throttle(e.setHPFilterQ.bind(e),300),min:st.min,max:st.max,decimals:0,defaultValue:e.hpFilterQ,defaultValueConversion:1,globalValue:!1,key:e.hpFilterQ?e.hpFilterQ+20101:-200,step:1,stepInput:1}]:{})).map((function(e,t){return a.a.createElement(Rt,Object.assign({key:e.key,useStyles:Gt,useStylesProps:n},e,{smallLabel:!0}))}))),a.a.createElement("div",{className:"".concat(r.content),key:t+200},a.a.createElement("h4",null,"low pass filter"),o&&Object.values(function(e){return e&&e.volume?[{label:"frequency",onChange:Pt.a.throttle(e.setLPFilterFrequency.bind(e),300),min:ct.min,max:ct.max,decimals:0,defaultValue:e.lpFilterFrequency,defaultValueConversion:1,globalValue:!1,key:e.lpFilterFrequency?-1*e.lpFilterFrequency:-300,step:1,stepInput:1},{label:"q",onChange:Pt.a.throttle(e.setLPFilterQ.bind(e),300),min:st.min,max:st.max,decimals:0,defaultValue:e.lpFilterQ,defaultValueConversion:1,globalValue:!1,key:e.lpFilterQ?-1*e.lpFilterQ-20001:-400,step:1,stepInput:1}]:{}}(o)).map((function(e,t){return a.a.createElement(Rt,Object.assign({key:e.key,useStyles:Gt,useStylesProps:n},e,{smallLabel:!0}))}))))},eo=function(){var e=Object(c.c)((function(e){return e.network.elementIndex})),t=Object(c.c)((function(e){return e.view})),o=t.menuVisible,r=t.labVisible,i=t.screenInfo,l=Object(c.c)((function(e){return e.network.theme})),s=Object(c.c)((function(t){return t.network.audio.nodeData&&t.network.audio.nodeData[e]})),u=Object(c.b)();Object(n.useEffect)((function(){s||(u(E.createNodeForElement(e)),u(E.createNodeForElement(e+1)))}),[u,e,s]);var d=It({theme:l,labVisible:r,screenInfo:i,menuVisible:o});return a.a.createElement("div",{className:i.isMobile?d.labMobile:d.lab,id:"lab"},a.a.createElement(a.a.Fragment,null,a.a.createElement(Kt,null),a.a.createElement(zt,null),a.a.createElement(Wt,null),a.a.createElement(Xt,null),a.a.createElement(Jt,null),a.a.createElement($t,null)))},to=o(478),oo=o(477),no="player",ao=Object(d.a)({player:{width:function(e){return e.screenInfo&&e.screenInfo.isMobile?"100%":e.labVisible&&e.screenInfo.width<1200?e.screenInfo.width-N+"px":"450px"},height:"80px",border:function(e){return e.theme&&"3px solid ".concat(e.theme.text)},backgroundColor:function(e){return e.theme&&e.theme.background},position:"absolute",zIndex:"100000",boxSizing:"border-box",pointerEvents:"auto",visibility:"visible",display:"flex",alignItems:"center",boxShadow:function(e){return e.theme&&e.theme.boxShadow},overflowX:"auto",overflowY:"hidden",transition:"0.5s"},block:{display:"flex",flexDirection:"column"},row:{display:"flex",flexDirection:"row",padding:"0px 10px",alignItems:"center"},button:{width:"15px",height:"25px",backgroundColor:function(e){return e.theme&&e.theme.background},border:"none",padding:"0px",boxSizing:"border-box","&:hover":{opacity:"0.4"}},stopButton:{marginLeft:"20px"},playIcon:{width:"15px",height:"17px"},stopIcon:{width:"15px",height:"15px"},sliderGroup:{display:"inline-block",marginLeft:"10px",padding:"5px 5px 0px 5px",width:"140px"},sliderLabel:{display:"inline-block",fontFamily:"Inconsolata",fontWeight:"800",color:function(e){return e.theme&&e.theme.text}},input:{marginLeft:"30px",width:"45px",fontFamily:"Inconsolata",fontSize:"14px",border:"none",display:"inline-block",backgroundColor:function(e){return e.theme&&e.theme.background},color:function(e){return e.theme&&e.theme.text}},slider:{width:"120px",display:"inline",marginBottom:"20px"},dropdown:{width:"50px",maxWidth:"60px",height:"18px !important",minHeight:"18px !important",fontFamily:"Inconsolata",fontWeight:"800",zIndex:"3",borderWidth:"0px 0px 2px 0px !important",borderColor:"".concat((function(e){return e.theme&&e.theme.text})," $important"),boxShadow:"none !important",padding:"0px !important",display:"inline","&:hover":{borderColor:"".concat((function(e){return e.theme&&e.theme.text})," !important")},"> & span":{width:"23px"},"& div":{"& input":{color:function(e){return e.theme&&e.theme.text}}}},parent:{margin:"15px",display:"flex",justifyContent:"center",backgroundColor:function(e){return e.theme&&e.theme.background},border:function(e){return e.theme&&"3px solid ".concat(e.theme.text)}},short:{width:"120px",height:"75px",marginRight:"10px",display:"flex",alignItems:"center",justifyContent:"center"},med:{width:"220px",height:"75px",marginRight:"10px",display:"flex",alignItems:"center",justifyContent:"center"},last:{marginRight:"0px",marginLeft:"auto"},centeredContent:{marginTop:"30px"},sliderRow:{display:"flex",alignItems:"center",justifyContent:"center"},msContainer:{display:"flex",flexDirection:"column",justifyContent:"space-evenly",height:"100%",paddingRight:"10px"},ms:{width:"30px",height:"30px",backgroundColor:"transparent",border:function(e){return"3px solid ".concat(e.theme&&e.theme.text)},padding:"0px",fontFamily:"Inconsolata",fontSize:"18px",fontWeight:"600","&:hover":{opacity:"0.6"}},tooltip:{height:"40px",display:"flex"},tooltipText:{display:"block",color:function(e){return e.theme&&e.theme.background},fontSize:"14px",height:"35px"}}),ro=Object(d.a)({parent:{width:"80px",display:"flex"},dropdown:{width:"50px",maxWidth:"60px",height:"18px !important",minHeight:"18px !important",fontFamily:"Inconsolata",fontWeight:"800",zIndex:"3",borderWidth:"0px 0px 2px 0px !important",borderColor:"".concat((function(e){return e.theme&&e.theme.text})," $important"),boxShadow:"none !important",padding:"0px !important",margin:"auto",marginTop:"10px",marginBottom:"10px",display:"inline","&:hover":{borderColor:"".concat((function(e){return e.theme&&e.theme.text})," !important")},"> & span":{width:"23px"},"& div":{"& input":{color:function(e){return e.theme&&e.theme.text}}}}}),io=function(e){var t=e.style,o=e.renderInBody,n=Object(c.c)((function(e){return e.network.audio})),r=n.key,i=n.disposition,l=Object(c.c)((function(e){return e.network.theme})),s=Object(c.b)(),u=ro({theme:l}),d={Db:"C#",Gb:"F#",Ab:"G#","C#":"Db","F#":"Gb","G#":"Ab",m:"M",M:"m"};return a.a.createElement(a.a.Fragment,null,i&&a.a.createElement("div",{className:u.parent,style:t},a.a.createElement(Ut.a,{portal:o&&document.querySelector("body"),options:ve[i],onChange:function(e){s(E.setKey(e[0]))},className:"small-dropdown-no-search ".concat(u.dropdown),values:[ve[i].find((function(e){return e.label===r.label}))],searchable:!1,dropdownGap:0,dropdownHandle:!1,labelField:"label",onDropdownOpen:function(){return s(y(!1))},onDropdownClose:function(){return s(y(!0))}}),a.a.createElement(Ut.a,{portal:o&&document.querySelector("body"),options:ke,onChange:function(e){if(i){var t=i;if(s(E.setDisposition(e[0].value)),Object.keys(d).includes(r.label)){var o=d[r.label];s(E.setKey(xe[d[t]][o]))}}},className:"".concat(u.dropdown," wide-dropdown-no-search"),values:[ke.find((function(e){return e.value===i}))],searchable:!1,disabled:0===r.value,dropdownGap:0,dropdownHandle:!1,labelField:"label",onDropdownOpen:function(){return s(y(!1))},onDropdownClose:function(){return s(y(!0))}})))},lo=[{label:"volume",min:et,max:tt,decimals:2,defaultValue:"masterGain",defaultValueConversion:127,onChange:E.setMasterVolume,globalValue:!0},{label:"tempo",min:Je,max:$e,decimals:0,defaultValue:"masterTempo",defaultValueConversion:1,onChange:E.setTempo,globalValue:!0}],co=function(e){var t=e.mute,o=e.solo,n=e.onMute,r=e.onSolo,i=e.redux,l=e.updateParent,s=Object(c.c)((function(e){return e.network.theme})),u=ao(),d=Object(c.b)(),b=function(e){var t=e.label,o=e.alertColor,n=e.warningColor,r=e.alertActive,l=e.warningActive,c=e.onClick,b=s&&s.text;return r?b=o:l&&(b=n),a.a.createElement("button",{key:r+l,className:u.ms,style:{color:b,borderColor:b},onClick:function(){return i?d(c()):m(c)}},t)},m=function(e){e(),l(),d(E.isSomethingMutedOrSoloed())};return a.a.createElement(a.a.Fragment,null,a.a.createElement(a.a.Fragment,null,a.a.createElement(b,{label:"m",alertColor:s&&s.alertText,alertActive:t,warningColor:s&&s.warningText,warningActive:-1===o,onClick:n}),a.a.createElement(b,{label:"s",alertColor:s&&s.highlightText,alertActive:o,onClick:r})))},so=function(e){var t=e.id,o=e.left,r=e.top,i=e.hideSourceOnDrag,s=e.setInteractible,u=Object(c.c)((function(e){return e.network.audio.somethingIsMuted})),d=Object(c.c)((function(e){return e.network.audio.somethingIsSoloed})),h=Object(c.c)((function(e){return e.network.audio.playing})),p=Object(c.c)((function(e){return e.network.theme})),f=Object(c.c)((function(e){return e.view})),g=f.screenInfo,w=f.labVisible,y=Object(n.useState)(!0),x=Object(l.a)(y,2),v=x[0],k=x[1],C={theme:p,solo:d,mute:u,screenInfo:g,labVisible:w},O=ao(C),j=Object(c.b)();!function(){var e=Object(c.b)();Object(n.useEffect)((function(){var t=function(t){"m"===t.key?e(E.setMuted()):"n"===t.key?e(E.setSoloed()):"Space"===t.code&&e(E.playOrPause())};return document.addEventListener("keydown",t),function(){document.removeEventListener("keydown",t)}}),[e])}();var S=Object(oo.a)({item:{id:t,left:o,top:r,type:no},collect:function(e){return{isDragging:e.isDragging()}},canDrag:v}),N=Object(l.a)(S,2),M=N[0].isDragging,L=N[1];return Object(n.useEffect)((function(){s(M)}),[M,s]),M&&i?a.a.createElement("div",{ref:L}):a.a.createElement("div",{ref:L,className:O.player,style:{left:o,top:r}},a.a.createElement("div",{className:O.block},a.a.createElement("span",{className:O.row},a.a.createElement("button",{className:O.button,onClick:function(){return j(E.playOrPause())}},a.a.createElement(b,{className:O.playIcon,fill:p&&p.text,viewBox:"0 0 300 300",path:h?m.pause:m.play})),a.a.createElement("button",{className:"".concat(O.button," ").concat(O.stopButton),onClick:function(){return j(E.stop())}},a.a.createElement(b,{className:O.stopIcon,fill:p&&p.text,viewBox:"0 0 300 300",path:m.stop}))),a.a.createElement("span",{className:O.row},a.a.createElement(io,{renderInBody:!0}))),a.a.createElement("div",{className:O.msContainer},a.a.createElement(co,{mute:u,solo:d,onMute:E.setMuted,onSolo:E.setSoloed,redux:!0})),lo.map((function(e){return a.a.createElement(Rt,Object.assign({key:e.max,useStyles:ao,useStylesProps:C},e,{setDraggable:k}))})))},uo=function(e){var t=e.player,o=e.interactible,a=e.setInteractible,r=e.move,i=Object(c.c)((function(e){return e.view})),l=i.screenInfo,s=i.labVisible,u=i.menuVisible;Object(n.useEffect)((function(){l.isMobile||r(l.width/2-225,t.top)}),[l.width]),Object(n.useEffect)((function(){l.isMobile||r(t.left,l.height-150)}),[l.height]),Object(n.useEffect)((function(){!l.isMobile||u||s||(a(!1),r(0,l.height-80))}),[l,o]),Object(n.useEffect)((function(){(s&&!u&&!l.isMobile||l.isMobile&&!s&&!u)&&r(0,l.height-80)}),[s,u,l,o]),Object(n.useEffect)((function(){u&&(s||l.isMobile)||l.isMobile&&(u||s)?r(0,M+41):u?r(0,l.height-S-80):l.isMobile||u||s?u||r(0,l.height-80):r(l.width/2-225,l.height-150)}),[u]),Object(n.useEffect)((function(){u&&(s||l.isMobile)||l.isMobile&&(u||s)?r(0,M+41):s&&!l.isMobile?r(0,l.height-80):s&&u?r(0,M+41):s||u||l.isMobile||r(l.width/2-225,l.height-150)}),[s])},bo=function(){var e=Object(c.c)((function(e){return e.view.screenInfo})),t=Object(n.useState)({id:Object(Q.v4)(),top:e.height-150,left:e.width/2-225}),o=Object(l.a)(t,2),r=o[0],i=o[1],s=Object(n.useState)(!1),u=Object(l.a)(s,2),b=u[0],m=u[1],h=Object(to.a)({accept:no,drop:function(e,t){var o=t.getDifferenceFromInitialOffset(),n=Math.round(e.left+o.x),a=Math.round(e.top+o.y);f(n,a)}}),p=Object(l.a)(h,2)[1],f=function(e,t){i({left:e,top:t})},g=Object(d.a)({background:{position:"absolute",top:"0px",left:"0px",width:"100%!important",height:"100% !important",backgroundColor:"transparent",display:"flex",alignItems:"center",justifyContent:"center",zIndex:"7999",visibility:b?"visible":"hidden"}})();return uo({player:r,interactible:b,setInteractible:m,move:f}),a.a.createElement("div",{ref:p,className:g.background},a.a.createElement(so,{id:r.id,left:r.left,top:r.top,hideSourceOnDrag:!0,setInteractible:m}))},mo=Object(d.a)({editor:{width:function(e){return e.screenInfo.isMobile&&!e.isCollapsed?"100%":!e.screenInfo.isMobile&&e.screenInfo.width<1200&&e.labVisible&&!e.isCollapsed?e.screenInfo.width-N+"px":e.isCollapsed?"40px":"265px"},display:"flex",flexDirection:"column",height:"40px",border:function(e){return e.theme&&"3px solid ".concat(e.theme.text)},backgroundColor:function(e){return e.theme&&e.theme.secondaryBackgroundSolid},position:"absolute",zIndex:"8000",pointerEvents:"auto",visibility:"visible",alignItems:"center",boxShadow:function(e){return e.theme&&e.theme.boxShadow},boxSizing:"border-box",transition:"0.5s, right 0.5s, width 0.25s, top 0.5s"},options:{display:"flex",flexDirection:"row",width:"100%",height:"100%",justifyContent:"center",alignItems:"center"},button:{padding:"10px",backgroundColor:"transparent",color:function(e){return e.theme&&e.theme.text},border:"none",display:"flex",flexWrap:"nowrap",alignItems:"center",cursor:"pointer","&:hover":{opacity:"0.6"}},active:{backgroundColor:"rgba(100, 100, 100, 0.2) !important",color:function(e){return e.theme&&e.theme.text},transition:"1s"},label:{"&:hover":{opacity:"1.0"}},dropdown:{width:"100%",height:"200px",backgroundColor:function(e){return e.theme&&e.theme.background},border:function(e){return e.theme&&"3px solid ".concat(e.theme.text)},zIndex:"8000",boxSizing:"border-box",boxShadow:function(e){return e.theme&&e.theme.boxShadow}},icon:{width:"25px",height:"25px",marginRight:"10px"},option:{width:"100%",display:"flex",fontFamily:"Inconsolata",alignItems:"center",border:"none",height:"40px",cursor:"pointer",backgroundColor:"transparent",color:function(e){return e.theme&&e.theme.text},margin:"auto",fontSize:"12px","&:hover":{backgroundColor:"rgba(100, 100, 100, 0.1)",color:function(e){return e.theme&&e.theme.text},transition:"0.5s"}},shortcut:{fontSize:"14px",display:"block",opacity:"0.6",marginLeft:"auto"},lockIcon:{margin:"2px 0px 0px 5px",width:"10px",height:"10px"},hamburgerButton:{marginLeft:"auto",padding:"13px 10px 10px 7px"},hamburgerIcon:{width:"15px",height:"15px"}}),ho=function(e){var t=e.id,o=e.right,r=e.top,i=e.hideSourceOnDrag,s=e.setInteractible,u=Object(c.c)((function(e){return e.network.theme})),d=Object(c.c)((function(e){return e.config.hotkeys})),h=Object(c.c)((function(e){return e.view})),p=h.screenInfo,f=h.labVisible,g=Object(n.useState)({menu:null,locked:!1}),y=Object(l.a)(g,2),x=y[0],v=y[1],k=Object(n.useState)(!1),C=Object(l.a)(k,2),O=C[0],j=C[1],S=Object(n.useState)(!0),N=Object(l.a)(S,1)[0],M=a.a.createRef(),L=mo({theme:u,screenInfo:p,isCollapsed:O,labVisible:f}),I=Pe(),T=Object(c.b)(),F=Object(oo.a)({item:{id:t,right:o,top:r,type:no},collect:function(e){return{isDragging:e.isDragging()}},canDrag:N}),A=Object(l.a)(F,2),D=A[0].isDragging,B=A[1];if(Object(n.useEffect)((function(){s(D)}),[D,s,r]),D&&i)return a.a.createElement("div",{ref:B});var V=function(){if(!x.locked){var e=!1;if(M.current)document.querySelectorAll(":hover").forEach((function(t){M.current.contains(t)&&(e=!0)}));!e&&v({menu:null,locked:!1})}};return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{ref:B,className:L.editor,style:{right:o,top:r},onMouseLeave:V},a.a.createElement("div",{className:L.options},!O&&Object.keys(I).map((function(e,t){return a.a.createElement("button",{className:"".concat(L.button," ").concat(x.menu===e&&L.active),onMouseEnter:function(){return function(e){x.locked||v(x.menu!==e?{menu:e,locked:!1}:{menu:null,locked:!1})}(e)},onClick:function(){return function(e){v(x.menu===e&&x.locked?{menu:null,locked:!1}:{menu:e,locked:!0})}(e)},onMouseLeave:V,key:t},a.a.createElement("h2",{className:L.label},e),x.locked&&x.menu===e&&a.a.createElement(b,{className:L.lockIcon,path:m.lock,fill:u&&u.secondary}))})),a.a.createElement("button",{className:"".concat(L.button," ").concat(L.hamburgerButton),onClick:function(){v({menu:null,locked:!0}),setTimeout((function(){return v({menu:null,locked:!1})}),250),j(!O)}},a.a.createElement(b,{className:L.hamburgerIcon,path:m.hamburger,fill:u&&u.text}))),a.a.createElement((function(e){var t=e.above;return a.a.createElement(a.a.Fragment,null,Object.keys(I).map((function(e,o){return e===x.menu?a.a.createElement("div",{className:L.dropdown,key:o,style:{bottom:t?r:"unset"},ref:M},I[e].map((function(e,t){return a.a.createElement("button",{className:"".concat(L.option," ").concat(e.active&&L.active),onClick:function(){return function(e){e.action&&T(e.action(e.passDispatch&&T)),e.modal&&(T(w(e.modal,e.modalAction,e.global)),e.alwaysShowModal&&T(E.setModalVisible(!0)))}(e)},key:t},a.a.createElement(b,{className:L.icon,path:e.icon.path,viewBox:e.icon.viewBox,fill:u&&u.text}),a.a.createElement("h3",{className:L.label},e.label),d&&a.a.createElement("h4",{className:L.shortcut},e.shortcut))}))):null})))}),null)))},po=function(e){var t=e.editorToolbar,o=e.interactible,a=e.setInteractible,r=e.move,i=Object(c.c)((function(e){return e.view})),l=i.screenInfo,s=i.labVisible;Object(n.useEffect)((function(){!l.isMobile&&!s&&t.right+300>l.width&&r(20,t.top)}),[l.width]),Object(n.useEffect)((function(){!l.isMobile&&!s&&t.top+40>l.height&&r(t.right,M+2)}),[l.height]),Object(n.useEffect)((function(){l.isMobile&&(a(!1),r(0,M+2))}),[l,o]),Object(n.useEffect)((function(){s&&!l.isMobile?r(N,M+2):l.isMobile||r(20,M+2)}),[s,l])},fo=function(){var e=Object(n.useState)({id:Object(Q.v4)(),top:M,right:20}),t=Object(l.a)(e,2),o=t[0],r=t[1],i=Object(n.useState)(!1),c=Object(l.a)(i,2),s=c[0],u=c[1],b=Object(to.a)({accept:no,drop:function(e,t){var o=t.getDifferenceFromInitialOffset(),n=Math.round(e.right-o.x),a=Math.round(e.top+o.y);h(n,a)}}),m=Object(l.a)(b,2)[1],h=function(e,t){r({right:e,top:t})},p=Object(d.a)({background:{position:"absolute",top:"0px",left:"0px",width:"100%!important",height:"100% !important",backgroundColor:"transparent",display:"flex",alignItems:"center",justifyContent:"center",zIndex:"7999",visibility:s?"visible":"hidden"}});po({editorToolbar:o,interactible:s,setInteractible:u,move:h});var f=p();return a.a.createElement("div",{ref:m,className:f.background},a.a.createElement(ho,{id:o.id,right:o.right,top:o.top,hideSourceOnDrag:!0,setInteractible:u}))};var go=Object(d.a)({expandIcon:{marginBottom:"2px",width:"10px",height:"5px",transition:"transform 0.5s"},button:{position:"absolute",transition:"bottom 0.5s, left 0.5s, right 0.5s",backgroundColor:function(e){return e.theme&&e.theme.secondaryBackground},color:function(e){return e.theme&&e.theme.text},zIndex:8001,boxSizing:"border-box","&:hover":{opacity:.6}},menuButton:{width:"100px",height:"36px",right:function(e){return e.labVisible?e.screenInfo.width-150+"px":"calc(50% - 50px)"},borderColor:function(e){return e.theme&&e.theme.text},borderWidth:"2px 2px 0px 2px",bottom:function(e){return e.menuVisible?S+"px":e.labVisible?"80px":"-10px"}},menuButtonMobile:{right:"50vw !important",bottom:function(e){return e.labVisible||e.menuVisible?S+"px":"80px"}},labButton:{bottom:function(e){return e.menuVisible?S+"px":"40%"},width:"36px",height:"100px",marginLeft:"40px",zIndex:"8005",borderColor:function(e){return e.theme&&e.theme.text},borderWidth:"2px 0px 2px 2px",right:function(e){return e.labVisible?N+"px":"0px"}},labButtonMobile:{width:"100px",height:"36px",borderColor:function(e){return e.theme&&e.theme.text},borderWidth:"2px 2px 0px 2px",bottom:function(e){return e.menuVisible||e.labVisible?S+"px":"80px"},left:"50vw"}}),wo=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),o=t[0],r=t[1],i=Object(c.c)((function(e){return e.view})),s=i.menuVisible,u=i.labVisible,d=i.screenInfo,h=Object(c.c)((function(e){return e.network.modalVisible})),p=Object(c.c)((function(e){return e.network.theme})),f=Object(c.c)((function(e){return e.network.audio})),y=go({theme:p,menuVisible:s,labVisible:u,screenInfo:d}),x=Object(c.b)();Object(n.useEffect)((function(){r(!0)}),[]),function(e){var t=Object(c.c)((function(e){return e.config.hotkeys})),o=Object(c.b)(),a=Pe(),r=function(e,t){var o=0;return function(){var n=(new Date).getTime();if(!(n-o<e))return o=n,t.apply(void 0,arguments)}}(100,(function(e){t&&Object.values(a).forEach((function(t){t.forEach((function(t){t.shortcut===e.key&&("delete selected"===t.label&&o(w(ee,E.delete,!0)),o(t.action(t.passDispatch&&o)))}))}))}));Object(n.useEffect)((function(){return t&&!1!==e?window.addEventListener("keydown",r):window.removeEventListener("keydown",r),function(){window.removeEventListener("keydown",r)}}))}(f.nodeData&&Object.keys(f.nodeData).length>0&&!h),function(){var e=Object(c.b)();Object(n.useEffect)((function(){var t=function(e,t){var o;return function(){for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];o&&clearTimeout(o),o=setTimeout((function(){t.apply(void 0,a),o=null}),e)}}(100,(function(t){e(j(window.innerWidth,window.innerHeight))}));return window.addEventListener("resize",t),function(){window.removeEventListener("resize",t)}}))}(),function(){var e=Object(c.c)((function(e){return e.network.elementIndex})),t=Object(c.b)(),o=function(o){"ArrowDown"===o.key?t(E.setElementIndex(parseInt(e)+1,!0)):"ArrowUp"===o.key?t(E.setElementIndex(parseInt(e)-1,!0)):"ArrowRight"===o.key?t(E.setElementIndex(parseInt(e)+1)):"ArrowLeft"===o.key&&t(E.setElementIndex(parseInt(e)-1))};Object(n.useEffect)((function(){return document.addEventListener("keyup",o),function(){document.removeEventListener("keyup",o)}}))}(),function(){var e=Object(n.useState)(new Ve),t=Object(l.a)(e,1)[0],o=Object(c.c)((function(e){return e.network.audio.playing})),a=Object(c.c)((function(e){return e.network.audio.masterTempo})),r=Object(c.c)((function(e){return e.network.audio.masterGain})),i=Object(c.c)((function(e){return e.network.network})),s=Object(c.c)((function(e){return e.network.shouldUpdateNetwork})),u=Object(c.c)((function(e){return e.network.graphInfo})),d=Object(c.c)((function(e){return e.network.theme})),b=Object(c.c)((function(e){return e.network.audio})),m=Object(n.useState)(null),h=Object(l.a)(m,2),p=h[0],f=h[1],w=Object(c.b)(),y=Object(g.f)();Object(n.useEffect)((function(){return function(){w(E.stop()),clearInterval(p),t.stop()}}),[y]),Object(n.useEffect)((function(){if(o){var e=t.start(i,b,r,a,d);f(setInterval((function(){return w(k("beatIndex",Math.random()))}),e))}else clearInterval(p),t.stop()}),[o]),Object(n.useEffect)((function(){o&&(t.stop(),t.start(i,b,r,a,d))}),[a]),Object(n.useEffect)((function(){t.updateNetwork(i)}),[i,s,u])}();var v=function(e,t){return a.a.createElement(b,{className:y.expandIcon,style:{transform:"rotate(".concat(e?t[0]+"deg":t[1]+"deg",")")},fill:p&&p.text,viewBox:"3 5 10 5",path:m.expandArrow})};return a.a.createElement("div",{className:o?"page show":"page hide"},a.a.createElement(bo,null),a.a.createElement(fo,null),a.a.createElement(Re,null),a.a.createElement(Qe,null),a.a.createElement(eo,null),a.a.createElement("button",{className:"".concat(y.button," ").concat(y.menuButton," ").concat(d.isMobile&&y.menuButtonMobile),onClick:function(){return x(C(!s))}},v(s,[180,0])),a.a.createElement("button",{className:"".concat(y.button," ").concat(d.isMobile?y.labButtonMobile:y.labButton),onClick:function(){return x(O(!u))}},v(u,d.isMobile?[180,0]:[90,270])))},yo=function(){var e=Object(c.c)((function(e){return e.firebase})).profile,t=e.isEmpty?"default":e.email,o=Object(ae.useFirestore)(),r=Object(ae.useFirebase)();Object(ae.useFirestoreConnect)((function(){return[{collection:"config",doc:t}]}));var i=Object(c.c)((function(e){return e.view.screenInfo})),s=Object(c.c)((function(e){return e.config.login})),u=Object(c.c)((function(e){return e.config.hotkeys})),b=Object(c.c)((function(e){return e.network.theme})),m=Object(n.useState)(!1),h=Object(l.a)(m,2),p=h[0],f=h[1],v=Object(c.b)(),k=Object(d.a)({sliderLabel:{display:"block",fontFamily:"Roboto Condensed",color:b&&b.text},vertical:{textAlign:"center",width:"80%",marginBottom:"5px"},toggle:{margin:"20px 20px 20px 0px"},button:{margin:"20px 20px 20px 0px",display:"block",width:"150px",height:"40px",backgroundColor:b&&b.background,color:b&&b.text,borderWidth:"2px",borderColor:b&&b.text,fontSize:"16px","&:disabled":{visibility:"hidden"}},delete:{color:b&&b.alertText,borderColor:b&&b.alertText}})();Object(n.useEffect)((function(){f(!0)}),[]);var C=function(){o.collection("config").doc(e.email).delete(),o.collection("users").where("email","==",e.email).get().then((function(e){e.forEach((function(e){e.ref.delete()}))})),r.auth().currentUser.delete(),v(x({valid:!1}))};return a.a.createElement("div",{className:p?"page show":"page hide"},a.a.createElement("div",{className:"textContainer center"},"default"!==t&&a.a.createElement("h3",null,"hi, ",e.username),a.a.createElement("span",{className:k.toggle},a.a.createElement("p",{className:k.sliderLabel},"theme"),a.a.createElement("label",{className:"switch"},a.a.createElement("input",{type:"checkbox",onChange:function(){var e=b===Et.dark?Et.light:Et.dark;v(E.setTheme(e)),"default"!==t&&o.collection("config").doc(t).update({theme:e.name})},defaultChecked:b===Et.dark,tabIndex:"0"}),a.a.createElement("span",{className:"toggleSlider"}))),!i.isMobile&&a.a.createElement("span",{className:k.toggle},a.a.createElement("p",{className:k.sliderLabel},"hotkeys"),a.a.createElement("label",{className:"switch"},a.a.createElement("input",{type:"checkbox",onChange:function(){var e=!u;v(y(e)),"default"!==t&&o.collection("config").doc(t).update({hotkeys:e})},defaultChecked:u,tabIndex:"0"}),a.a.createElement("span",{className:"toggleSlider"}))),a.a.createElement("button",{className:k.button,onClick:function(){v(E.setTheme(Et[I.theme])),v(y(I.hotkeys)),"default"!==t&&o.collection("config").doc(t).set(I)}},"restore defaults"),s.valid&&e.email&&a.a.createElement("button",{className:"".concat(k.button," ").concat(k.delete),onClick:function(){v(w(te,C,!1)),v(E.setModalVisible(!0))}},"delete account")),!s.valid&&e.email&&a.a.createElement(g.a,{to:"/"}))},xo=function(){return a.a.createElement("div",{className:"textContainer center"},a.a.createElement("p",null,"This is a secret administration page, for my eyes only :-)"))},vo=Object(d.a)({input:{backgroundColor:function(e){return e.theme&&e.theme.background},color:function(e){return e.theme&&e.theme.text},borderWidth:"0px 0px 2px 0px",borderColor:function(e){return e.theme&&e.theme.text},fontFamily:"Inconsolata",fontSize:"20px",display:"block",margin:"20px"},parent:{display:"flex",flexDirection:"column",textAlign:"center",justifyContent:"center",alignItems:"center",height:"71%"},signUpParent:{height:"80%"},passwordParent:{height:"48%"},button:{width:"100px",height:"40px",backgroundColor:function(e){return e.theme&&e.theme.background},color:function(e){return e.theme&&e.theme.text},borderWidth:"2px",borderColor:function(e){return e.theme&&e.theme.text},"&:disabled":{visibility:"hidden"}},message:{textAlign:"center",maxHeight:"50px",maxWidth:"200px",padding:"0px",margin:"10px 0px 10px 0px"},offset:{marginLeft:"30px"},error:{color:function(e){return e.theme&&e.theme.alertText}}}),ko=function(e){var t=e.classes,o=Object(c.c)((function(e){return e.config.login})),r=Object(c.c)((function(e){return e.config.formFields})),i={username:r.username,email:r.email,passwordOne:"",passwordTwo:"",error:null},s=Object(n.useState)(Object(ne.a)({},i)),u=Object(l.a)(s,2),d=u[0],b=u[1],m=Object(ae.useFirebase)(),h=Object(c.b)(),p=function(e){b(Object(ne.a)({},d,Object(oe.a)({},e.target.name,e.target.value)))},f=d.passwordOne!==d.passwordTwo||""===d.passwordOne||""===d.email||""===d.username;return a.a.createElement(a.a.Fragment,null,a.a.createElement("form",{onSubmit:function(e){var t=d.username,o=d.email,n=d.passwordOne;h(v(t,o)),m.createUser({email:o,password:n},{username:t,email:o}).then((function(){h(x({valid:!0,message:!1}))})).catch((function(e){h(x({valid:!1,message:e.message}))})),e.preventDefault()}},a.a.createElement("input",{className:t.input,name:"username",value:d.username,onChange:p,type:"text",placeholder:"username"}),a.a.createElement("input",{className:t.input,name:"email",value:d.email,onChange:p,type:"text",placeholder:"email address"}),a.a.createElement("input",{className:t.input,name:"passwordOne",value:d.passwordOne,onChange:p,type:"password",placeholder:"password"}),a.a.createElement("input",{className:t.input,name:"passwordTwo",value:d.passwordTwo,onChange:p,type:"password",placeholder:"confirm password"}),a.a.createElement("button",{className:t.button,disabled:f,type:"submit"},"Sign Up"),o&&o.message&&a.a.createElement("p",{className:"".concat(t.message," ").concat(t.offset)},o.message)),o&&o.valid&&a.a.createElement(g.a,{to:"/"}))},Eo=function(e){var t=e.classes;return a.a.createElement("p",{className:t.message},"Don't have an account? ",a.a.createElement(u.b,{to:"/signup"},"Sign Up"))},Co=function(){var e=Object(c.c)((function(e){return e.network.theme})),t=vo({theme:e});return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"".concat(t.parent," ").concat(t.signUpParent)},a.a.createElement("h2",null,"sign up"),a.a.createElement(ko,{classes:t})))},Oo=function(e){var t=e.classes,o=Object(n.useState)(""),r=Object(l.a)(o,2),i=r[0],s=r[1],u=Object(c.c)((function(e){return e.config.login})),d=Object(ae.useFirebase)(),b=Object(c.b)(),m=""===i;return a.a.createElement(a.a.Fragment,null,a.a.createElement("form",{onSubmit:function(e){d.resetPassword(i).then((function(){b(x({valid:!1,message:"a message has been sent to ".concat(i)}))})).catch((function(e){b(x({valid:!1,message:e.message}))})),e.preventDefault()}},a.a.createElement("input",{className:t.input,name:"email",value:i,onChange:function(e){s(e.target.value)},type:"text",placeholder:"Email Address"}),a.a.createElement("button",{className:t.button,disabled:m,type:"submit"},"Reset"),u&&u.message&&a.a.createElement("p",{className:t.message},u.message)),a.a.createElement(Lo,{classes:t,onClick:function(){b(x({valid:!1,message:null}))}}))},jo=function(e){var t=e.classes;return a.a.createElement("p",{className:t.message},a.a.createElement(u.b,{to:"/pw-reset"},"forgot password?"))},So=function(){var e=Object(c.c)((function(e){return e.network.theme})),t=vo({theme:e});return a.a.createElement("div",{className:"".concat(t.parent," ").concat(t.passwordParent)},a.a.createElement("h2",null,"reset password"),a.a.createElement(Oo,{classes:t}))},No={email:"",password:""},Mo=function(){var e=Object(n.useState)(Object(ne.a)({},No)),t=Object(l.a)(e,2),o=t[0],r=t[1],i=Object(c.c)((function(e){return e.network.theme})),s=Object(c.c)((function(e){return e.config.login}));s&&"boolean"!==typeof s.message&&(s.message=null);var u=vo({theme:i}),d=Object(ae.useFirebase)(),b=Object(c.b)(),m=function(e){r(Object(ne.a)({},o,Object(oe.a)({},e.target.name,e.target.value)))},h=""===o.password||""===o.email;return a.a.createElement(a.a.Fragment,null,a.a.createElement("form",{onSubmit:function(e){var t=o.email,n=o.password;e.preventDefault(),d.login({email:t,password:n}).then((function(){b(x({valid:!0,message:null}))})).catch((function(e){b(x({valid:!1,message:!0}))}))}},a.a.createElement("input",{className:u.input,name:"email",value:o.email,onChange:m,type:"text",placeholder:"email"}),a.a.createElement("input",{className:u.input,name:"password",value:o.password,onChange:m,type:"password",placeholder:"password"}),a.a.createElement("button",{className:u.button,disabled:h,type:"submit"},"Sign In"),s&&s.message&&a.a.createElement("p",{className:"".concat(u.message," ").concat(u.offset," ").concat(u.error)},"check your username and password and try again")),s&&s.valid&&a.a.createElement(g.a,{to:"/"}))},Lo=function(e){var t=e.classes,o=e.onClick;return a.a.createElement("p",{className:t.message},a.a.createElement(u.b,{to:"/login",onClick:o},"back to login"))},Io=function(){var e=Object(c.c)((function(e){return e.network.theme})),t=vo({theme:e});return a.a.createElement("div",{className:t.parent},a.a.createElement("h2",null,"log in"),a.a.createElement(Mo,null),a.a.createElement(jo,{classes:t}),a.a.createElement(Eo,{classes:t}))},To=function(e){var t=e.classes,o=Object(c.c)((function(e){return e.config.login})),n=Object(ae.useFirebase)(),r=Object(c.b)();return a.a.createElement(a.a.Fragment,null,a.a.createElement("h4",{type:"button",onClick:function(){n.logout(),r(x({valid:!1}))},className:t.toolbarItem},"sign out"),!o.valid&&a.a.createElement(g.a,{to:"/"}))};function Fo(){var e=Object(c.c)((function(e){return e.network.theme})),t=Object(c.c)((function(e){return e.firebase.auth})),o=Object(c.c)((function(e){return e.firebase.profile})),r=Object(c.c)((function(e){return e.view})),i=r.screenInfo,s=r.labVisible,d=Object(n.useState)(!1),h=Object(l.a)(d,2),p=h[0],f=h[1],w=Object(g.f)(),y=Object(n.useState)("/"===w.pathname),x=Object(l.a)(y,2),v=x[0],k=x[1],E=T({theme:e,screenInfo:i,labVisible:s,isOnHome:v}),C=function(e){return"".concat(E.toolbarItem," ").concat(w.pathname===e&&E.active)};return Object(n.useEffect)((function(){s||i.isMobile||f(!1)}),[s,i.isMobile]),Object(n.useEffect)((function(){var e="/"===w.pathname;k(e),e||f(!1)}),[w]),a.a.createElement(a.a.Fragment,null,a.a.createElement("header",{className:E.titleHeader},a.a.createElement("button",{className:"".concat(E.hamburgerButton," ").concat(i.isMobile||!i.isMobile&&s&&v?E.showBurger:E.hideBurger),onClick:function(){return(i.isMobile||!i.isMobile&&s&&v)&&f(!p)}},a.a.createElement(b,{className:E.hamburgerIcon,path:m.hamburger,fill:e&&e.text,viewBox:"0 0 30 30"})),a.a.createElement("div",{className:"".concat(E.floatRight," ").concat(p?E.show:(i.isMobile||s&&v)&&E.hide)},a.a.createElement(u.c,{exact:!0,to:"/",className:C("/")},"home"),a.a.createElement(u.c,{to:"/settings",className:C("/settings")},"settings"),Object(ae.isEmpty)(t)&&a.a.createElement(u.c,{to:"/login",className:C("/login")},"log in"),!Object(ae.isEmpty)(t)&&o.admin&&a.a.createElement(u.c,{to:"/admin",className:C("/admin")},"admin"),!Object(ae.isEmpty)(t)&&a.a.createElement(To,{classes:E})),a.a.createElement("h1",{className:p?E.hide:E.show},a.a.createElement(u.c,{exact:!0,to:"/"},"atomizer"))),a.a.createElement("div",{id:"body",className:E.body},a.a.createElement(J,null),a.a.createElement(g.b,{path:"/",exact:!0,component:wo}),a.a.createElement(g.b,{path:"/settings",component:yo}),a.a.createElement(g.b,{path:"/login",component:Io}),a.a.createElement(g.b,{path:"/signup",component:Co}),a.a.createElement(g.b,{path:"/pw-reset",component:So}),!Object(ae.isEmpty)(t)&&o.admin&&a.a.createElement(g.b,{path:"/admin",component:xo})))}var Ao=function(e,t,o){var a=Object(c.c)((function(e){return e.firebase.auth})),r=Object(c.c)((function(e){return e.firebase.profile})),i=Object(c.b)();Object(n.useEffect)((function(){i(E.setTheme(e))}),[i,e]),Object(n.useEffect)((function(){i(y(t))}),[i,t]),Object(n.useEffect)((function(){Object(ae.isEmpty)(a)||Object(ae.isEmpty)(r)||i(x({valid:!0}))}),[i,o,a,r])};o(430);var Do=function(){var e=Object(n.useState)(null),t=Object(l.a)(e,2),o=t[0],r=t[1],i=Object(n.useState)(null),d=Object(l.a)(i,2),b=d[0],m=d[1],h=Object(n.useState)(!0),p=Object(l.a)(h,2),g=p[0],w=p[1],y=Object(c.c)((function(e){return e.firebase.auth})),x=Object(c.c)((function(e){return e.firebase.profile})),v=Object(c.c)((function(e){return e.config.login})),k=x.isEmpty?"default":x.email;Object(ae.useFirestoreConnect)((function(){return[{collection:"config",doc:k}]}));var E=Object(c.c)((function(e){return e.firestore.ordered.config}));Ao(o,b,y);var C=Object(ae.useFirestore)(),O=Object(c.c)((function(e){return e.network.theme})),S=document.querySelector("#root");return S.style.backgroundColor=O&&O.background,Object(s.disableBodyScroll)(S),function(){var e=Object(c.b)();Object(n.useEffect)((function(){var t=function(){e(j(window.innerWidth,window.innerHeight))};return window.addEventListener("resize",t),function(){window.removeEventListener("resize",t)}}),[e])}(),Object(n.useEffect)((function(){E&&E[0]&&o!==E[0].theme&&r(Et[E[0].theme]),E&&E[0]&&b!==E[0].hotkeys&&m(E[0].hotkeys)}),[b,o,E]),Object(n.useEffect)((function(){E&&0===E.length&&r(Et[I.theme]),E&&E[0]&&setTimeout((function(){return w(!1)}),3e3)}),[E]),Object(n.useEffect)((function(){if(w(!0),setTimeout((function(){return w(!1)}),3e3),v.valid){var e=C.collection("config").doc(k);e.get().then((function(t){t.exists||e.set(I)}))}}),[C,k,v,v.valid]),Object(n.useEffect)((function(){!Object(ae.isEmpty)(y)&&Object(ae.isEmpty)(x)}),[y,x]),Object(n.useEffect)((function(){he.masterGainNode.gain.setValueAtTime(0,he.context.currentTime),he.preampGainNode.connect(he.masterGainNode),he.masterGainNode.connect(he.context.destination),he.monkeyPatch(),he.unlockAudioContext()}),[]),a.a.createElement(u.a,null,a.a.createElement(f,{show:g}),!g&&a.a.createElement(Fo,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));new Ft(0,100,"quarter",!1),new Ft(3,100,"quarter",!1),new Ft(5,100,"quarter",!1),new Ft(3,100,"quarter",!1),new Ft(0,100,"whole",!1),new Ft(3,100,"quarter",!1),new Ft(5,100,"quarter",!1),new Ft(3,100,"quarter",!1),new Ft(7,100,"whole",!1),new Ft(5,100,"quarter",!1),new Ft(3,100,"quarter",!1),new Ft(5,100,"quarter",!1);var Bo=function(){function e(t,o,n){var a=this;Object(F.a)(this,e),this.nodes=zo(),n?Object.keys(n).forEach((function(e){a[e]=n[e]})):Object.keys(ut).forEach((function(e){a[e]=Array.isArray(ut[e])?ut[e].slice():ut[e]})),this.initializeNodes(),this.notes=t,this.solo=o?1:ut.solo,this.id=Object(Q.v4)()}return Object(A.a)(e,[{key:"initializeNodes",value:function(){this.setVolume(this.volume),this.setIntensity(this.intensity),this.setPan(this.pan),this.setLPFilterFrequency(this.lpFilterFrequency),this.setLPFilterQ(this.lpFilterQ),this.setHPFilterFrequency(this.hpFilterFrequency),this.setHPFilterQ(this.hpFilterQ),this.setMute(this.mute),this.setSolo(this.solo)}},{key:"setVolume",value:function(e){this.nodes.gain.gain.setTargetAtTime(e,he.context.currentTime,.03),this.volume=e}},{key:"setIntensity",value:function(e){this.intensity=e}},{key:"setMode",value:function(e){this.mode=e}},{key:"setNotes",value:function(e){this.notes=e}},{key:"setOctave",value:function(e){this.octave=e}},{key:"setPan",value:function(e){this.nodes.panner.setPosition(e,0,1-Math.abs(e)),this.pan=e}},{key:"setWaveforms",value:function(e){this.waveforms=e}},{key:"addWaveform",value:function(e){this.waveforms.push(e)}},{key:"removeWaveform",value:function(e){if(this.waveforms.length>1){var t=this.waveforms.filter((function(t){return t!==e}));this.waveforms=t}}},{key:"setAttack",value:function(e){this.attack=e}},{key:"setDecay",value:function(e){this.decay=e}},{key:"setSustain",value:function(e){this.sustain=e}},{key:"setRelease",value:function(e){this.release=e}},{key:"setLPFilterFrequency",value:function(e){this.nodes.lpFilter.frequency.setTargetAtTime(e,he.context.currentTime,.03),this.lpFilterFrequency=e}},{key:"setLPFilterQ",value:function(e){this.nodes.lpFilter.Q.setTargetAtTime(e,he.context.currentTime,.03),this.lpFilterQ=e}},{key:"setHPFilterFrequency",value:function(e){this.nodes.hpFilter.frequency.setTargetAtTime(e,he.context.currentTime,.03),this.hpFilterFrequency=e}},{key:"setHPFilterQ",value:function(e){this.nodes.hpFilter.Q.setTargetAtTime(e,he.context.currentTime,.03),this.hpFilterQ=e}},{key:"setMute",value:function(e){this.nodes.gain.gain.setTargetAtTime(e?0:this.volume,he.context.currentTime,.03),this.mute=e}},{key:"setSolo",value:function(e){this.nodes.gain.gain.setTargetAtTime(-1===e?0:this.volume,he.context.currentTime,.03),this.solo=e}},{key:"parseSolo",value:function(e){this.solo=e?1:0}},{key:"toggleMute",value:function(){this.nodes.gain.gain.setTargetAtTime(this.mute?this.volume:0,he.context.currentTime,.03),this.mute=!this.mute}},{key:"toggleSolo",value:function(){switch(this.solo){case-1:case 0:this.solo=1;break;case 1:this.solo=-1}this.nodes.gain.gain.setTargetAtTime(-1===this.solo?0:this.volume,he.context.currentTime,.03)}},{key:"transformToPureObject",value:function(){return Object(ne.a)({},Vo(this.nodes),{volume:this.volume,intensity:this.intensity,mode:this.mode,notes:(e=this.notes,e?(Object.keys(e).forEach((function(t){var o=e[t];e[t]=[],o.forEach((function(o){e[t].push(Object.assign({},o))}))})),e):[]),octave:this.octave,waveforms:this.waveforms,attack:this.attack,decay:this.decay,sustain:this.sustain,release:this.release,pan:this.pan,mute:this.mute,solo:this.solo});var e}},{key:"updateAutomationValues",value:function(e,t,o){var n=e.filter((function(e){return e.label===t}));n[0]&&(this[t]=n[0].data.slice())}},{key:"resetAutomation",value:function(e){this[e]=ut[e].slice()}},{key:"setAutomatedVolume",value:function(e,t){this.nodes.gain.gain.exponentialRampToValueAtTime(this.volume*e===0?1e-5:e,t,.03)}},{key:"setAutomatedPan",value:function(e,t){}},{key:"setAutomatedHpFilterFrequency",value:function(e,t){this.hpFilterFrequency*e===0?this.nodes.hpFilter.frequency.setTargetAtTime(0,t,.03):this.nodes.hpFilter.frequency.exponentialRampToValueAtTime(this.hpFilterFrequency*e,t,.03)}},{key:"setAutomatedHpFilterQ",value:function(e,t){this.hpFilterQ*e===0?this.nodes.hpFilter.Q.setTargetAtTime(0,t,.03):this.nodes.hpFilter.Q.exponentialRampToValueAtTime(this.hpFilterQ*e,t,.03)}},{key:"setAutomatedLpFilterFrequency",value:function(e,t){this.lpFilterFrequency*e===0?this.nodes.lpFilter.frequency.setTargetAtTime(0,t,.03):this.nodes.lpFilter.frequency.exponentialRampToValueAtTime(this.lpFilterFrequency*e,t,.03)}},{key:"setAutomatedLpFilterQ",value:function(e,t){this.lpFilterQ*e===0?this.nodes.lpFilter.Q.setTargetAtTime(0,t,.03):this.nodes.lpFilter.Q.exponentialRampToValueAtTime(this.lpFilterQ*e,t,.03)}},{key:"setAutomatedValuesForNote",value:function(e,t){this.setAutomatedVolume(this.volumeAutomation[e],t),this.setAutomatedPan(this.panAutomation[e],t),this.setAutomatedHpFilterFrequency(this.hpFilterFrequencyAutomation[e],t),this.setAutomatedHpFilterQ(this.hpFilterQAutomation[e],t),this.setAutomatedLpFilterFrequency(this.lpFilterFrequencyAutomation[e],t),this.setAutomatedLpFilterQ(this.lpFilterQAutomation[e],t)}}],[{key:"renderFromJSON",value:function(t){return new e(t.notes,t.somethingIsSoloed,t)}}]),e}(),Vo=function(e){return{lpFilterFrequency:e.lpFilter.frequency.value,lpFilterQ:e.lpFilter.Q.value,hpFilterFrequency:e.hpFilter.frequency.value,hpFilterQ:e.hpFilter.Q.value,gain:e.gain.gain.value,pan:e.panner.positionX.value}},zo=function(){var e=Po(),t=Go(),o=_o("highpass"),n=_o("lowpass");return Ro([t,o,n,e]),{gain:e,panner:t,lpFilter:n,hpFilter:o}},Go=function(){var e=he.context.createPanner();return e.panningModel="equalpower",e},_o=function(e){var t=he.context.createBiquadFilter();return t.type=e,t},Po=function(){return he.context.createGain()},Ro=function(e){e.forEach((function(t,o){t.connect(o<e.length-1?e[o+1]:he.preampGainNode)}))},Wo=Bo,qo={theme:Et.light,loadedNetworkName:null,network:null,options:L.options,graphInfo:L.defaultData,shouldUpdateNetwork:0,elementIndex:1,selectedNodes:null,modalVisible:!1,defaultState:!0,addEdgeState:!1,multiSelectState:!1,organizeState:!1,fit:!1,unsavedChanges:!1,audio:{playing:!1,key:{label:"A",value:21},disposition:"M",masterGain:.5,masterTempo:120,nodeData:null,somethingIsMuted:!1,somethingIsSoloed:!1},networkToSave:null,shouldLoadNetwork:null},Ho=function(e){e.network.deleteSelected(e.selectedNodes),e.network.deleteSelected(e.network.getSelectedEdges());for(var t=e.graphInfo,o=t.nodes.length-1;o>-1;o--)e.selectedNodes&&e.selectedNodes.includes(t.nodes[o].id)&&t.nodes.splice(o,1);return Object(ne.a)({},e,{graphInfo:t,selectedNodes:null,shouldUpdateNetwork:e.shouldUpdateNetwork+1,unsavedChanges:!0})},Qo=function(e,t){if(null!==t)return t;e.network.unselectAll()},Uo=function(e,t,o){return e&&t&&o&&Ko(e.x,t.x,o.x)&&Ko(e.y,t.y,o.y)},Ko=function(e,t,o){return e<t&&e>o||e>t&&e<o},Zo=function(e,t){return Object(ne.a)({},e,{modalVisible:t})},Yo=function(e,t,o){var n=o[t];return Xo(e,n,o)},Xo=function e(t,o,n){var a=!0;if(o.id===t)return!1;if(o.edges&&o.edges.length>0)for(var r=0;r<o.edges.length;r++)if(o.edges[r].fromId===o.id&&!1===(a=e(t,n[o.edges[r].toId],n)))return a;return a},Jo=function(e,t,o){var n=!0;return o[e].edges.forEach((function(e){e.toId===t&&(n=!1)})),n},$o=function(e,t){var o="#"===e[0]?function(e){var t=parseInt(e.substr(1),16);return[t>>16&255,t>>8&255,255&t]}(e):e.substr(5).split(", ");return 1===t?en(o[0],o[1],o[2]):function(e,t,o,n){return"rgba(".concat(e,", ").concat(t,", ").concat(o,", ").concat(n,")")}(o[0],o[1],o[2],t)};var en=function(e,t,o){return"#"+[e,t,o].map((function(e){var t=parseInt(e).toString(16);return 1===t.length?"0"+t:t})).join("")};var tn=function(e,t,o,n){n.body.nodes[e].options.color.background=$o(n.body.nodes[e].options.color.background,o),n.body.nodes[e].options.color.border=$o(n.body.nodes[e].options.color.border,o);var a=$o(n.body.nodes[e].options.color.highlight.background,o);n.body.nodes[e].options.color.highlight.background=a,n.body.nodes[e].options.color.hover.background=a,n.body.nodes[e].options.color.state=t},on=function(e,t,o){switch(e){case"mute":tn(t,e,.2,o.network);break;case"unmute":tn(t,e,1,o.network);break;default:return}},nn=function(e,t){return e&&Object.values(e.body.nodes).forEach((function(e){"mute"===e.options.state||(e.options.color.background=t[e.options.category])})),e},an=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qo,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_NODE_CLICK":var o=Object(Q.v4)(),n=e.graphInfo.nodes.slice(),a=t.payload.pointer.canvas.x,r=t.payload.pointer.canvas.y,i=e.audio.nodeData[e.elementIndex];return i.parseSolo(e.somethingIsSoloed),n.push(Object(ne.a)({},Ct(e.theme)[e.elementIndex-1],{id:o,x:a,y:r,audioNode:i})),Object(ne.a)({},e,{graphInfo:{nodes:n,edges:e.graphInfo.edges},defaultState:!0,addEdgeState:!1,multiSelectState:!1,shouldUpdateNetwork:e.shouldUpdateNetwork+1,unsavedChanges:!0});case"ADD_NODE_MENU":var l=Object(Q.v4)(),c=e.graphInfo.nodes.slice(),s=e.elementIndex%2?30:-30,u=e.elementIndex%3?30:-30,d=e.audio.nodeData[e.elementIndex];return d.parseSolo(e.somethingIsSoloed),c.push(Object(ne.a)({},Ct(e.theme)[e.elementIndex-1],{id:l,x:s,y:u,audioNode:d})),Object(ne.a)({},e,{graphInfo:Object(ne.a)({},e.graphInfo,{nodes:c}),defaultState:!0,addEdgeState:!1,multiSelectState:!1,shouldUpdateNetwork:e.shouldUpdateNetwork+1,unsavedChanges:!0});case"ADD_EDGE":var b=e.addEdgeState?Object(ne.a)({},e.options,{manipulation:{}},e.options):Object(ne.a)({},e.options,{manipulation:Object(ne.a)({},e.options.manipulation,{addEdge:function(o,n){o.from!==o.to&&Yo(o.from,o.to,e.network.body.nodes)&&Jo(o.from,o.to,e.network.body.nodes)&&(n(o),t.dispatch(E.shouldUpdateNetwork()),e.network.addEdgeMode())}}),layout:e.options.layout,physics:e.options.physics});return e.network.setOptions(b),e.addEdgeState?e.network.disableEditMode():e.network.addEdgeMode(),Object(ne.a)({},e,{addEdgeState:!e.addEdgeState,multiSelectState:!1,defaultState:e.addEdgeState,unsavedChanges:!0});case"DEFAULT_MODE":return e.network.disableEditMode(),Object(ne.a)({},e,{options:L.options,defaultState:!0,addEdgeState:!1,multiSelectState:!1});case"DELETE_SELECTED":return e.selectedNodes&&e.selectedNodes.length>5?Zo(e,!0):Ho(e);case"DELETE":return Ho(e);case"EDIT_EDGE":return e.network.editEdgeMode(),{state:e,unsavedChanges:!0};case"FILTER_SELECTION":var m=Qo(e,t.payload);e.network.setSelection({nodes:m});var h=e.network.body.nodes[m[m.length-1]]?e.network.body.nodes[m[m.length-1]].options.atomicNumber:e.elementIndex;return Object(ne.a)({},e,{elementIndex:h,selectedNodes:m});case"FIT":return Object(ne.a)({},e,{fit:void 0===t.payload||t.payload});case"MULTISELECT":var p=t.payload,f=p.dragStart,g=p.event,w={nodes:[],positions:{}};e.graphInfo.nodes.forEach((function(e){w.nodes.push(e.id)})),w.positions=e.network.getPositions(w.nodes);var y=[];w.nodes.forEach((function(e){Uo(w.positions[e],f.canvas,g.pointer.canvas)&&y.push(e)}));var x=f.ctrl?e.network.getSelectedNodes().concat(y):y,v=Qo(e,x);return e.network.setSelection({nodes:v}),Object(ne.a)({},e,{selectedNodes:v});case"ORGANIZE":var k=e.organizeState?Object(ne.a)({},e.options,{layout:{hierarchical:Object(ne.a)({},e.options.layout.hierarchical,{enabled:!1})}}):Object(ne.a)({},e.options,{layout:{hierarchical:Object(ne.a)({},e.options.layout.hierarchical,{enabled:!0})}});return Object(ne.a)({},e,{options:k,defaultState:!0,addEdgeState:!1,multiSelectState:!1,organizeState:!e.organizeState});case"PLAY_OR_PAUSE":return Object(ne.a)({},e,{audio:Object(ne.a)({},e.audio,{playing:!e.audio.playing})});case"SELECT_ALL":var C=[];if(e.graphInfo.nodes.forEach((function(e){C.push(e.id)})),C.sort().join(",")===e.network.getSelectedNodes().sort().join(","))return e.network.unselectAll(),Object(ne.a)({},e,{selectedNodes:null});var O=Qo(e,C);return e.network.setSelection({nodes:O}),Object(ne.a)({},e,{selectedNodes:O});case"SET_NETWORK":return Object(ne.a)({},e,{network:t.payload});case"SET_DATASET":return Object(ne.a)({},e,{dataset:t.payload});case"SET_ELEMENT_INDEX":if(t.constraint){if(e.audio.node[t.payload])return Object(ne.a)({},e,{elementIndex:t.payload});if(e.elementIndex<t.payload){var j=Object.keys(e.audio.node).findIndex((function(t){return t==e.elementIndex})),S=Object.keys(e.audio.node)[j+1];return S&&"id"!==S?Object(ne.a)({},e,{elementIndex:S}):e}var N=Object.keys(e.audio.nodeData).findIndex((function(t){return t==e.elementIndex})),M=Object.keys(e.audio.nodeData)[N-1];return M&&M>0?Object(ne.a)({},e,{elementIndex:M}):e}return t.payload>0&&t.payload<=Ct(e.theme).length?Object(ne.a)({},e,{elementIndex:t.payload}):e;case"SET_MASTER_VOLUME":var I="MIDI"===t.scale?fe[t.payload]:t.payload;return he.masterGainNode.gain.setValueAtTime(I,he.context.currentTime),Object(ne.a)({},e,{unsavedChanges:!0,audio:Object(ne.a)({},e.audio,{masterGain:I})});case"SET_TEMPO":return Object(ne.a)({},e,{unsavedChanges:!0,audio:Object(ne.a)({},e.audio,{masterTempo:t.payload})});case"SET_MODAL_VISIBLE":return Zo(e,t.payload);case"SET_KEY":return Object(ne.a)({},e,{unsavedChanges:!0,audio:Object(ne.a)({},e.audio,{key:t.payload})});case"SET_DISPOSITION":return Object(ne.a)({},e,{unsavedChanges:!0,audio:Object(ne.a)({},e.audio,{disposition:t.payload})});case"SET_PIANO_ROLL_DATA":return Object(ne.a)({},e,{unsavedChanges:!0,audio:Object(ne.a)({},e.audio,{nodeData:t.payload})});case"SET_THEME":return t.payload===e.theme?e:(nn(e.network,t.payload),Object(ne.a)({},e,{theme:t.payload}));case"STOP":return Object.values(e.network.body.nodes).forEach((function(e){e.options.color.border=e.options.color.hover.border})),Object(ne.a)({},e,{audio:Object(ne.a)({},e.audio,{playing:!1})});case"TOGGLE_SELECT":var T=e.multiSelectState?Object(ne.a)({},e.options,{interaction:Object(ne.a)({},e.options.interaction,{dragView:!0})}):Object(ne.a)({},e.options,{interaction:Object(ne.a)({},e.options.interaction,{dragView:!1})});return Object(ne.a)({},e,{options:T,multiSelectState:!e.multiSelectState,addEdgeState:!1,defaultState:e.multiSelectState});case"SAVE_NETWORK":var F={name:e.loadedNetworkName,audio:{},nodes:[],edges:[],nodeData:{}};return Object.values(e.network.body.edges).forEach((function(e){F.edges.push({from:e.fromId,to:e.toId})})),e.graphInfo.nodes.forEach((function(e){F.nodes.push(Object(ne.a)({},e,{audioNode:e.audioNode.transformToPureObject()}))})),Object.keys(e.audio).forEach((function(t){F.audio=Object(ne.a)({},F.audio,Object(oe.a)({},t,e.audio[t]))})),F.audio.nodeData={},Object.keys(e.audio.nodeData).forEach((function(t){F.nodeData=Object(ne.a)({},F.nodeData,Object(oe.a)({},t,e.audio.nodeData[t].transformToPureObject()))})),Object(ne.a)({},e,{networkToSave:F,unsavedChanges:!1,audio:Object(ne.a)({},e.audio,{playing:!1})});case"LOAD_NETWORK":var A=[],D={};return t.payload.nodeData&&Object.keys(t.payload.nodeData).forEach((function(e){D=Object(ne.a)({},D,Object(oe.a)({},e,Wo.renderFromJSON(t.payload.nodeData[e])))})),t.payload.nodes&&t.payload.nodes.forEach((function(e){A.push(Object(ne.a)({},e,{audioNode:D[e.atomicNumber]}))})),Object(ne.a)({},e,{loadedNetworkName:t.payload.name,graphInfo:{nodes:A,edges:t.payload.edges},unsavedChanges:!1,audio:Object(ne.a)({},t.payload.audio,{playing:!1,nodeData:D})});case"NEW_NETWORK":return Object(ne.a)({},qo,{theme:e.theme,network:e.network});case"SET_MUTED":var B=!1;return Object.keys(e.network.body.nodes).forEach((function(t){e.selectedNodes&&e.selectedNodes.includes(t)&&(e.network.body.nodes[t].options.audioNode.toggleMute(),!0===e.network.body.nodes[t].options.audioNode.mute?on("mute",t,e):on("unmute",t,e)),e.selectedNodes&&0!==e.selectedNodes.length||(e.audio.somethingIsMuted?(on("unmute",t,e),e.network.body.nodes[t].options.audioNode.setMute(!1)):(on("mute",t,e),e.network.body.nodes[t].options.audioNode.setMute(!0))),!0===e.network.body.nodes[t].options.audioNode.mute&&(B=!0)})),Object(ne.a)({},e,{unsavedChanges:!0,audio:Object(ne.a)({},e.audio,{somethingIsMuted:B})});case"SET_SOLOED":var V=!1,z=!1;return Object.keys(e.network.body.nodes).forEach((function(t){e.selectedNodes&&e.selectedNodes.includes(t)?(1!==e.network.body.nodes[t].options.audioNode.solo?((-1===e.network.body.nodes[t].options.audioNode.solo||e.network.body.nodes[t].options.audioNode.mute)&&(on("unmute",t,e),e.network.body.nodes[t].options.audioNode.setMute(!1)),e.network.body.nodes[t].options.audioNode.setSolo(1)):(e.network.body.nodes[t].options.audioNode.setSolo(-1),on("mute",t,e)),e.network.body.nodes[t].options.audioNode.mute&&(e.network.body.nodes[t].options.audioNode.setMute(!1),on("unmute",t,e)),1!==e.network.body.nodes[t].options.audioNode.solo&&e.audio.somethingIsSoloed&&(e.network.body.nodes[t].options.audioNode.setSolo(-1),on("mute",t,e))):e.selectedNodes&&e.selectedNodes.length>0&&1!==e.network.body.nodes[t].options.audioNode.solo&&(e.network.body.nodes[t].options.audioNode.setSolo(-1),on("mute",t,e)),e.selectedNodes&&0!==e.selectedNodes.length||e.network.body.nodes[t].options.audioNode.setSolo(0),1===e.network.body.nodes[t].options.audioNode.solo&&(V=!0),!0===e.network.body.nodes[t].options.audioNode.mute&&(z=!0)})),V?Object.keys(e.network.body.nodes).forEach((function(t){1!==e.network.body.nodes[t].options.audioNode.solo&&(e.network.body.nodes[t].options.audioNode.setSolo(-1),on("mute",t,e))})):Object.keys(e.network.body.nodes).forEach((function(t){e.network.body.nodes[t].options.audioNode.setSolo(0),!1===e.network.body.nodes[t].options.audioNode.mute&&on("unmute",t,e)})),Object(ne.a)({},e,{unsavedChanges:!0,audio:Object(ne.a)({},e.audio,{somethingIsSoloed:V,somethingIsMuted:z})});case"IS_SOMETHING_MUTED_OR_SOLOED":var G=!1,_=!1;return Object.keys(e.network.body.nodes).forEach((function(t){1===e.network.body.nodes[t].options.audioNode.solo&&(_=!0),!0===e.network.body.nodes[t].options.audioNode.mute?(G=!0,"mute"!==e.network.body.nodes[t].options.color.state&&on("mute",t,e)):"mute"===e.network.body.nodes[t].options.color.state&&on("unmute",t,e)})),Object(ne.a)({},e,{unsavedChanges:!0,audio:Object(ne.a)({},e.audio,{somethingIsSoloed:_,somethingIsMuted:G})});case"CREATE_NODE_FOR_ELEMENT":return Object(ne.a)({},e,{audio:Object(ne.a)({},e.audio,{nodeData:Object(ne.a)({},e.audio.nodeData,Object(oe.a)({},t.payload,new Wo))})});case"SHOULD_UPDATE_NETWORK":return Object(ne.a)({},e,{shouldUpdateNetwork:e.shouldUpdateNetwork+1,unsavedChanges:!0});case"SET_SHOULD_SAVE_NETWORK":return Object(ne.a)({},e,{shouldSaveNetwork:!t.payload||t.payload,modalVisible:null===e.loadedNetworkName});default:return e}},rn={menuVisible:!1,sideMenuVisible:!1,labVisible:!1,modalVisible:!1,screenInfo:{breakpoint:600,width:window.innerWidth,height:window.innerHeight,isMobile:window.innerWidth<600}},ln=function(e,t,o){e.screenInfo.isMobile&&t.payload&&Object.keys(e).forEach((function(t){t!==o&&"screenInfo"!==t&&(e[t]=!1)}))},cn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_MENU_VISIBLE":return ln(e,t,"menuVisible"),Object(ne.a)({},e,{menuVisible:t.payload});case"SET_SIDE_MENU_VISIBLE":return ln(e,t,"sideMenuVisible"),Object(ne.a)({},e,{sideMenuVisible:t.payload});case"SET_LAB_VISIBLE":return ln(e,t,"labVisible"),Object(ne.a)({},e,{labVisible:t.payload});case"SET_SCREEN_DIMENSIONS":return Object(ne.a)({},e,{screenInfo:Object(ne.a)({},e.screenInfo,{width:t.payload.width,height:t.payload.height,isMobile:t.payload.width<e.screenInfo.breakpoint})});case"CLOSE_ALL":return rn;default:return e}},sn={modal:{header:null,global:null,func:null},login:{valid:!1,message:null},formFields:{username:"",email:""},hotkeys:!0,itemToUpdate:[null,null]},un=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_MODAL":return e=Object(ne.a)({},e,{modal:{component:t.payload.component,func:t.payload.func,global:t.payload.global}});case"SET_HOTKEYS":return Object(ne.a)({},e,{hotkeys:t.payload});case"SET_LOGIN":return Object(ne.a)({},e,{login:t.payload});case"SET_FORM_FIELDS":return Object(ne.a)({},e,{formFields:{username:t.username?t.username:e.formFields.username,email:t.email?t.email:e.formFields.email}});case"SET_ITEM_TO_UPDATE":return Object(ne.a)({},e,{itemToUpdate:[t.payload,t.value]});default:return e}},dn=o(475),bn=o(252),mn=o(118),hn=o.n(mn),pn=(o(431),o(433),o(52)),fn=o(168);hn.a.initializeApp({apiKey:"AIzaSyCCiHbCwvBzl1PXbExiHlSJuzEQ0nb9Uhc",authDomain:"atomizer-cdca3.firebaseapp.com",databaseURL:"https://atomizer-cdca3.firebaseio.com",projectId:"atomizer-cdca3",storageBucket:"atomizer-cdca3.appspot.com",messagingSenderId:"489734332070",appId:"1:489734332070:web:7c48e285169ff7c2711e67",measurementId:"G-PVN58D6J5X"}),hn.a.firestore();var gn=Object(pn.b)({network:an,view:cn,config:un,firebase:ae.firebaseReducer,firestore:fn.firestoreReducer}),wn=Object(pn.c)(gn),yn={firebase:hn.a,config:{userProfile:"users",useFirestoreForProfile:!0},dispatch:wn.dispatch,createFirestoreInstance:fn.createFirestoreInstance};i.a.render(a.a.createElement(c.a,{store:wn},a.a.createElement(ae.ReactReduxFirebaseProvider,yn,a.a.createElement(dn.a,{backend:bn.a},a.a.createElement(Do,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[256,1,2]]]);
//# sourceMappingURL=main.df933cf4.chunk.js.map